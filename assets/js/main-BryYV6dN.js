(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();class oe{constructor(){this.fetches={},this.responses={},this.urls={}}static normalizeUrl(e,t){return`${e}${e.endsWith("/")?"":"/"}`+(t.startsWith("/")?t.substr(1):t)}async fetchFromApi(e){this.fetches[e]||(this.fetches[e]=fetch(e));let t=await this.fetches[e];return this.responses[e]||(this.responses[e]=t.json()),await this.responses[e]}async fetchHash(e,t){if(this.urls[e])return this.urls[e][t]?this.urls[e][t].hash:!1;let a=oe.normalizeUrl(e,"api/urls.json"),i=await this.fetchFromApi(a);return i[t]?i[t].hash:!1}async fetchData(e,t){let a=oe.normalizeUrl(e,`api/${t}.json`);return this.fetchFromApi(a)}}const Be=new oe;class V extends HTMLElement{static register(e){customElements.define(e||"speedlify-score",V)}static attrs={url:"url",speedlifyUrl:"speedlify-url",hash:"hash",rawData:"raw-data",requests:"requests",weight:"weight",rank:"rank",rankChange:"rank-change",score:"score"};static css=`
:host {
	--_circle: var(--speedlify-circle);
	display: flex;
	align-items: center;
	gap: 0.375em; /* 6px /16 */
}
.circle {
	font-size: 0.8125em; /* 13px /16 */
	min-width: 2.6em;
	height: 2.6em;
	line-height: 1;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 50%;
	border: 0.15384615em solid currentColor; /* 2px /13 */
	color: var(--_circle, #666);
}
.circle-good {
	color: var(--_circle, #088846);
	border-color: var(--_circle, #0cce6b);
}
.circle-ok {
	color: var(--_circle, #A56900);
	border-color: var(--_circle, currentColor);
}
.circle-bad {
	color: var(--_circle, #EC0D00);
	border-color: var(--_circle, currentColor);
}
.meta {
	display: flex;
	align-items: center;
	gap: 0.625em; /* 10px /16 */
}
.circle + .meta {
	margin-left: 0.25em; /* 4px /16 */
}
.rank:before {
	content: "Rank #";
}
.rank-change:before {
	line-height: 1;
}
.rank-change.up {
	color: #088846;
}
.rank-change.up:before {
	content: "⬆";
}
.rank-change.down {
	color: #EC0D00;
}
.rank-change.down:before {
	content: "⬇";
}
`;connectedCallback(){if(!(!("replaceSync"in CSSStyleSheet.prototype)||this.shadowRoot)){if(this.speedlifyUrl=this.getAttribute(V.attrs.speedlifyUrl),this.shorthash=this.getAttribute(V.attrs.hash),this.rawData=this.getAttribute(V.attrs.rawData),this.url=this.getAttribute(V.attrs.url)||window.location.href,!this.rawData&&!this.speedlifyUrl){console.error(`Missing \`${V.attrs.speedlifyUrl}\` attribute:`,this);return}this.init()}}_initTemplate(e,t=!1){if(this.shadowRoot&&!t)return;if(this.shadowRoot){this.shadowRoot.innerHTML=this.render(e);return}let a=this.attachShadow({mode:"open"}),i=new CSSStyleSheet;i.replaceSync(V.css),a.adoptedStyleSheets=[i];let s=document.createElement("template");s.innerHTML=this.render(e),a.appendChild(s.content.cloneNode(!0))}async init(){if(this.rawData){let i=JSON.parse(this.rawData);this._initTemplate(i);return}let e=this.shorthash,t=!1;if(e||(this._initTemplate(),t=!0,e=await Be.fetchHash(this.speedlifyUrl,this.url)),!e){console.error(`<speedlify-score> could not find hash for URL (${this.url}):`,this);return}t||(this._initTemplate(),t=!0);let a=await Be.fetchData(this.speedlifyUrl,e);this._initTemplate(a,t)}getScoreClass(e){return e===""||e===void 0?"circle":e<.5?"circle circle-bad":e<.9?"circle circle-ok":"circle circle-good"}getScoreHtml(e,t=""){return`<span title="${e}" class="${this.getScoreClass(t)}">${t?parseInt(t*100,10):"…"}</span>`}render(e={}){let t=V.attrs,a=[];(!this.hasAttribute(t.requests)&&!this.hasAttribute(t.weight)&&!this.hasAttribute(t.rank)&&!this.hasAttribute(t.rankChange)||this.hasAttribute(t.score))&&(a.push(this.getScoreHtml("Performance",e.lighthouse?.performance)),a.push(this.getScoreHtml("Accessibility",e.lighthouse?.accessibility)),a.push(this.getScoreHtml("Best Practices",e.lighthouse?.bestPractices)),a.push(this.getScoreHtml("SEO",e.lighthouse?.seo)));let i=[],s=e.weight?.summary?.split(" • ")||[];if(this.hasAttribute(t.requests)&&s.length&&i.push(`<span class="requests">${s[0]}</span>`),this.hasAttribute(t.weight)&&s.length&&i.push(`<span class="weight">${s[1]}</span>`),e.ranks?.cumulative){if(this.hasAttribute(t.rank)){let l=this.getAttribute("rank-url");i.push(`<${l?`a href="${l}"`:"span"} class="rank">${e.ranks?.cumulative}</${l?"a":"span"}>`)}if(this.hasAttribute(t.rankChange)&&e.previousRanks){let l=e.previousRanks?.cumulative-e.ranks?.cumulative;i.push(`<span class="rank-change ${l>0?"up":l<0?"down":"same"}">${l!==0?Math.abs(l):""}</span>`)}}return i.length&&a.push(`<span class="meta">${i.join("")}</span>`),a.join("")}}"customElements"in window&&"fetch"in window&&V.register();/*!
 * iframemanager v1.3.0
 * Author Orest Bida
 * Released under the MIT License
 */(()=>{const e="click",t="{data-id}",a="accept",i="reject",s="c-h-n",l="c-h-b",h="show-ph";let m,c,d,v,p={},b={},y={},S={},D="",B={},N=[],I=new Map,q="api";const tt=["onload","onerror","src","params"],G=r=>typeof r=="function",U=r=>typeof r=="string",J=r=>c.createElement(r),L=()=>J("div"),_e=()=>{const r=J("button");return r.type="button",r},O=(r,o)=>r.className=o,H=(r,o)=>r.classList.add(o),w=(r,o)=>r.appendChild(o),le=r=>r&&Object.keys(r)||[],Z=(r,o)=>{for(const u in o)it(r,u,o[u])},rt=r=>{const o=r.dataset,u={},g="data-iframe-",_=r.getAttributeNames().filter((R=>R.slice(0,12)===g)).map((R=>R.slice(12))),f=r.querySelector("[data-placeholder]"),T=f&&f.hasAttribute("data-visible");T&&f.removeAttribute("data-visible");const E=f&&f.cloneNode(!0);for(const R of _)u[R]=r.getAttribute(g+R);return{t:o.id,o:o.title,i:o.thumbnail,l:o.params,v:r,u:null,m:f,p:E,h:null,_:!1,$:!1,S:!0,T:"widget"in o,I:T,P:u}},nt=(r,o)=>{const u=p[r];"IntersectionObserver"in m&&(g=>{y[g]=new IntersectionObserver((_=>{for(const f of _)f.isIntersecting&&(at(o,u[f.target.dataset.index]),y[g].unobserve(f.target))}));for(const _ of u)y[g].observe(_.v)})(r)},at=(r,o)=>{const u=g=>{o.h.style.backgroundImage=`url('${g}')`;const _=new Image;_.onload=()=>H(o.h,"loaded"),_.src=g};if(U(o.i))o.i!==""&&u(o.i);else if(G(r))r(o.t,(g=>u(g)));else if(U(r)){const g=r.replace(t,o.t);u(g)}},Te=(r,o)=>{if(r._)return;if(r._=!0,r.m){const E=r.p.cloneNode(!0);r.m.replaceWith(E),r.m=E}const u=o.iframe;if(G(o.onAccept))return void o.onAccept(r.v,(E=>{if(!(E instanceof HTMLIFrameElement))return!1;Z(E,u),Z(E,r.P),r.D=E,r._=!0,H(r.v,l),(!r.I||r.T)&&H(r.v,h)}));r.D=J("iframe");const g=o.iframe,_=r.l||g&&g.params;let f=o.embedUrl||"";G(f)&&(f=String(f()));let T=f.replace(t,r.t);r.o&&(r.D.title=r.o),_&&U(_)&&(T+=_.slice(0,1)==="?"?_:`?${_}`),r.D.onload=()=>{H(r.v,l),r.D.onload=void 0,G(u&&u.onload)&&u.onload(r.t,r.D)},Z(r.D,u),Z(r.D,r.P),r.D.src=T,w(r.u,r.D)},it=(r,o,u)=>{tt.includes(o)||r.setAttribute(o,u)},Re=r=>{H(r.v,s),r.S=!1},be=r=>{r.v.classList.remove(s,l,h),r.S=!0},ue=r=>(r=c.cookie.match(`(^|;)\\s*${r}\\s*=\\s*([^;]+)`))?r.pop():"",ye=(r,o,u)=>{const g=p[r],_=o.languages;g.forEach((f=>{if(!f.$&&_){const T=_[D],E=T&&T.loadBtn,R=T&&(T.notice||"").replace(t,f.t),C=T&&T.loadAllBtn,A=c.createElement("div"),k=L(),F=L(),de=L(),Q=L();O(A,"cll"),f.u=A;const Ae=()=>{Re(f),Te(f,o)};if(E){const P=_e();P.textContent=E,O(P,"c-l-b"),P.addEventListener(e,Ae),w(Q,P)}if(C){const P=_e();P.textContent=C,O(P,E?"c-la-b":"c-l-b"),P.addEventListener(e,(()=>{Ae(),q=e,Ie.acceptService(r)})),w(Q,P)}const X=L(),fe=L(),Se=L(),he=L(),ee=L();O(X,"cc-text"),O(he,"c-bg-i"),f.h=he,O(Se,"c-ld"),U(f.i)&&f.i===""||O(fe,"c-bg");const De=f.o,Ve=c.createDocumentFragment();if(De){const P=J("span");O(P,"c-tl"),P.insertAdjacentHTML("beforeend",De),w(Ve,P)}w(X,Ve),k&&X.insertAdjacentHTML("beforeend",R||""),w(F,X),O(ee,"c-t-cn"),O(F,"c-n-t"),O(de,"c-n-c"),O(k,"c-nt"),O(Q,"c-n-a"),w(ee,F),(E||C)&&w(ee,Q),w(de,ee),w(k,de),w(fe,he),w(A,k),(o.thumbnailUrl||f.i)&&w(A,fe),w(A,Se),u&&H(f.v,s),f.v.prepend(A),f.$=!0,setTimeout((()=>H(f.v,"c-an")),20)}}))},Ce=(r,o)=>{const u=p[r];u.forEach((g=>{g._||((_,f)=>{b[f]||(b[f]=new IntersectionObserver((T=>{if(S[f])b[f].disconnect();else for(let E=0;E<T.length;++E)T[E].isIntersecting&&(R=>{const C=T[R].target,A=C.dataset.index;Te(u[A],o),setTimeout((()=>{Re(u[A])}),50*R),b[f].unobserve(C)})(E)}))),b[f].observe(_)})(g.v,r)}))},we=(r,o)=>r in o?r:le(o).length>0?D in o?D:le(o)[0]:void 0,Oe=(r,o)=>{const{cookie:u}=o;ue(u.name)||(g=>{const{hostname:_,protocol:f}=location,T=g.name,E=new Date,R=g.path||"/",C=864e5*(g.expiration||182),A=g.sameSite||"Lax",k=g.domain||_;E.setTime(E.getTime()+C);let F=T+"=1"+(C!==0?`; Expires=${E.toUTCString()}`:"")+`; Path=${R}; SameSite=${A}`;k.indexOf(".")>-1&&(F+=`; Domain=${k}`),f==="https:"&&(F+="; Secure"),c.cookie=F})(u),Ce(r,o)},Pe=(r,o)=>{const{cookie:u}=o;ue(u.name)&&(g=>{const _=g.name,f=g.path||"/",T=g.domain||location.hostname;c.cookie=`${_}=; Path=${f}; Domain=${T}; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`})(u),((g,_)=>{const f=p[g];for(let T=0;T<f.length;T++)(E=>{var R;f[E]._&&(G(_.onReject)?(_.onReject(f[E].D,f[E].v,(()=>be(f[E]))),f[E]._=!1):((R=f[E]).D&&R.D.remove(),R._=!1)),be(f[E])})(T)})(r,o)},z=(r,o,u)=>{G(v)&&v({eventSource:{type:q,service:r,action:o},changedServices:u})},st=r=>{if(r.hasAttribute("data-service")){r.removeAttribute("class"),r.removeAttribute("data-index");for(const o of r.children)o.hasAttribute("data-placeholder")||o.remove()}},Ie={acceptService:r=>{const o=[];if(r==="all"){for(const u of N)S[u]=!1,I.get(u)||(I.set(u,!0),Oe(u,B[u]),o.push(u));o.length>0&&z(r,a,o)}else N.includes(r)&&(S[r]=!1,I.get(r)||(I.set(r,!0),Oe(r,B[r]),o.push(r),z(r,a,o)));q="api"},rejectService:r=>{const o=[];if(r==="all"){for(const u of N)S[u]=!0,Pe(u,B[u]),I.get(u)&&(I.set(u,!1),o.push(u));o.length>0&&z(r,i,o)}else N.includes(r)&&(S[r]=!0,Pe(r,B[r]),I.get(r)&&(I.set(r,!1),o.push(r),z(r,i,o)))},childExists:async({parent:r=m,childProperty:o,childSelector:u="iframe",timeout:g=1e3,maxTimeout:_=15e3})=>{let f=1;const T=o?()=>r[o]:()=>r.querySelector(u);return new Promise((E=>{const R=()=>{if(T()||f++*g>_)return E(T()!==void 0);setTimeout(R,g)};R()}))},getState:()=>({services:new Map(I),acceptedServices:[...I].filter((([,r])=>!!r)).map((([r])=>r))}),getConfig:()=>d,reset:r=>{if(r)for(const o of N)for(const u of p[o])st(u.v);(()=>{for(const o of N)b[o]?.disconnect(),y[o]?.disconnect(),delete b[o],delete y[o];b={},y={},S={}})(),m=void 0,c=void 0,d=void 0,v=void 0,p={},D="",B={},N=[],I=new Map,q="api",window._imRun=!1},run:r=>{if(window._imRun||(c=document,m=window,d=r,B=d.services,v=d.onChange,N=le(B),N.length===0))return;D=d.currLang;const o=B[N[0]].languages;d.autoLang===!0?D=we(navigator.language.slice(0,2).toLowerCase(),o):U(d.currLang)&&(D=we(d.currLang,o));for(const u of N){const g=B[u],_=g.cookie=g.cookie||{},f=_.name=_.name||`im_${u}`,T=ue(f);I.set(u,!!T),p[u]=[];const E=c.querySelectorAll(`div[data-service="${u}"]`),R=E.length;if(R!==0){for(let C=0;C<R;C++)E[C].dataset.index=C,p[u].push(rt(E[C]));T?(ye(u,g,!0),Ce(u,g)):ye(u,g,!1),nt(u,g.thumbnailUrl)}}window._imRun=!0}},Ne="iframemanager";typeof window>"u"||G(window[Ne])||(window[Ne]=()=>Ie)})();const ot=519,ct=475,lt=0,Le=72e-12,ut=429e-12,dt=152e-12,ft=884e-12,ge=(ut+dt+ft)/3;class ht{constructor(e){this.allowRatings=!1,this.options=e,this.KWH_PER_BYTE_FOR_NETWORK=ge}perByte(e,t){if(e<1)return 0;if(t){const i=e*Le*lt,s=e*ge*ct;return i+s}const a=Le+ge;return e*a*ot}}var Ge=ht;const gt=1e3*1e3*1e3;var pe={GIGABYTE:gt};const mt={AFG:123.71,AFRICA:545.09,ALB:24.42,DZA:633.65,ASM:647.06,AGO:167.22,ATG:611.11,ARG:344.83,ARM:243.52,ABW:550,ASEAN:573.65,ASIA:572.12,AUS:553.76,AUT:102.62,AZE:632.89,BHS:653.66,BHR:902.41,BGD:694.63,BRB:600,BLR:323.63,BEL:117.58,BLZ:155.56,BEN:590,BTN:24.19,BOL:468.02,BIH:638.05,BWA:849.42,BRA:106.06,BRN:892.67,BGR:264.21,BFA:554.91,BDI:230.77,CPV:480,KHM:497.46,CMR:285.71,CAN:184.99,CYM:642.86,CAF:0,TCD:615.39,CHL:265.52,CHN:557.5,COL:285.8,COM:642.86,COG:713.73,COD:27.04,COK:250,CRI:63.01,CIV:393.53,HRV:174.48,CUB:638.98,CYP:512.24,CZE:413.86,DNK:143.3,DJI:450,DMA:600,DOM:565.97,ECU:209.7,EGY:574.5,SLV:99.29,GNQ:605.1,ERI:590.91,EST:341.02,SWZ:142.86,ETH:23.55,EU:213.02,EUROPE:285,FLK:1e3,FRO:354.17,FJI:278.26,FIN:72.25,FRA:44.18,GUF:204.08,PYF:436.62,G20:468.38,G7:343.3,GAB:429.47,GMB:666.67,GEO:143.06,DEU:342.06,GHA:452.86,GRC:319.76,GRL:111.11,GRD:666.67,GLP:493.9,GUM:611.11,GTM:272.66,GIN:182.72,GNB:625,GUY:634.33,HTI:534.65,HND:289.5,HKG:681.99,HUN:182.82,ISL:28.33,IND:708.96,IDN:682.43,IRN:648.68,IRQ:689.4,IRL:279.79,ISR:567.26,ITA:287.75,JAM:561.25,JPN:483.73,JOR:539.21,KAZ:801.79,KEN:84.83,KIR:500,XKX:958.72,KWT:637.24,KGZ:152.65,LAO:232.12,"LATIN AMERICA AND CARIBBEAN":254.21,LVA:136.22,LBN:369.47,LSO:20.83,LBR:435.9,LBY:830.53,LTU:139.34,LUX:134.62,MAC:448.98,MDG:477.27,MWI:54.65,MYS:604.43,MDV:611.77,MLI:394.5,MLT:484.16,MTQ:516.78,MRT:481.71,MUS:633.03,MEX:483.14,"MIDDLE EAST":637.24,MDA:629.56,MNG:784.01,MNE:413.51,MSR:1e3,MAR:577.65,MOZ:127.81,MMR:569.69,NAM:47.62,NRU:750,NPL:23.36,NLD:252.7,NCL:585.76,NZL:120.11,NIC:288.33,NER:687.5,NGA:507.85,"NORTH AMERICA":358.36,PRK:344.26,MKD:568.97,NOR:30.75,OCEANIA:495.47,OECD:337.99,OMN:545.33,PAK:398.61,PSE:460.78,PAN:258.74,PNG:513.74,PRY:24.86,PER:263.27,POL:614.98,PRT:111.8,PRI:664.53,QAT:602.83,REU:525.22,ROU:245.55,RUS:446.17,RWA:301.89,KNA:636.36,LCA:650,SPM:600,VCT:600,WSM:400,STP:555.56,SAU:691.95,SEN:535.4,SRB:670.8,SYC:571.43,SLE:47.62,SGP:498.74,SVK:96.49,SVN:227.11,SLB:636.36,SOM:523.81,ZAF:713.9,KOR:415.65,SSD:610.17,ESP:146.15,LKA:509.78,SDN:214.33,SUR:383.18,SWE:35.89,CHE:36.72,SYR:682.27,TWN:635.15,TJK:98.7,TZA:371.59,THA:555.43,PHL:613.38,TGO:478.26,TON:571.43,TTO:682.11,TUN:560.25,TUR:469.7,TKM:1306.3,TCA:653.85,UGA:57.39,UKR:250.47,ARE:467.51,GBR:215.79,USA:383.55,URY:96.7,UZB:1121.18,VUT:500,VEN:180.25,VNM:486.13,VGB:647.06,VIR:641.79,WORLD:472.94,YEM:586.32,ZMB:111,ZWE:298.44};var ve={data:mt};const Et=.81,He=.52,ke=.14,Fe=.15,Me=.19,M=ve.data.WORLD,pt=50,ae=.75,ie=.25,se=.02,Je={OPERATIONAL_KWH_PER_GB_DATACENTER:.055,OPERATIONAL_KWH_PER_GB_NETWORK:.059,OPERATIONAL_KWH_PER_GB_DEVICE:.08,EMBODIED_KWH_PER_GB_DATACENTER:.012,EMBODIED_KWH_PER_GB_NETWORK:.013,EMBODIED_KWH_PER_GB_DEVICE:.081,GLOBAL_GRID_INTENSITY:494},vt={FIFTH_PERCENTILE:.095,TENTH_PERCENTILE:.186,TWENTIETH_PERCENTILE:.341,THIRTIETH_PERCENTILE:.493,FORTIETH_PERCENTILE:.656,FIFTIETH_PERCENTILE:.846},W={FIFTH_PERCENTILE:.04,TENTH_PERCENTILE:.079,TWENTIETH_PERCENTILE:.145,THIRTIETH_PERCENTILE:.209,FORTIETH_PERCENTILE:.278,FIFTIETH_PERCENTILE:.359},_t=Je.GLOBAL_GRID_INTENSITY,Y=n=>parseFloat(n.toFixed(2)),j=(n,e)=>n<=e;function Ze(n={},e=3,t=!1){const a=e===4?_t:M;if(typeof n!="object")throw new Error("Options must be an object");const i={};function s(l,h){var m,c;h||h===0?typeof h=="object"?(ve.data[(m=h.country)==null?void 0:m.toUpperCase()]||(console.warn('"'.concat(h.country,`" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information. 
Falling back to global average grid intensity.`)),i.gridIntensity[l]={value:a}),i.gridIntensity[l]={country:h.country,value:parseFloat(ve.data[(c=h.country)==null?void 0:c.toUpperCase()])}):typeof h=="number"?i.gridIntensity[l]={value:h}:(i.gridIntensity[l]={value:a},console.warn("The ".concat(l," grid intensity must be a number or an object. You passed in a ").concat(typeof h,`. 
Falling back to global average grid intensity.`))):i.gridIntensity[l]={value:a}}if(n?.gridIntensity){i.gridIntensity={};const{device:l,dataCenter:h,network:m}=n.gridIntensity;s("device",l),s("dataCenter",h),s("network",m)}else i.gridIntensity={device:{value:a},dataCenter:{value:a},network:{value:a}};return n?.greenHostingFactor||n.greenHostingFactor===0&&e===4?typeof n.greenHostingFactor=="number"?n.greenHostingFactor>=0&&n.greenHostingFactor<=1?i.greenHostingFactor=n.greenHostingFactor:(i.greenHostingFactor=0,console.warn("The returnVisitPercentage option must be a number between 0 and 1. You passed in ".concat(n.returnVisitPercentage,`. 
Falling back to default value.`))):(i.greenHostingFactor=0,console.warn("The returnVisitPercentage option must be a number. You passed in a ".concat(typeof n.returnVisitPercentage,`. 
Falling back to default value.`))):e===4&&(i.greenHostingFactor=0),t&&(i.greenHostingFactor=1),i}function Tt(n={},e=3,t=!1){if(typeof n!="object")throw new Error("Options must be an object");const a=Ze(n,e,t);return(n?.dataReloadRatio||n.dataReloadRatio===0)&&typeof n.dataReloadRatio=="number"?n.dataReloadRatio>=0&&n.dataReloadRatio<=1?a.dataReloadRatio=n.dataReloadRatio:(a.dataReloadRatio=e===3?se:0,console.warn("The dataReloadRatio option must be a number between 0 and 1. You passed in ".concat(n.dataReloadRatio,`. 
Falling back to default value.`))):(a.dataReloadRatio=e===3?se:0,console.warn("The dataReloadRatio option must be a number. You passed in a ".concat(typeof n.dataReloadRatio,`. 
Falling back to default value.`))),(n?.firstVisitPercentage||n.firstVisitPercentage===0)&&typeof n.firstVisitPercentage=="number"?n.firstVisitPercentage>=0&&n.firstVisitPercentage<=1?a.firstVisitPercentage=n.firstVisitPercentage:(a.firstVisitPercentage=e===3?ae:1,console.warn("The firstVisitPercentage option must be a number between 0 and 1. You passed in ".concat(n.firstVisitPercentage,`. 
Falling back to default value.`))):(a.firstVisitPercentage=e===3?ae:1,console.warn("The firstVisitPercentage option must be a number. You passed in a ".concat(typeof n.firstVisitPercentage,`. 
Falling back to default value.`))),(n?.returnVisitPercentage||n.returnVisitPercentage===0)&&typeof n.returnVisitPercentage=="number"?n.returnVisitPercentage>=0&&n.returnVisitPercentage<=1?a.returnVisitPercentage=n.returnVisitPercentage:(a.returnVisitPercentage=e===3?ie:0,console.warn("The returnVisitPercentage option must be a number between 0 and 1. You passed in ".concat(n.returnVisitPercentage,`. 
Falling back to default value.`))):(a.returnVisitPercentage=e===3?ie:0,console.warn("The returnVisitPercentage option must be a number. You passed in a ".concat(typeof n.returnVisitPercentage,`. 
Falling back to default value.`))),a}function ze(n,e){let{FIFTH_PERCENTILE:t,TENTH_PERCENTILE:a,TWENTIETH_PERCENTILE:i,THIRTIETH_PERCENTILE:s,FORTIETH_PERCENTILE:l,FIFTIETH_PERCENTILE:h}=vt;return e===4&&(t=W.FIFTH_PERCENTILE,a=W.TENTH_PERCENTILE,i=W.TWENTIETH_PERCENTILE,s=W.THIRTIETH_PERCENTILE,l=W.FORTIETH_PERCENTILE,h=W.FIFTIETH_PERCENTILE),j(n,t)?"A+":j(n,a)?"A":j(n,i)?"B":j(n,s)?"C":j(n,l)?"D":j(n,h)?"E":"F"}var Rt=Object.defineProperty,bt=Object.defineProperties,yt=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable,je=(n,e,t)=>e in n?Rt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,te=(n,e)=>{for(var t in e||(e={}))Ct.call(e,t)&&je(n,t,e[t]);if(We)for(var t of We(e))wt.call(e,t)&&je(n,t,e[t]);return n},re=(n,e)=>bt(n,yt(e));let Ot=class{constructor(e){this.allowRatings=!0,this.options=e,this.version=3}energyPerByteByComponent(e){const a=e/pe.GIGABYTE*Et;return{consumerDeviceEnergy:a*He,networkEnergy:a*ke,productionEnergy:a*Me,dataCenterEnergy:a*Fe}}co2byComponent(e,t=M,a={}){let i=M,s=M,l=M,h=M;if(a?.gridIntensity){const{device:c,network:d,dataCenter:v}=a.gridIntensity;(c?.value||c?.value===0)&&(i=c.value),(d?.value||d?.value===0)&&(s=d.value),(v?.value||v?.value===0)&&(l=v.value)}t===!0&&(l=pt);const m={};for(const[c,d]of Object.entries(e))c.startsWith("dataCenterEnergy")?m[c.replace("Energy","CO2")]=d*l:c.startsWith("consumerDeviceEnergy")?m[c.replace("Energy","CO2")]=d*i:c.startsWith("networkEnergy")?m[c.replace("Energy","CO2")]=d*s:m[c.replace("Energy","CO2")]=d*h;return m}perByte(e,t=!1,a=!1,i=!1,s={}){e<1&&(e=0);const l=this.energyPerByteByComponent(e,s);if(typeof t!="boolean")throw new Error("perByte expects a boolean for the carbon intensity value. Received: ".concat(t));const h=this.co2byComponent(l,t,s),c=Object.values(h).reduce((v,p)=>v+p);let d=null;return i&&(d=this.ratingScale(c)),a?i?re(te({},h),{total:c,rating:d}):re(te({},h),{total:c}):i?{total:c,rating:d}:c}perVisit(e,t=!1,a=!1,i=!1,s={}){const l=this.energyPerVisitByComponent(e,s);if(typeof t!="boolean")throw new Error("perVisit expects a boolean for the carbon intensity value. Received: ".concat(t));const h=this.co2byComponent(l,t,s),c=Object.values(h).reduce((v,p)=>v+p);let d=null;return i&&(d=this.ratingScale(c)),a?i?re(te({},h),{total:c,rating:d}):re(te({},h),{total:c}):i?{total:c,rating:d}:c}energyPerByte(e){const t=this.energyPerByteByComponent(e);return Object.values(t).reduce((i,s)=>i+s)}energyPerVisitByComponent(e,t={},a=ae,i=ie,s=se){(t.dataReloadRatio||t.dataReloadRatio===0)&&(s=t.dataReloadRatio),(t.firstVisitPercentage||t.firstVisitPercentage===0)&&(a=t.firstVisitPercentage),(t.returnVisitPercentage||t.returnVisitPercentage===0)&&(i=t.returnVisitPercentage);const l=this.energyPerByteByComponent(e),h={};Object.values(l);for(const[m,c]of Object.entries(l))h["".concat(m," - first")]=c*a,h["".concat(m," - subsequent")]=c*i*s;return h}energyPerVisit(e){let t=0,a=0;const i=Object.entries(this.energyPerVisitByComponent(e));for(const[s,l]of i)s.indexOf("first")>0&&(t+=l);for(const[s,l]of i)s.indexOf("subsequent")>0&&(a+=l);return t+a}emissionsPerVisitInGrams(e,t=M){return Y(e*t)}annualEnergyInKwh(e,t=1e3){return e*t*12}annualEmissionsInGrams(e,t=1e3){return e*t*12}annualSegmentEnergy(e){return{consumerDeviceEnergy:Y(e*He),networkEnergy:Y(e*ke),dataCenterEnergy:Y(e*Fe),productionEnergy:Y(e*Me)}}ratingScale(e){return ze(e,this.version)}};var me=Ot,Pt=Object.defineProperty,It=Object.defineProperties,Nt=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,At=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,$e=(n,e,t)=>e in n?Pt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,K=(n,e)=>{for(var t in e||(e={}))At.call(e,t)&&$e(n,t,e[t]);if(Ke)for(var t of Ke(e))St.call(e,t)&&$e(n,t,e[t]);return n},x=(n,e)=>It(n,Nt(e));const{OPERATIONAL_KWH_PER_GB_DATACENTER:Dt,OPERATIONAL_KWH_PER_GB_NETWORK:Vt,OPERATIONAL_KWH_PER_GB_DEVICE:Bt,EMBODIED_KWH_PER_GB_DATACENTER:Lt,EMBODIED_KWH_PER_GB_NETWORK:Gt,EMBODIED_KWH_PER_GB_DEVICE:Ht,GLOBAL_GRID_INTENSITY:$}=Je;function Ue(n,e){const t=n.dataCenter+n.network+n.device,a=e.dataCenter+e.network+e.device,i=n.dataCenter+e.dataCenter,s=n.network+e.network,l=n.device+e.device;return{dataCenterOperationalCO2e:n.dataCenter,networkOperationalCO2e:n.network,consumerDeviceOperationalCO2e:n.device,dataCenterEmbodiedCO2e:e.dataCenter,networkEmbodiedCO2e:e.network,consumerDeviceEmbodiedCO2e:e.device,totalEmbodiedCO2e:a,totalOperationalCO2e:t,dataCenterCO2e:i,networkCO2e:s,consumerDeviceCO2e:l}}function Ye(n,e){return n?1:e?.greenHostingFactor||e?.greenHostingFactor===0?e.greenHostingFactor:0}class kt{constructor(e){this.allowRatings=!0,this.options=e,this.version=4}operationalEnergyPerSegment(e){const t=e/pe.GIGABYTE,a=t*Dt,i=t*Vt,s=t*Bt;return{dataCenter:a,network:i,device:s}}operationalEmissions(e,t={}){const{dataCenter:a,network:i,device:s}=this.operationalEnergyPerSegment(e);let l=$,h=$,m=$;if(t?.gridIntensity){const{device:p,network:b,dataCenter:y}=t.gridIntensity;(p?.value||p?.value===0)&&(m=p.value),(b?.value||b?.value===0)&&(h=b.value),(y?.value||y?.value===0)&&(l=y.value)}const c=a*l,d=i*h,v=s*m;return{dataCenter:c,network:d,device:v}}embodiedEnergyPerSegment(e){const t=e/pe.GIGABYTE,a=t*Lt,i=t*Gt,s=t*Ht;return{dataCenter:a,network:i,device:s}}embodiedEmissions(e){const{dataCenter:t,network:a,device:i}=this.embodiedEnergyPerSegment(e),s=$,l=$,h=$,m=t*s,c=a*l,d=i*h;return{dataCenter:m,network:c,device:d}}perByte(e,t=!1,a=!1,i=!1,s={}){if(e<1)return 0;const l=this.operationalEmissions(e,s),h=this.embodiedEmissions(e),m=Ye(t,s),c={dataCenter:l.dataCenter*(1-m)+h.dataCenter,network:l.network+h.network,device:l.device+h.device},d=c.dataCenter+c.network+c.device;let v=null;if(i&&(v=this.ratingScale(d)),a){const p=K({},Ue(l,h));return i?x(K({},p),{total:d,rating:v}):x(K({},p),{total:d})}return i?{total:d,rating:v}:d}perVisit(e,t=!1,a=!1,i=!1,s={}){let l=1,h=0,m=0;const c=Ye(t,s),d=this.operationalEmissions(e,s),v=this.embodiedEmissions(e);if(e<1)return 0;(s.firstVisitPercentage||s.firstVisitPercentage===0)&&(l=s.firstVisitPercentage),(s.returnVisitPercentage||s.returnVisitPercentage===0)&&(h=s.returnVisitPercentage),(s.dataReloadRatio||s.dataReloadRatio===0)&&(m=s.dataReloadRatio);const p=d.dataCenter*(1-c)+v.dataCenter+d.network+v.network+d.device+v.device,b=p*m,y=p*l+b*h;let S=null;if(i&&(S=this.ratingScale(y)),a){const D=x(K({},Ue(d,v)),{firstVisitCO2e:p,returnVisitCO2e:b});return i?x(K({},D),{total:y,rating:S}):x(K({},D),{total:y})}return i?{total:y,rating:S}:y}ratingScale(e){return ze(e,this.version)}}var xe=kt,Ft=Object.defineProperty,ce=Object.getOwnPropertySymbols,Qe=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,qe=(n,e,t)=>e in n?Ft(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ne=(n,e)=>{for(var t in e||(e={}))Qe.call(e,t)&&qe(n,t,e[t]);if(ce)for(var t of ce(e))Xe.call(e,t)&&qe(n,t,e[t]);return n},Ee=(n,e)=>{var t={};for(var a in n)Qe.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&ce)for(var a of ce(n))e.indexOf(a)<0&&Xe.call(n,a)&&(t[a]=n[a]);return t};class Mt{constructor(e){if(this.model=new me,e?.model==="1byte")this.model=new Ge;else if(e?.model==="swd")this.model=new me,e?.version===4&&(this.model=new xe);else if(e?.model)throw new Error('"'.concat(e.model,`" is not a valid model. Please use "1byte" for the OneByte model, and "swd" for the Sustainable Web Design model.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`));if(e?.rating&&typeof e.rating!="boolean")throw new Error(`The rating option must be a boolean. Please use true or false.
See https://developers.thegreenwebfoundation.org/co2js/options/ to learn more about the options available in CO2.js.`);const t=!!this.model.allowRatings;if(this._segment=e?.results==="segment",this._rating=e?.rating===!0,!t&&this._rating)throw new Error(`The rating system is not supported in the model you are using. Try using the Sustainable Web Design model instead.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`)}perByte(e,t=!1){return this.model.perByte(e,t,this._segment,this._rating)}perVisit(e,t=!1){var a;if((a=this.model)!=null&&a.perVisit)return this.model.perVisit(e,t,this._segment,this._rating);throw new Error(`The perVisit() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}perByteTrace(e,t=!1,a={}){const i=Ze(a,this.model.version,t),s=i,{gridIntensity:l}=s,m=Ee(s,["gridIntensity"]),{dataReloadRatio:c,firstVisitPercentage:d,returnVisitPercentage:v}=m,p=Ee(m,["dataReloadRatio","firstVisitPercentage","returnVisitPercentage"]);return{co2:this.model.perByte(e,t,this._segment,this._rating,i),green:t,variables:ne({description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:ne({description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate."},i.gridIntensity)},p)}}perVisitTrace(e,t=!1,a={}){var i;if((i=this.model)!=null&&i.perVisit){const s=Tt(a,this.model.version,t),l=s,{gridIntensity:h}=l,m=Ee(l,["gridIntensity"]);return{co2:this.model.perVisit(e,t,this._segment,this._rating,s),green:t,variables:ne({description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:ne({description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate."},s.gridIntensity)},m)}}else throw new Error(`The perVisitTrace() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}SustainableWebDesignV3(){return new me}SustainableWebDesignV4(){return new xe}OneByte(){return new Ge}}var Wt=Mt,jt=Object.getOwnPropertyNames,Kt=(n,e)=>function(){return e||(0,n[jt(n)[0]])((e={exports:{}}).exports,e),e.exports},$t=Kt({"src/hosting-json.js"(n,e){async function t(c,d){return typeof c=="string"?a(c,d):s(c,d)}function a(c,d){return d.indexOf(c)>-1}function i(c){return Object.entries(c).filter(([p,b])=>b.green).map(([p,b])=>b.url)}function s(c,d){let v=[];for(let p of c)d.indexOf(p)>-1&&v.push(p);return v}function l(c,d){return typeof c=="string"?h(c,d):m(c,d)}function h(c,d){return d.indexOf(c)>-1?c:{url:c,green:!1}}function m(c,d){const v={};for(let p of c)v[p]=h(p,d);return v}e.exports={check:t,greenDomainsFromResults:i,find:l}}});$t();const Ut=new Wt;function Yt(n){return n.replace(/(\d+)+(\.(\d+))?\s?(k|m|g|t)?b?/i,function(e,t,a,i,s){return parseFloat(t+(a||""))*({K:1024,M:1<<20,G:1<<30,T:256}[s]||1)}).replace(/[^\d.-]/g,"")}async function xt(){await new Promise(e=>setTimeout(e,1e3));const n=document.getElementsByTagName("speedlify-score");if(n.length){const e=n[0].shadowRoot.childNodes[4].childNodes[0].firstChild.data,t=Yt(e),a=Ut.perVisit(t,!1),i=`You consume an average of ${a.toFixed(3)} grams of CO2 to view this page.`,s=`Consumi in media ${a.toFixed(3)} grammi di CO2 per visualizzare questa pagina.`;let l;document.documentElement.lang=="en"?l=i:l=s;const h=document.createTextNode(l);document.getElementsByClassName("estimatedCo2")[0].appendChild(h)}}xt();const et=iframemanager();et.run({currLang:document.documentElement.lang,services:{youtube:{embedUrl:"https://www.youtube-nocookie.com/embed/{data-id}",thumbnailUrl:"https://i3.ytimg.com/vi/{data-id}/hqdefault.jpg",iframe:{allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture; fullscreen;"},languages:{en:{notice:'Accept YouTube cookies to play the video.<br />Learn more about the <a rel="noreferrer noopener" href="https://www.youtube.com/t/terms">terms and conditions of youtube.com</a>',loadBtn:"Accept and load"},it:{notice:'Accetta i cookie di Youtube per riprodurre il video.<br />Scopri di più sui <a rel="noreferrer noopener" href="https://www.youtube.com/t/terms">termini e le condizioni di youtube.com</a>',loadBtn:"Accetta e carica"}}}}});et.rejectService("all");
//# sourceMappingURL=main-BryYV6dN.js.map
