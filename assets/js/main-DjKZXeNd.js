var lt=Object.defineProperty;var ut=(n,e,t)=>e in n?lt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ge=(n,e,t)=>ut(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();class oe{constructor(){this.fetches={},this.responses={},this.urls={}}static normalizeUrl(e,t){return`${e}${e.endsWith("/")?"":"/"}`+(t.startsWith("/")?t.substr(1):t)}async fetchFromApi(e){this.fetches[e]||(this.fetches[e]=fetch(e));let t=await this.fetches[e];return this.responses[e]||(this.responses[e]=t.json()),await this.responses[e]}async fetchHash(e,t){if(this.urls[e])return this.urls[e][t]?this.urls[e][t].hash:!1;let i=oe.normalizeUrl(e,"api/urls.json"),a=await this.fetchFromApi(i);return a[t]?a[t].hash:!1}async fetchData(e,t){let i=oe.normalizeUrl(e,`api/${t}.json`);return this.fetchFromApi(i)}}const Ge=new oe,S=class S extends HTMLElement{static register(e){customElements.define(e||"speedlify-score",S)}connectedCallback(){if(!(!("replaceSync"in CSSStyleSheet.prototype)||this.shadowRoot)){if(this.speedlifyUrl=this.getAttribute(S.attrs.speedlifyUrl),this.shorthash=this.getAttribute(S.attrs.hash),this.rawData=this.getAttribute(S.attrs.rawData),this.url=this.getAttribute(S.attrs.url)||window.location.href,!this.rawData&&!this.speedlifyUrl){console.error(`Missing \`${S.attrs.speedlifyUrl}\` attribute:`,this);return}this.init()}}_initTemplate(e,t=!1){if(this.shadowRoot&&!t)return;if(this.shadowRoot){this.shadowRoot.innerHTML=this.render(e);return}let i=this.attachShadow({mode:"open"}),a=new CSSStyleSheet;a.replaceSync(S.css),i.adoptedStyleSheets=[a];let s=document.createElement("template");s.innerHTML=this.render(e),i.appendChild(s.content.cloneNode(!0))}async init(){if(this.rawData){let a=JSON.parse(this.rawData);this._initTemplate(a);return}let e=this.shorthash,t=!1;if(e||(this._initTemplate(),t=!0,e=await Ge.fetchHash(this.speedlifyUrl,this.url)),!e){console.error(`<speedlify-score> could not find hash for URL (${this.url}):`,this);return}t||(this._initTemplate(),t=!0);let i=await Ge.fetchData(this.speedlifyUrl,e);this._initTemplate(i,t)}getScoreClass(e){return e===""||e===void 0?"circle":e<.5?"circle circle-bad":e<.9?"circle circle-ok":"circle circle-good"}getScoreHtml(e,t=""){return`<span title="${e}" class="${this.getScoreClass(t)}">${t?parseInt(t*100,10):"…"}</span>`}render(e={}){var d,f,m,c,u,E,p,R,y,P;let t=S.attrs,i=[];(!this.hasAttribute(t.requests)&&!this.hasAttribute(t.weight)&&!this.hasAttribute(t.rank)&&!this.hasAttribute(t.rankChange)||this.hasAttribute(t.score))&&(i.push(this.getScoreHtml("Performance",(d=e.lighthouse)==null?void 0:d.performance)),i.push(this.getScoreHtml("Accessibility",(f=e.lighthouse)==null?void 0:f.accessibility)),i.push(this.getScoreHtml("Best Practices",(m=e.lighthouse)==null?void 0:m.bestPractices)),i.push(this.getScoreHtml("SEO",(c=e.lighthouse)==null?void 0:c.seo)));let a=[],s=((E=(u=e.weight)==null?void 0:u.summary)==null?void 0:E.split(" • "))||[];if(this.hasAttribute(t.requests)&&s.length&&a.push(`<span class="requests">${s[0]}</span>`),this.hasAttribute(t.weight)&&s.length&&a.push(`<span class="weight">${s[1]}</span>`),(p=e.ranks)!=null&&p.cumulative){if(this.hasAttribute(t.rank)){let C=this.getAttribute("rank-url");a.push(`<${C?`a href="${C}"`:"span"} class="rank">${(R=e.ranks)==null?void 0:R.cumulative}</${C?"a":"span"}>`)}if(this.hasAttribute(t.rankChange)&&e.previousRanks){let C=((y=e.previousRanks)==null?void 0:y.cumulative)-((P=e.ranks)==null?void 0:P.cumulative);a.push(`<span class="rank-change ${C>0?"up":C<0?"down":"same"}">${C!==0?Math.abs(C):""}</span>`)}}return a.length&&i.push(`<span class="meta">${a.join("")}</span>`),i.join("")}};ge(S,"attrs",{url:"url",speedlifyUrl:"speedlify-url",hash:"hash",rawData:"raw-data",requests:"requests",weight:"weight",rank:"rank",rankChange:"rank-change",score:"score"}),ge(S,"css",`
:host {
	--_circle: var(--speedlify-circle);
	display: flex;
	align-items: center;
	gap: 0.375em; /* 6px /16 */
}
.circle {
	font-size: 0.8125em; /* 13px /16 */
	min-width: 2.6em;
	height: 2.6em;
	line-height: 1;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 50%;
	border: 0.15384615em solid currentColor; /* 2px /13 */
	color: var(--_circle, #666);
}
.circle-good {
	color: var(--_circle, #088846);
	border-color: var(--_circle, #0cce6b);
}
.circle-ok {
	color: var(--_circle, #A56900);
	border-color: var(--_circle, currentColor);
}
.circle-bad {
	color: var(--_circle, #EC0D00);
	border-color: var(--_circle, currentColor);
}
.meta {
	display: flex;
	align-items: center;
	gap: 0.625em; /* 10px /16 */
}
.circle + .meta {
	margin-left: 0.25em; /* 4px /16 */
}
.rank:before {
	content: "Rank #";
}
.rank-change:before {
	line-height: 1;
}
.rank-change.up {
	color: #088846;
}
.rank-change.up:before {
	content: "⬆";
}
.rank-change.down {
	color: #EC0D00;
}
.rank-change.down:before {
	content: "⬇";
}
`);let ve=S;"customElements"in window&&"fetch"in window&&ve.register();/*!
 * iframemanager v1.3.0
 * Author Orest Bida
 * Released under the MIT License
 */(()=>{const n="api",e="click",t="{data-id}",i="accept",a="reject",s="c-h-n",d="c-h-b",f="show-ph";let m,c,u,E,p={},R={},y={},P={},C="",B={},D=[],A=new Map,q=n;const nt=["onload","onerror","src","params"],G=r=>typeof r=="function",U=r=>typeof r=="string",J=r=>c.createElement(r),L=()=>J("div"),Re=()=>{const r=J("button");return r.type="button",r},I=(r,o)=>r.className=o,H=(r,o)=>r.classList.add(o),O=(r,o)=>r.appendChild(o),le=r=>r&&Object.keys(r)||[],Z=(r,o)=>{for(const l in o)ot(r,l,o[l])},it=r=>{const o=r.dataset,l={},g="data-iframe-",_=r.getAttributeNames().filter(b=>b.slice(0,12)===g).map(b=>b.slice(12)),h=r.querySelector("[data-placeholder]"),T=h&&h.hasAttribute("data-visible");T&&h.removeAttribute("data-visible");const v=h&&h.cloneNode(!0);for(const b of _)l[b]=r.getAttribute(g+b);return{t:o.id,o:o.title,i:o.thumbnail,l:o.params,v:r,u:null,m:h,p:v,h:null,_:!1,$:!1,S:!0,T:"widget"in o,I:T,P:l}},at=(r,o)=>{const l=p[r];"IntersectionObserver"in m&&(g=>{y[g]=new IntersectionObserver(_=>{for(const h of _)h.isIntersecting&&(st(o,l[h.target.dataset.index]),y[g].unobserve(h.target))});for(const _ of l)y[g].observe(_.v)})(r)},st=(r,o)=>{const l=g=>{o.h.style.backgroundImage=`url('${g}')`;const _=new Image;_.onload=()=>H(o.h,"loaded"),_.src=g};if(U(o.i))o.i!==""&&l(o.i);else if(G(r))r(o.t,g=>l(g));else if(U(r)){const g=r.replace(t,o.t);l(g)}},be=(r,o)=>{if(r._)return;if(r._=!0,r.m){const v=r.p.cloneNode(!0);r.m.replaceWith(v),r.m=v}const l=o.iframe;if(G(o.onAccept))return void o.onAccept(r.v,v=>{if(!(v instanceof HTMLIFrameElement))return!1;Z(v,l),Z(v,r.P),r.D=v,r._=!0,H(r.v,d),(!r.I||r.T)&&H(r.v,f)});r.D=J("iframe");const g=o.iframe,_=r.l||g&&g.params;let h=o.embedUrl||"";G(h)&&(h=String(h()));let T=h.replace(t,r.t);r.o&&(r.D.title=r.o),_&&U(_)&&(T+=_.slice(0,1)==="?"?_:`?${_}`),r.D.onload=()=>{H(r.v,d),r.D.onload=void 0,G(l&&l.onload)&&l.onload(r.t,r.D)},Z(r.D,l),Z(r.D,r.P),r.D.src=T,O(r.u,r.D)},ot=(r,o,l)=>{nt.includes(o)||r.setAttribute(o,l)},ye=r=>{H(r.v,s),r.S=!1},Ce=r=>{r.v.classList.remove(s,d,f),r.S=!0},ue=r=>(r=c.cookie.match(`(^|;)\\s*${r}\\s*=\\s*([^;]+)`))?r.pop():"",we=(r,o,l)=>{const g=p[r],_=o.languages;g.forEach(h=>{if(!h.$&&_){const T=_[C],v=T&&T.loadBtn,b=T&&(T.notice||"").replace(t,h.t),w=T&&T.loadAllBtn,V=c.createElement("div"),k=L(),F=L(),de=L(),Q=L();I(V,"cll"),h.u=V;const De=()=>{ye(h),be(h,o)};if(v){const N=Re();N.textContent=v,I(N,"c-l-b"),N.addEventListener(e,De),O(Q,N)}if(w){const N=Re();N.textContent=w,I(N,v?"c-la-b":"c-l-b"),N.addEventListener(e,()=>{De(),q=e,Ae.acceptService(r)}),O(Q,N)}const X=L(),fe=L(),Ve=L(),he=L(),ee=L();I(X,"cc-text"),I(he,"c-bg-i"),h.h=he,I(Ve,"c-ld"),U(h.i)&&h.i===""||I(fe,"c-bg");const Be=h.o,Le=c.createDocumentFragment();if(Be){const N=J("span");I(N,"c-tl"),N.insertAdjacentHTML("beforeend",Be),O(Le,N)}O(X,Le),k&&X.insertAdjacentHTML("beforeend",b||""),O(F,X),I(ee,"c-t-cn"),I(F,"c-n-t"),I(de,"c-n-c"),I(k,"c-nt"),I(Q,"c-n-a"),O(ee,F),(v||w)&&O(ee,Q),O(de,ee),O(k,de),O(fe,he),O(V,k),(o.thumbnailUrl||h.i)&&O(V,fe),O(V,Ve),l&&H(h.v,s),h.v.prepend(V),h.$=!0,setTimeout(()=>H(h.v,"c-an"),20)}})},Oe=(r,o)=>{const l=p[r];l.forEach(g=>{g._||((_,h)=>{R[h]||(R[h]=new IntersectionObserver(T=>{if(P[h])R[h].disconnect();else for(let v=0;v<T.length;++v)T[v].isIntersecting&&(b=>{const w=T[b].target,V=w.dataset.index;be(l[V],o),setTimeout(()=>{ye(l[V])},50*b),R[h].unobserve(w)})(v)})),R[h].observe(_)})(g.v,r)})},Pe=(r,o)=>r in o?r:le(o).length>0?C in o?C:le(o)[0]:void 0,Ie=(r,o)=>{const{cookie:l}=o;ue(l.name)||(g=>{const{hostname:_,protocol:h}=location,T=g.name,v=new Date,b=g.path||"/",w=864e5*(g.expiration||182),V=g.sameSite||"Lax",k=g.domain||_;v.setTime(v.getTime()+w);let F=T+"=1"+(w!==0?`; Expires=${v.toUTCString()}`:"")+`; Path=${b}; SameSite=${V}`;k.indexOf(".")>-1&&(F+=`; Domain=${k}`),h==="https:"&&(F+="; Secure"),c.cookie=F})(l),Oe(r,o)},Ne=(r,o)=>{const{cookie:l}=o;ue(l.name)&&(g=>{const _=g.name,h=g.path||"/",T=g.domain||location.hostname;c.cookie=`${_}=; Path=${h}; Domain=${T}; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`})(l),((g,_)=>{const h=p[g];for(let T=0;T<h.length;T++)(v=>{var b;h[v]._&&(G(_.onReject)?(_.onReject(h[v].D,h[v].v,()=>Ce(h[v])),h[v]._=!1):((b=h[v]).D&&b.D.remove(),b._=!1)),Ce(h[v])})(T)})(r,o)},z=(r,o,l)=>{G(E)&&E({eventSource:{type:q,service:r,action:o},changedServices:l})},ct=r=>{if(r.hasAttribute("data-service")){r.removeAttribute("class"),r.removeAttribute("data-index");for(const o of r.children)o.hasAttribute("data-placeholder")||o.remove()}},Ae={acceptService:r=>{const o=[];if(r==="all"){for(const l of D)P[l]=!1,A.get(l)||(A.set(l,!0),Ie(l,B[l]),o.push(l));o.length>0&&z(r,i,o)}else D.includes(r)&&(P[r]=!1,A.get(r)||(A.set(r,!0),Ie(r,B[r]),o.push(r),z(r,i,o)));q=n},rejectService:r=>{const o=[];if(r==="all"){for(const l of D)P[l]=!0,Ne(l,B[l]),A.get(l)&&(A.set(l,!1),o.push(l));o.length>0&&z(r,a,o)}else D.includes(r)&&(P[r]=!0,Ne(r,B[r]),A.get(r)&&(A.set(r,!1),o.push(r),z(r,a,o)))},childExists:async({parent:r=m,childProperty:o,childSelector:l="iframe",timeout:g=1e3,maxTimeout:_=15e3})=>{let h=1;const T=o?()=>r[o]:()=>r.querySelector(l);return new Promise(v=>{const b=()=>{if(T()||h++*g>_)return v(T()!==void 0);setTimeout(b,g)};b()})},getState:()=>({services:new Map(A),acceptedServices:[...A].filter(([,r])=>!!r).map(([r])=>r)}),getConfig:()=>u,reset:r=>{if(r)for(const o of D)for(const l of p[o])ct(l.v);(()=>{var o,l;for(const g of D)(o=R[g])==null||o.disconnect(),(l=y[g])==null||l.disconnect(),delete R[g],delete y[g];R={},y={},P={}})(),m=void 0,c=void 0,u=void 0,E=void 0,p={},C="",B={},D=[],A=new Map,q=n,window._imRun=!1},run:r=>{if(window._imRun||(c=document,m=window,u=r,B=u.services,E=u.onChange,D=le(B),D.length===0))return;C=u.currLang;const o=B[D[0]].languages;u.autoLang===!0?C=Pe(navigator.language.slice(0,2).toLowerCase(),o):U(u.currLang)&&(C=Pe(u.currLang,o));for(const l of D){const g=B[l],_=g.cookie=g.cookie||{},h=_.name=_.name||`im_${l}`,T=ue(h);A.set(l,!!T),p[l]=[];const v=c.querySelectorAll(`div[data-service="${l}"]`),b=v.length;if(b!==0){for(let w=0;w<b;w++)v[w].dataset.index=w,p[l].push(it(v[w]));T?(we(l,g,!0),Oe(l,g)):we(l,g,!1),at(l,g.thumbnailUrl)}}window._imRun=!0}},Se="iframemanager";typeof window>"u"||G(window[Se])||(window[Se]=()=>Ae)})();const dt=519,ft=475,ht=0,He=72e-12,gt=429e-12,mt=152e-12,Et=884e-12,me=(gt+mt+Et)/3;class pt{constructor(e){this.allowRatings=!1,this.options=e,this.KWH_PER_BYTE_FOR_NETWORK=me}perByte(e,t){if(e<1)return 0;if(t){const a=e*He*ht,s=e*me*ft;return a+s}const i=He+me;return e*i*dt}}var ke=pt;const vt=1e3*1e3*1e3;var _e={GIGABYTE:vt};const _t={AFG:123.71,AFRICA:541.25,ALB:24.42,DZA:633.65,ASM:647.06,AGO:167.22,ATG:611.11,ARG:353.96,ARM:262.43,ABW:550,ASEAN:567.48,ASIA:590.48,AUS:556.3,AUT:101.71,AZE:669.99,BHS:653.66,BHR:902.41,BGD:683.12,BRB:600,BLR:314.91,BEL:117.74,BLZ:155.56,BEN:590,BTN:24.19,BOL:489.11,BIH:623.4,BWA:849.42,BRA:96.4,BRN:892.67,BGR:264.71,BFA:554.91,BDI:230.77,CPV:480,KHM:470.59,CMR:285.71,CAN:165.15,CYM:642.86,CAF:0,TCD:615.39,CHL:272.1,CHN:583.61,COL:268.97,COM:642.86,COG:713.73,COD:27.04,COK:250,CRI:24.77,CIV:393.53,HRV:173.21,CUB:638.98,CYP:505.32,CZE:413.8,DNK:144.15,DJI:450,DMA:600,DOM:579.4,ECU:176.28,EGY:574.04,SLV:118.46,GNQ:605.1,ERI:590.91,EST:343.85,SWZ:142.86,ETH:23.55,EU:213.39,EUROPE:281.75,FLK:1e3,FRO:354.17,FJI:278.26,FIN:72.48,FRA:44.13,GUF:204.08,PYF:436.62,G20:477.2,G7:340.32,GAB:429.47,GMB:666.67,GEO:168.06,DEU:343.96,GHA:452.86,GRC:319.6,GRL:111.11,GRD:666.67,GLP:493.9,GUM:611.11,GTM:272.66,GIN:182.72,GNB:625,GUY:634.33,HTI:534.65,HND:289.5,HKG:681.99,HUN:182.25,ISL:28.33,IND:713.01,IDN:682.43,IRN:641.73,IRQ:689.4,IRL:284.05,ISR:567.26,ITA:286.9,JAM:561.25,JPN:493.59,JOR:539.21,KAZ:821.9,KEN:96.95,KIR:500,XKX:919.36,KWT:636.91,KGZ:150.77,LAO:232.12,"LATIN AMERICA AND CARIBBEAN":256.14,LVA:136.36,LBN:369.47,LSO:20.83,LBR:435.9,LBY:830.53,LTU:137.84,LUX:134.62,MAC:448.98,MDG:477.27,MWI:54.65,MYS:607.88,MDV:611.77,MLI:394.5,MLT:477.48,MTQ:516.78,MRT:481.71,MUS:633.03,MEX:492.34,"MIDDLE EAST":641.43,MDA:632.89,MNG:785.08,MNE:422.22,MSR:1e3,MAR:616.82,MOZ:127.81,MMR:588.95,NAM:47.62,NRU:750,NPL:23.36,NLD:255.67,NCL:585.76,NZL:104.42,NIC:288.33,NER:687.5,NGA:508.82,"NORTH AMERICA":343.02,PRK:344.26,MKD:524.62,NOR:30.32,OCEANIA:494.88,OECD:339.53,OMN:545.88,PAK:445.52,PSE:460.78,PAN:258.74,PNG:513.74,PRY:24.86,PER:287.81,POL:616.2,PRT:112.24,PRI:660.8,QAT:602.65,REU:525.22,ROU:246.02,RUS:447.87,RWA:301.89,KNA:636.36,LCA:650,SPM:600,VCT:600,WSM:400,STP:555.56,SAU:696.31,SEN:535.4,SRB:678.9,SYC:571.43,SLE:47.62,SGP:470.87,SVK:96.52,SVN:229.22,SLB:636.36,SOM:523.81,ZAF:709.69,KOR:432.11,SSD:610.17,ESP:146.26,LKA:509.78,SDN:214.33,SUR:383.18,SWE:35.92,CHE:29.44,SYR:682.27,TWN:644.36,TJK:87.5,TZA:371.59,THA:549.85,PHL:601.15,TGO:478.26,TON:571.43,TTO:682.11,TUN:560.36,TUR:441.76,TKM:1306.3,TCA:653.85,UGA:57.39,UKR:162.13,ARE:492.7,GBR:209.81,USA:369.53,URY:115.68,UZB:1121.18,VUT:500,VEN:180.25,VNM:472.47,VGB:647.06,VIR:641.79,WORLD:480.69,YEM:586.32,ZMB:111,ZWE:298.44};var Te={data:_t};const Tt=.81,Fe=.52,$e=.14,Me=.15,We=.19,$=Te.data.WORLD,Rt=50,ie=.75,ae=.25,se=.02,ze={OPERATIONAL_KWH_PER_GB_DATACENTER:.055,OPERATIONAL_KWH_PER_GB_NETWORK:.059,OPERATIONAL_KWH_PER_GB_DEVICE:.08,EMBODIED_KWH_PER_GB_DATACENTER:.012,EMBODIED_KWH_PER_GB_NETWORK:.013,EMBODIED_KWH_PER_GB_DEVICE:.081,GLOBAL_GRID_INTENSITY:494},bt={FIFTH_PERCENTILE:.095,TENTH_PERCENTILE:.186,TWENTIETH_PERCENTILE:.341,THIRTIETH_PERCENTILE:.493,FORTIETH_PERCENTILE:.656,FIFTIETH_PERCENTILE:.846},M={FIFTH_PERCENTILE:.04,TENTH_PERCENTILE:.079,TWENTIETH_PERCENTILE:.145,THIRTIETH_PERCENTILE:.209,FORTIETH_PERCENTILE:.278,FIFTIETH_PERCENTILE:.359},yt=ze.GLOBAL_GRID_INTENSITY,Y=n=>parseFloat(n.toFixed(2)),W=(n,e)=>n<=e;function Qe(n={},e=3,t=!1){const i=e===4?yt:$;if(typeof n!="object")throw new Error("Options must be an object");const a={};function s(d,f){var m,c;f||f===0?typeof f=="object"?(Te.data[(m=f.country)==null?void 0:m.toUpperCase()]||(console.warn(`"${f.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information. 
Falling back to global average grid intensity.`),a.gridIntensity[d]={value:i}),a.gridIntensity[d]={country:f.country,value:parseFloat(Te.data[(c=f.country)==null?void 0:c.toUpperCase()])}):typeof f=="number"?a.gridIntensity[d]={value:f}:(a.gridIntensity[d]={value:i},console.warn(`The ${d} grid intensity must be a number or an object. You passed in a ${typeof f}. 
Falling back to global average grid intensity.`)):a.gridIntensity[d]={value:i}}if(n!=null&&n.gridIntensity){a.gridIntensity={};const{device:d,dataCenter:f,network:m}=n.gridIntensity;s("device",d),s("dataCenter",f),s("network",m)}else a.gridIntensity={device:{value:i},dataCenter:{value:i},network:{value:i}};return n!=null&&n.greenHostingFactor||n.greenHostingFactor===0&&e===4?typeof n.greenHostingFactor=="number"?n.greenHostingFactor>=0&&n.greenHostingFactor<=1?a.greenHostingFactor=n.greenHostingFactor:(a.greenHostingFactor=0,console.warn(`The returnVisitPercentage option must be a number between 0 and 1. You passed in ${n.returnVisitPercentage}. 
Falling back to default value.`)):(a.greenHostingFactor=0,console.warn(`The returnVisitPercentage option must be a number. You passed in a ${typeof n.returnVisitPercentage}. 
Falling back to default value.`)):e===4&&(a.greenHostingFactor=0),t&&(a.greenHostingFactor=1),a}function Ct(n={},e=3,t=!1){if(typeof n!="object")throw new Error("Options must be an object");const i=Qe(n,e,t);return n!=null&&n.dataReloadRatio||n.dataReloadRatio===0?typeof n.dataReloadRatio=="number"?n.dataReloadRatio>=0&&n.dataReloadRatio<=1?i.dataReloadRatio=n.dataReloadRatio:(i.dataReloadRatio=e===3?se:0,console.warn(`The dataReloadRatio option must be a number between 0 and 1. You passed in ${n.dataReloadRatio}. 
Falling back to default value.`)):(i.dataReloadRatio=e===3?se:0,console.warn(`The dataReloadRatio option must be a number. You passed in a ${typeof n.dataReloadRatio}. 
Falling back to default value.`)):(i.dataReloadRatio=e===3?se:0,console.warn(`The dataReloadRatio option must be a number. You passed in a ${typeof n.dataReloadRatio}. 
Falling back to default value.`)),n!=null&&n.firstVisitPercentage||n.firstVisitPercentage===0?typeof n.firstVisitPercentage=="number"?n.firstVisitPercentage>=0&&n.firstVisitPercentage<=1?i.firstVisitPercentage=n.firstVisitPercentage:(i.firstVisitPercentage=e===3?ie:1,console.warn(`The firstVisitPercentage option must be a number between 0 and 1. You passed in ${n.firstVisitPercentage}. 
Falling back to default value.`)):(i.firstVisitPercentage=e===3?ie:1,console.warn(`The firstVisitPercentage option must be a number. You passed in a ${typeof n.firstVisitPercentage}. 
Falling back to default value.`)):(i.firstVisitPercentage=e===3?ie:1,console.warn(`The firstVisitPercentage option must be a number. You passed in a ${typeof n.firstVisitPercentage}. 
Falling back to default value.`)),n!=null&&n.returnVisitPercentage||n.returnVisitPercentage===0?typeof n.returnVisitPercentage=="number"?n.returnVisitPercentage>=0&&n.returnVisitPercentage<=1?i.returnVisitPercentage=n.returnVisitPercentage:(i.returnVisitPercentage=e===3?ae:0,console.warn(`The returnVisitPercentage option must be a number between 0 and 1. You passed in ${n.returnVisitPercentage}. 
Falling back to default value.`)):(i.returnVisitPercentage=e===3?ae:0,console.warn(`The returnVisitPercentage option must be a number. You passed in a ${typeof n.returnVisitPercentage}. 
Falling back to default value.`)):(i.returnVisitPercentage=e===3?ae:0,console.warn(`The returnVisitPercentage option must be a number. You passed in a ${typeof n.returnVisitPercentage}. 
Falling back to default value.`)),i}function Xe(n,e){let{FIFTH_PERCENTILE:t,TENTH_PERCENTILE:i,TWENTIETH_PERCENTILE:a,THIRTIETH_PERCENTILE:s,FORTIETH_PERCENTILE:d,FIFTIETH_PERCENTILE:f}=bt;return e===4&&(t=M.FIFTH_PERCENTILE,i=M.TENTH_PERCENTILE,a=M.TWENTIETH_PERCENTILE,s=M.THIRTIETH_PERCENTILE,d=M.FORTIETH_PERCENTILE,f=M.FIFTIETH_PERCENTILE),W(n,t)?"A+":W(n,i)?"A":W(n,a)?"B":W(n,s)?"C":W(n,d)?"D":W(n,f)?"E":"F"}var wt=Object.defineProperty,Ot=Object.defineProperties,Pt=Object.getOwnPropertyDescriptors,je=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,Ke=(n,e,t)=>e in n?wt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,te=(n,e)=>{for(var t in e||(e={}))It.call(e,t)&&Ke(n,t,e[t]);if(je)for(var t of je(e))Nt.call(e,t)&&Ke(n,t,e[t]);return n},re=(n,e)=>Ot(n,Pt(e));let At=class{constructor(e){this.allowRatings=!0,this.options=e,this.version=3}energyPerByteByComponent(e){const i=e/_e.GIGABYTE*Tt;return{consumerDeviceEnergy:i*Fe,networkEnergy:i*$e,productionEnergy:i*We,dataCenterEnergy:i*Me}}co2byComponent(e,t=$,i={}){let a=$,s=$,d=$,f=$;if(i!=null&&i.gridIntensity){const{device:c,network:u,dataCenter:E}=i.gridIntensity;(c!=null&&c.value||(c==null?void 0:c.value)===0)&&(a=c.value),(u!=null&&u.value||(u==null?void 0:u.value)===0)&&(s=u.value),(E!=null&&E.value||(E==null?void 0:E.value)===0)&&(d=E.value)}t===!0&&(d=Rt);const m={};for(const[c,u]of Object.entries(e))c.startsWith("dataCenterEnergy")?m[c.replace("Energy","CO2")]=u*d:c.startsWith("consumerDeviceEnergy")?m[c.replace("Energy","CO2")]=u*a:c.startsWith("networkEnergy")?m[c.replace("Energy","CO2")]=u*s:m[c.replace("Energy","CO2")]=u*f;return m}perByte(e,t=!1,i=!1,a=!1,s={}){e<1&&(e=0);const d=this.energyPerByteByComponent(e,s);if(typeof t!="boolean")throw new Error(`perByte expects a boolean for the carbon intensity value. Received: ${t}`);const f=this.co2byComponent(d,t,s),c=Object.values(f).reduce((E,p)=>E+p);let u=null;return a&&(u=this.ratingScale(c)),i?a?re(te({},f),{total:c,rating:u}):re(te({},f),{total:c}):a?{total:c,rating:u}:c}perVisit(e,t=!1,i=!1,a=!1,s={}){const d=this.energyPerVisitByComponent(e,s);if(typeof t!="boolean")throw new Error(`perVisit expects a boolean for the carbon intensity value. Received: ${t}`);const f=this.co2byComponent(d,t,s),c=Object.values(f).reduce((E,p)=>E+p);let u=null;return a&&(u=this.ratingScale(c)),i?a?re(te({},f),{total:c,rating:u}):re(te({},f),{total:c}):a?{total:c,rating:u}:c}energyPerByte(e){const t=this.energyPerByteByComponent(e);return Object.values(t).reduce((a,s)=>a+s)}energyPerVisitByComponent(e,t={},i=ie,a=ae,s=se){(t.dataReloadRatio||t.dataReloadRatio===0)&&(s=t.dataReloadRatio),(t.firstVisitPercentage||t.firstVisitPercentage===0)&&(i=t.firstVisitPercentage),(t.returnVisitPercentage||t.returnVisitPercentage===0)&&(a=t.returnVisitPercentage);const d=this.energyPerByteByComponent(e),f={};Object.values(d);for(const[m,c]of Object.entries(d))f[`${m} - first`]=c*i,f[`${m} - subsequent`]=c*a*s;return f}energyPerVisit(e){let t=0,i=0;const a=Object.entries(this.energyPerVisitByComponent(e));for(const[s,d]of a)s.indexOf("first")>0&&(t+=d);for(const[s,d]of a)s.indexOf("subsequent")>0&&(i+=d);return t+i}emissionsPerVisitInGrams(e,t=$){return Y(e*t)}annualEnergyInKwh(e,t=1e3){return e*t*12}annualEmissionsInGrams(e,t=1e3){return e*t*12}annualSegmentEnergy(e){return{consumerDeviceEnergy:Y(e*Fe),networkEnergy:Y(e*$e),dataCenterEnergy:Y(e*Me),productionEnergy:Y(e*We)}}ratingScale(e){return Xe(e,this.version)}};var Ee=At,St=Object.defineProperty,Dt=Object.defineProperties,Vt=Object.getOwnPropertyDescriptors,Ue=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable,Ye=(n,e,t)=>e in n?St(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||(e={}))Bt.call(e,t)&&Ye(n,t,e[t]);if(Ue)for(var t of Ue(e))Lt.call(e,t)&&Ye(n,t,e[t]);return n},x=(n,e)=>Dt(n,Vt(e));const{OPERATIONAL_KWH_PER_GB_DATACENTER:Gt,OPERATIONAL_KWH_PER_GB_NETWORK:Ht,OPERATIONAL_KWH_PER_GB_DEVICE:kt,EMBODIED_KWH_PER_GB_DATACENTER:Ft,EMBODIED_KWH_PER_GB_NETWORK:$t,EMBODIED_KWH_PER_GB_DEVICE:Mt,GLOBAL_GRID_INTENSITY:K}=ze;function xe(n,e){const t=n.dataCenter+n.network+n.device,i=e.dataCenter+e.network+e.device,a=n.dataCenter+e.dataCenter,s=n.network+e.network,d=n.device+e.device;return{dataCenterOperationalCO2e:n.dataCenter,networkOperationalCO2e:n.network,consumerDeviceOperationalCO2e:n.device,dataCenterEmbodiedCO2e:e.dataCenter,networkEmbodiedCO2e:e.network,consumerDeviceEmbodiedCO2e:e.device,totalEmbodiedCO2e:i,totalOperationalCO2e:t,dataCenterCO2e:a,networkCO2e:s,consumerDeviceCO2e:d}}function qe(n,e){return n?1:e!=null&&e.greenHostingFactor||(e==null?void 0:e.greenHostingFactor)===0?e.greenHostingFactor:0}class Wt{constructor(e){this.allowRatings=!0,this.options=e,this.version=4}operationalEnergyPerSegment(e){const t=e/_e.GIGABYTE,i=t*Gt,a=t*Ht,s=t*kt;return{dataCenter:i,network:a,device:s}}operationalEmissions(e,t={}){const{dataCenter:i,network:a,device:s}=this.operationalEnergyPerSegment(e);let d=K,f=K,m=K;if(t!=null&&t.gridIntensity){const{device:p,network:R,dataCenter:y}=t.gridIntensity;(p!=null&&p.value||(p==null?void 0:p.value)===0)&&(m=p.value),(R!=null&&R.value||(R==null?void 0:R.value)===0)&&(f=R.value),(y!=null&&y.value||(y==null?void 0:y.value)===0)&&(d=y.value)}const c=i*d,u=a*f,E=s*m;return{dataCenter:c,network:u,device:E}}embodiedEnergyPerSegment(e){const t=e/_e.GIGABYTE,i=t*Ft,a=t*$t,s=t*Mt;return{dataCenter:i,network:a,device:s}}embodiedEmissions(e){const{dataCenter:t,network:i,device:a}=this.embodiedEnergyPerSegment(e),s=K,d=K,f=K,m=t*s,c=i*d,u=a*f;return{dataCenter:m,network:c,device:u}}perByte(e,t=!1,i=!1,a=!1,s={}){if(e<1)return 0;const d=this.operationalEmissions(e,s),f=this.embodiedEmissions(e),m=qe(t,s),c={dataCenter:d.dataCenter*(1-m)+f.dataCenter,network:d.network+f.network,device:d.device+f.device},u=c.dataCenter+c.network+c.device;let E=null;if(a&&(E=this.ratingScale(u)),i){const p=j({},xe(d,f));return a?x(j({},p),{total:u,rating:E}):x(j({},p),{total:u})}return a?{total:u,rating:E}:u}perVisit(e,t=!1,i=!1,a=!1,s={}){let d=1,f=0,m=0;const c=qe(t,s),u=this.operationalEmissions(e,s),E=this.embodiedEmissions(e);if(e<1)return 0;(s.firstVisitPercentage||s.firstVisitPercentage===0)&&(d=s.firstVisitPercentage),(s.returnVisitPercentage||s.returnVisitPercentage===0)&&(f=s.returnVisitPercentage),(s.dataReloadRatio||s.dataReloadRatio===0)&&(m=s.dataReloadRatio);const p=u.dataCenter*(1-c)+E.dataCenter+u.network+E.network+u.device+E.device,R=(u.dataCenter*(1-c)+E.dataCenter+u.network+E.network+u.device+E.device)*(1-m),y=p*d+R*f;let P=null;if(a&&(P=this.ratingScale(y)),i){const C=x(j({},xe(u,E)),{firstVisitCO2e:p,returnVisitCO2e:R});return a?x(j({},C),{total:y,rating:P}):x(j({},C),{total:y})}return a?{total:y,rating:P}:y}ratingScale(e){return Xe(e,this.version)}}var Je=Wt,jt=Object.defineProperty,ce=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,Ze=(n,e,t)=>e in n?jt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ne=(n,e)=>{for(var t in e||(e={}))et.call(e,t)&&Ze(n,t,e[t]);if(ce)for(var t of ce(e))tt.call(e,t)&&Ze(n,t,e[t]);return n},pe=(n,e)=>{var t={};for(var i in n)et.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&ce)for(var i of ce(n))e.indexOf(i)<0&&tt.call(n,i)&&(t[i]=n[i]);return t};class Kt{constructor(e){if(this.model=new Ee,(e==null?void 0:e.model)==="1byte")this.model=new ke;else if((e==null?void 0:e.model)==="swd")this.model=new Ee,(e==null?void 0:e.version)===4&&(this.model=new Je);else if(e!=null&&e.model)throw new Error(`"${e.model}" is not a valid model. Please use "1byte" for the OneByte model, and "swd" for the Sustainable Web Design model.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`);if(e!=null&&e.rating&&typeof e.rating!="boolean")throw new Error(`The rating option must be a boolean. Please use true or false.
See https://developers.thegreenwebfoundation.org/co2js/options/ to learn more about the options available in CO2.js.`);const t=!!this.model.allowRatings;if(this._segment=(e==null?void 0:e.results)==="segment",this._rating=(e==null?void 0:e.rating)===!0,!t&&this._rating)throw new Error(`The rating system is not supported in the model you are using. Try using the Sustainable Web Design model instead.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`)}perByte(e,t=!1){return this.model.perByte(e,t,this._segment,this._rating)}perVisit(e,t=!1){var i;if((i=this.model)!=null&&i.perVisit)return this.model.perVisit(e,t,this._segment,this._rating);throw new Error(`The perVisit() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}perByteTrace(e,t=!1,i={}){const a=Qe(i,this.model.version,t),s=a,{gridIntensity:d}=s,m=pe(s,["gridIntensity"]),{dataReloadRatio:c,firstVisitPercentage:u,returnVisitPercentage:E}=m,p=pe(m,["dataReloadRatio","firstVisitPercentage","returnVisitPercentage"]);return{co2:this.model.perByte(e,t,this._segment,this._rating,a),green:t,variables:ne({description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:ne({description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate."},a.gridIntensity)},p)}}perVisitTrace(e,t=!1,i={}){var a;if((a=this.model)!=null&&a.perVisit){const s=Ct(i,this.model.version,t),d=s,{gridIntensity:f}=d,m=pe(d,["gridIntensity"]);return{co2:this.model.perVisit(e,t,this._segment,this._rating,s),green:t,variables:ne({description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:ne({description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate."},s.gridIntensity)},m)}}else throw new Error(`The perVisitTrace() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}SustainableWebDesignV3(){return new Ee}SustainableWebDesignV4(){return new Je}OneByte(){return new ke}}var Ut=Kt,Yt=Object.getOwnPropertyNames,xt=(n,e)=>function(){return e||(0,n[Yt(n)[0]])((e={exports:{}}).exports,e),e.exports},qt=xt({"src/hosting-json.js"(n,e){async function t(c,u){return typeof c=="string"?i(c,u):s(c,u)}function i(c,u){return u.indexOf(c)>-1}function a(c){return Object.entries(c).filter(([p,R])=>R.green).map(([p,R])=>R.url)}function s(c,u){let E=[];for(let p of c)u.indexOf(p)>-1&&E.push(p);return E}function d(c,u){return typeof c=="string"?f(c,u):m(c,u)}function f(c,u){return u.indexOf(c)>-1?c:{url:c,green:!1}}function m(c,u){const E={};for(let p of c)E[p]=f(p,u);return E}e.exports={check:t,greenDomainsFromResults:a,find:d}}});qt();const Jt=new Ut;function Zt(n){return n.replace(/(\d+)+(\.(\d+))?\s?(k|m|g|t)?b?/i,function(e,t,i,a,s){return parseFloat(t+(i||""))*({K:1024,M:1<<20,G:1<<30,T:256}[s]||1)}).replace(/[^\d.-]/g,"")}async function zt(){await new Promise(e=>setTimeout(e,1e3));const n=document.getElementsByTagName("speedlify-score");if(n.length){const e=n[0].shadowRoot.childNodes[4].childNodes[0].firstChild.data,t=Zt(e),i=Jt.perVisit(t,!1),a=`You consume an average of ${i.toFixed(3)} grams of CO2 to view this page.`,s=`Consumi in media ${i.toFixed(3)} grammi di CO2 per visualizzare questa pagina.`;let d;document.documentElement.lang=="en"?d=a:d=s;const f=document.createTextNode(d);document.getElementsByClassName("estimatedCo2")[0].appendChild(f)}}zt();const rt=iframemanager();rt.run({currLang:document.documentElement.lang,services:{youtube:{embedUrl:"https://www.youtube-nocookie.com/embed/{data-id}",thumbnailUrl:"https://i3.ytimg.com/vi/{data-id}/hqdefault.jpg",iframe:{allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture; fullscreen;"},languages:{en:{notice:'Accept YouTube cookies to play the video.<br />Learn more about the <a rel="noreferrer noopener" href="https://www.youtube.com/t/terms">terms and conditions of youtube.com</a>',loadBtn:"Accept and load"},it:{notice:'Accetta i cookie di Youtube per riprodurre il video.<br />Scopri di più sui <a rel="noreferrer noopener" href="https://www.youtube.com/t/terms">termini e le condizioni di youtube.com</a>',loadBtn:"Accetta e carica"}}}}});rt.rejectService("all");
//# sourceMappingURL=main-DjKZXeNd.js.map
