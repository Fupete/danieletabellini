var $e=Object.defineProperty;var Fe=(a,e,t)=>e in a?$e(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var te=(a,e,t)=>(Fe(a,typeof e!="symbol"?e+"":e,t),t);import{P as xe}from"./PhotoSwipe-0117c151.js";import{P as He}from"./PhotoSwipeLightbox-36b1ec8a.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();class z{constructor(){this.fetches={},this.responses={},this.urls={}}static normalizeUrl(e,t){return`${e}${e.endsWith("/")?"":"/"}`+(t.startsWith("/")?t.substr(1):t)}async fetchFromApi(e){this.fetches[e]||(this.fetches[e]=fetch(e));let t=await this.fetches[e];return this.responses[e]||(this.responses[e]=t.json()),await this.responses[e]}async fetchHash(e,t){if(this.urls[e])return this.urls[e][t]?this.urls[e][t].hash:!1;let i=z.normalizeUrl(e,"api/urls.json"),n=await this.fetchFromApi(i);return n[t]?n[t].hash:!1}async fetchData(e,t){let i=z.normalizeUrl(e,`api/${t}.json`);return this.fetchFromApi(i)}}const Ce=new z,N=class N extends HTMLElement{static register(e){customElements.define(e||"speedlify-score",N)}connectedCallback(){if(!(!("replaceSync"in CSSStyleSheet.prototype)||this.shadowRoot)){if(this.speedlifyUrl=this.getAttribute(N.attrs.speedlifyUrl),this.shorthash=this.getAttribute(N.attrs.hash),this.rawData=this.getAttribute(N.attrs.rawData),this.url=this.getAttribute(N.attrs.url)||window.location.href,!this.rawData&&!this.speedlifyUrl){console.error(`Missing \`${N.attrs.speedlifyUrl}\` attribute:`,this);return}this.init()}}_initTemplate(e,t=!1){if(this.shadowRoot&&!t)return;if(this.shadowRoot){this.shadowRoot.innerHTML=this.render(e);return}let i=this.attachShadow({mode:"open"}),n=new CSSStyleSheet;n.replaceSync(N.css),i.adoptedStyleSheets=[n];let s=document.createElement("template");s.innerHTML=this.render(e),i.appendChild(s.content.cloneNode(!0))}async init(){if(this.rawData){let n=JSON.parse(this.rawData);this._initTemplate(n);return}let e=this.shorthash,t=!1;if(e||(this._initTemplate(),t=!0,e=await Ce.fetchHash(this.speedlifyUrl,this.url)),!e){console.error(`<speedlify-score> could not find hash for URL (${this.url}):`,this);return}t||(this._initTemplate(),t=!0);let i=await Ce.fetchData(this.speedlifyUrl,e);this._initTemplate(i,t)}getScoreClass(e){return e===""||e===void 0?"circle":e<.5?"circle circle-bad":e<.9?"circle circle-ok":"circle circle-good"}getScoreHtml(e,t=""){return`<span title="${e}" class="${this.getScoreClass(t)}">${t?parseInt(t*100,10):"…"}</span>`}render(e={}){var u,d,h,c,m,P,_,R,B,I;let t=N.attrs,i=[];(!this.hasAttribute(t.requests)&&!this.hasAttribute(t.weight)&&!this.hasAttribute(t.rank)&&!this.hasAttribute(t.rankChange)||this.hasAttribute(t.score))&&(i.push(this.getScoreHtml("Performance",(u=e.lighthouse)==null?void 0:u.performance)),i.push(this.getScoreHtml("Accessibility",(d=e.lighthouse)==null?void 0:d.accessibility)),i.push(this.getScoreHtml("Best Practices",(h=e.lighthouse)==null?void 0:h.bestPractices)),i.push(this.getScoreHtml("SEO",(c=e.lighthouse)==null?void 0:c.seo)));let n=[],s=((P=(m=e.weight)==null?void 0:m.summary)==null?void 0:P.split(" • "))||[];if(this.hasAttribute(t.requests)&&s.length&&n.push(`<span class="requests">${s[0]}</span>`),this.hasAttribute(t.weight)&&s.length&&n.push(`<span class="weight">${s[1]}</span>`),(_=e.ranks)!=null&&_.cumulative){if(this.hasAttribute(t.rank)){let w=this.getAttribute("rank-url");n.push(`<${w?`a href="${w}"`:"span"} class="rank">${(R=e.ranks)==null?void 0:R.cumulative}</${w?"a":"span"}>`)}if(this.hasAttribute(t.rankChange)&&e.previousRanks){let w=((B=e.previousRanks)==null?void 0:B.cumulative)-((I=e.ranks)==null?void 0:I.cumulative);n.push(`<span class="rank-change ${w>0?"up":w<0?"down":"same"}">${w!==0?Math.abs(w):""}</span>`)}}return n.length&&i.push(`<span class="meta">${n.join("")}</span>`),i.join("")}};te(N,"attrs",{url:"url",speedlifyUrl:"speedlify-url",hash:"hash",rawData:"raw-data",requests:"requests",weight:"weight",rank:"rank",rankChange:"rank-change",score:"score"}),te(N,"css",`
:host {
	--_circle: var(--speedlify-circle);
	display: flex;
	align-items: center;
	gap: 0.375em; /* 6px /16 */
}
.circle {
	font-size: 0.8125em; /* 13px /16 */
	min-width: 2.6em;
	height: 2.6em;
	line-height: 1;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 50%;
	border: 0.15384615em solid currentColor; /* 2px /13 */
	color: var(--_circle, #666);
}
.circle-good {
	color: var(--_circle, #088846);
	border-color: var(--_circle, #0cce6b);
}
.circle-ok {
	color: var(--_circle, #A56900);
	border-color: var(--_circle, currentColor);
}
.circle-bad {
	color: var(--_circle, #EC0D00);
	border-color: var(--_circle, currentColor);
}
.meta {
	display: flex;
	align-items: center;
	gap: 0.625em; /* 10px /16 */
}
.circle + .meta {
	margin-left: 0.25em; /* 4px /16 */
}
.rank:before {
	content: "Rank #";
}
.rank-change:before {
	line-height: 1;
}
.rank-change.up {
	color: #088846;
}
.rank-change.up:before {
	content: "⬆";
}
.rank-change.down {
	color: #EC0D00;
}
.rank-change.down:before {
	content: "⬇";
}
`);let ne=N;"customElements"in window&&"fetch"in window&&ne.register();const Ke=519,We=475,Ye=0,Pe=72e-12,ze=429e-12,qe=152e-12,Ze=884e-12,re=(ze+qe+Ze)/3;class Je{constructor(e){this.options=e,this.KWH_PER_BYTE_FOR_NETWORK=re}perByte(e,t){if(e<1)return 0;if(t){const n=e*Pe*Ye,s=e*re*We;return n+s}const i=Pe+re;return e*i*Ke}}var Qe=Je;const Xe=1e3*1e3*1e3;var et={GIGABYTE:Xe};const tt={AFG:120.48,AFRICA:566.14,ALB:23.44,DZA:633.73,ASM:687.5,AGO:212.42,ATG:657.14,ARG:394.62,ARM:280.06,ABW:591.4,ASEAN:563.69,ASIA:591.37,AUS:570.35,AUT:110.48,AZE:719.39,BHS:698.11,BHR:956.55,BGD:677.38,BRB:644.86,BLR:465.34,BEL:137.68,BLZ:484.38,BEN:666.67,BTN:24.44,BOL:481.83,BIH:600,BWA:867.58,BRA:105.51,BRN:961.54,BGR:335.42,BFA:611.43,BDI:250,CPV:600,KHM:436.13,CMR:278.26,CAN:161.43,CYM:684.93,CAF:0,TCD:677.42,CHL:353.52,CHN:585.82,COL:198.53,COM:714.29,COG:723.88,COD:25.36,COK:400,CRI:37.21,CIV:453.55,HRV:204.96,CUB:677.47,CYP:535.19,CZE:449.65,DNK:151.65,DJI:666.67,DMA:529.41,DOM:592.49,ECU:192.39,EGY:570.13,SLV:211.29,GNQ:492.96,ERI:688.89,EST:416.03,SWZ:189.19,ETH:25.19,EU:243.9,EUROPE:328.46,FLK:500,FRO:428.57,FJI:289.47,FIN:79.16,FRA:56.04,GUF:237.62,PYF:471.43,G20:486.81,G7:375.24,GAB:397.38,GMB:700,GEO:176.97,DEU:380.95,GHA:498.81,GRC:336.71,GRL:133.33,GRD:714.29,GLP:536.15,GUM:670.33,GTM:331.72,GIN:208.63,GNB:750,GUY:642.28,HTI:606.06,HND:378.97,HKG:733.05,HUN:204.3,ISL:28.56,IND:705.13,IDN:675.93,IRN:665.15,IRQ:708.1,IRL:290.81,ISR:641.17,ITA:331.02,JAM:588.51,JPN:512.81,JOR:572.74,KAZ:830.41,KEN:101.13,KIR:666.67,XKX:894.65,KWT:648.72,KGZ:124.48,LAO:284.21,"LATIN AMERICA AND CARIBBEAN":265.84,LVA:123.4,LBN:663.1,LSO:20,LBR:304.35,LBY:861.69,LTU:160.07,LUX:104.35,MAC:627.12,MDG:497.61,MWI:133.8,MYS:605.83,MDV:651.52,MLI:463.13,MLT:459.14,MTQ:556.29,MRT:526.6,MUS:631.94,MEX:475.36,"MIDDLE EAST":667.83,MDA:871.66,MNG:852.82,MNE:417.07,MSR:1e3,MAR:705.67,MOZ:150.25,MMR:575.77,NAM:70.06,NRU:750,NPL:23.43,NLD:267.89,NCL:610.12,NZL:113.27,NIC:276.6,NER:622.22,NGA:483.29,"NORTH AMERICA":377.14,PRK:182.01,MKD:590.43,NOR:30.08,OCEANIA:507.09,OECD:370.15,OMN:556,PAK:435.89,PSE:511.63,PAN:175,PNG:526.75,PRY:25.39,PER:301.25,POL:661.93,PRT:165.55,PRI:719.85,QAT:602.39,REU:608.41,ROU:240.45,RUS:436.28,RWA:294.12,KNA:681.82,LCA:685.71,SPM:800,VCT:500,WSM:470.59,STP:600,SAU:706.79,SEN:685.05,SRB:634,SYC:615.39,SLE:47.62,SGP:515.28,SVK:116.77,SVN:231.28,SLB:727.27,SOM:634.15,ZAF:741.63,KOR:441.65,SSD:684.21,ESP:174.04,LKA:543.12,SDN:288.13,SUR:356.44,SWE:40.7,CHE:34.85,SYR:758.35,TWN:639.53,TJK:99.34,TZA:313.68,THA:560.74,PHL:641.96,TGO:492.06,TON:625,TTO:724.14,TUN:567.62,TUR:458.38,TKM:1306.36,TCA:703.7,UGA:52.27,UKR:194.4,ARE:561.14,GBR:237.74,USA:410.37,URY:149.49,UZB:1176.69,VUT:571.43,VEN:298.5,VNM:409.8,VGB:714.29,VIR:685.71,WORLD:490.11,YEM:613.64,ZMB:86.39,ZWE:433.38},rt="average";var M={data:tt,type:rt};const nt=.81,_e=.52,Oe=.14,Se=.15,Ae=.19,C=M.data.WORLD,ie=50,se=.75,oe=.25,ae=.02,$=a=>parseFloat(a.toFixed(2));function Te(a){var e,t,i,n,s,u;if(typeof a!="object")throw new Error("Options must be an object");const d={};if(a!=null&&a.gridIntensity){d.gridIntensity={};const{device:h,dataCenter:c,network:m}=a.gridIntensity;(h||h===0)&&(typeof h=="object"?(M.data[(e=h.country)==null?void 0:e.toUpperCase()]||(console.warn(`"${h.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information. 
Falling back to global average grid intensity.`),d.gridIntensity.device={value:C}),d.gridIntensity.device={country:h.country,value:parseFloat(M.data[(t=h.country)==null?void 0:t.toUpperCase()])}):typeof h=="number"?d.gridIntensity.device={value:h}:(d.gridIntensity.device={value:C},console.warn(`The device grid intensity must be a number or an object. You passed in a ${typeof h}. 
Falling back to global average grid intensity.`))),(c||c===0)&&(typeof c=="object"?(M.data[(i=c.country)==null?void 0:i.toUpperCase()]||(console.warn(`"${c.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information.  
Falling back to global average grid intensity.`),d.gridIntensity.dataCenter={value:C}),d.gridIntensity.dataCenter={country:c.country,value:parseFloat(M.data[(n=c.country)==null?void 0:n.toUpperCase()])}):typeof c=="number"?d.gridIntensity.dataCenter={value:c}:(d.gridIntensity.dataCenter={value:C},console.warn(`The data center grid intensity must be a number or an object. You passed in a ${typeof c}. 
Falling back to global average grid intensity.`))),(m||m===0)&&(typeof m=="object"?(M.data[(s=m.country)==null?void 0:s.toUpperCase()]||(console.warn(`"${m.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information.  Falling back to global average grid intensity. 
Falling back to global average grid intensity.`),d.gridIntensity.network={value:C}),d.gridIntensity.network={country:m.country,value:parseFloat(M.data[(u=m.country)==null?void 0:u.toUpperCase()])}):typeof m=="number"?d.gridIntensity.network={value:m}:(d.gridIntensity.network={value:C},console.warn(`The network grid intensity must be a number or an object. You passed in a ${typeof m}. 
Falling back to global average grid intensity.`)))}return(a!=null&&a.dataReloadRatio||a.dataReloadRatio===0)&&(typeof a.dataReloadRatio=="number"?a.dataReloadRatio>=0&&a.dataReloadRatio<=1?d.dataReloadRatio=a.dataReloadRatio:(d.dataReloadRatio=ae,console.warn(`The dataReloadRatio option must be a number between 0 and 1. You passed in ${a.dataReloadRatio}. 
Falling back to default value.`)):(d.dataReloadRatio=ae,console.warn(`The dataReloadRatio option must be a number. You passed in a ${typeof a.dataReloadRatio}. 
Falling back to default value.`))),(a!=null&&a.firstVisitPercentage||a.firstVisitPercentage===0)&&(typeof a.firstVisitPercentage=="number"?a.firstVisitPercentage>=0&&a.firstVisitPercentage<=1?d.firstVisitPercentage=a.firstVisitPercentage:(d.firstVisitPercentage=se,console.warn(`The firstVisitPercentage option must be a number between 0 and 1. You passed in ${a.firstVisitPercentage}. 
Falling back to default value.`)):(d.firstVisitPercentage=se,console.warn(`The firstVisitPercentage option must be a number. You passed in a ${typeof a.firstVisitPercentage}. 
Falling back to default value.`))),(a!=null&&a.returnVisitPercentage||a.returnVisitPercentage===0)&&(typeof a.returnVisitPercentage=="number"?a.returnVisitPercentage>=0&&a.returnVisitPercentage<=1?d.returnVisitPercentage=a.returnVisitPercentage:(d.returnVisitPercentage=oe,console.warn(`The returnVisitPercentage option must be a number between 0 and 1. You passed in ${a.returnVisitPercentage}. 
Falling back to default value.`)):(d.returnVisitPercentage=oe,console.warn(`The returnVisitPercentage option must be a number. You passed in a ${typeof a.returnVisitPercentage}. 
Falling back to default value.`))),d}var it=Object.defineProperty,st=Object.defineProperties,ot=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,Ne=(a,e,t)=>e in a?it(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Be=(a,e)=>{for(var t in e||(e={}))at.call(e,t)&&Ne(a,t,e[t]);if(Ie)for(var t of Ie(e))lt.call(e,t)&&Ne(a,t,e[t]);return a},Ve=(a,e)=>st(a,ot(e));class ct{constructor(e){this.options=e}energyPerByteByComponent(e){const i=e/et.GIGABYTE*nt;return{consumerDeviceEnergy:i*_e,networkEnergy:i*Oe,productionEnergy:i*Ae,dataCenterEnergy:i*Se}}co2byComponent(e,t=C,i={}){let n=C,s=C,u=C,d=C;if(i!=null&&i.gridIntensity){const{device:c,network:m,dataCenter:P}=i.gridIntensity;(c!=null&&c.value||(c==null?void 0:c.value)===0)&&(n=c.value),(m!=null&&m.value||(m==null?void 0:m.value)===0)&&(s=m.value),(P!=null&&P.value||(P==null?void 0:P.value)===0)&&(u=P.value)}t===!0&&(u=ie);const h={};for(const[c,m]of Object.entries(e))c.startsWith("dataCenterEnergy")?h[c.replace("Energy","CO2")]=m*u:c.startsWith("consumerDeviceEnergy")?h[c.replace("Energy","CO2")]=m*n:c.startsWith("networkEnergy")?h[c.replace("Energy","CO2")]=m*s:h[c.replace("Energy","CO2")]=m*d;return h}perByte(e,t=!1,i=!1,n={}){e<1&&(e=0);const s=this.energyPerByteByComponent(e,n);if(typeof t!="boolean")throw new Error(`perByte expects a boolean for the carbon intensity value. Received: ${t}`);const u=this.co2byComponent(s,t,n),h=Object.values(u).reduce((c,m)=>c+m);return i?Ve(Be({},u),{total:h}):h}perVisit(e,t=!1,i=!1,n={}){const s=this.energyPerVisitByComponent(e,n);if(typeof t!="boolean")throw new Error(`perVisit expects a boolean for the carbon intensity value. Received: ${t}`);const u=this.co2byComponent(s,t,n),h=Object.values(u).reduce((c,m)=>c+m);return i?Ve(Be({},u),{total:h}):h}energyPerByte(e){const t=this.energyPerByteByComponent(e);return Object.values(t).reduce((n,s)=>n+s)}energyPerVisitByComponent(e,t={},i=se,n=oe,s=ae){(t.dataReloadRatio||t.dataReloadRatio===0)&&(s=t.dataReloadRatio),(t.firstVisitPercentage||t.firstVisitPercentage===0)&&(i=t.firstVisitPercentage),(t.returnVisitPercentage||t.returnVisitPercentage===0)&&(n=t.returnVisitPercentage);const u=this.energyPerByteByComponent(e),d={};Object.values(u);for(const[h,c]of Object.entries(u))d[`${h} - first`]=c*i,d[`${h} - subsequent`]=c*n*s;return d}energyPerVisit(e){let t=0,i=0;const n=Object.entries(this.energyPerVisitByComponent(e));for(const[s,u]of n)s.indexOf("first")>0&&(t+=u);for(const[s,u]of n)s.indexOf("subsequent")>0&&(i+=u);return t+i}emissionsPerVisitInGrams(e,t=C){return $(e*t)}annualEnergyInKwh(e,t=1e3){return e*t*12}annualEmissionsInGrams(e,t=1e3){return e*t*12}annualSegmentEnergy(e){return{consumerDeviceEnergy:$(e*_e),networkEnergy:$(e*Oe),dataCenterEnergy:$(e*Se),productionEnergy:$(e*Ae)}}}var ke=ct;class ut{constructor(e){if(this.model=new ke,(e==null?void 0:e.model)==="1byte")this.model=new Qe;else if((e==null?void 0:e.model)==="swd")this.model=new ke;else if(e!=null&&e.model)throw new Error(`"${e.model}" is not a valid model. Please use "1byte" for the OneByte model, and "swd" for the Sustainable Web Design model.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`);this._segment=(e==null?void 0:e.results)==="segment"}perByte(e,t=!1){return this.model.perByte(e,t,this._segment)}perVisit(e,t=!1){var i;if((i=this.model)!=null&&i.perVisit)return this.model.perVisit(e,t,this._segment);throw new Error(`The perVisit() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}perByteTrace(e,t=!1,i={}){var n,s,u,d,h,c,m,P,_;let R={};return i&&(R=Te(i)),{co2:this.model.perByte(e,t,this._segment,R),green:t,variables:{description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:{description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate.",network:(u=(s=(n=R==null?void 0:R.gridIntensity)==null?void 0:n.network)==null?void 0:s.value)!=null?u:C,dataCenter:t?ie:(c=(h=(d=R==null?void 0:R.gridIntensity)==null?void 0:d.dataCenter)==null?void 0:h.value)!=null?c:C,production:C,device:(_=(P=(m=R==null?void 0:R.gridIntensity)==null?void 0:m.device)==null?void 0:P.value)!=null?_:C}}}}perVisitTrace(e,t=!1,i={}){var n,s,u,d,h,c,m,P,_,R,B,I,w;if((n=this.model)!=null&&n.perVisit){let b={};return i&&(b=Te(i)),{co2:this.model.perVisit(e,t,this._segment,b),green:t,variables:{description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:{description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate.",network:(d=(u=(s=b==null?void 0:b.gridIntensity)==null?void 0:s.network)==null?void 0:u.value)!=null?d:C,dataCenter:t?ie:(m=(c=(h=b==null?void 0:b.gridIntensity)==null?void 0:h.dataCenter)==null?void 0:c.value)!=null?m:C,production:C,device:(R=(_=(P=b==null?void 0:b.gridIntensity)==null?void 0:P.device)==null?void 0:_.value)!=null?R:C},dataReloadRatio:(B=b==null?void 0:b.dataReloadRatio)!=null?B:.02,firstVisitPercentage:(I=b==null?void 0:b.firstVisitPercentage)!=null?I:.75,returnVisitPercentage:(w=b==null?void 0:b.returnVisitPercentage)!=null?w:.25}}}else throw new Error(`The perVisitDetailed() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}perDomain(e,t){const i=[];for(let n of Object.keys(e.domains)){let s;t&&t.indexOf(n)>-1?s=this.perByte(e.domains[n].transferSize,!0):s=this.perByte(e.domains[n].transferSize),i.push({domain:n,co2:s,transferSize:e.domains[n].transferSize})}return i.sort((n,s)=>s.co2-n.co2),i}perPage(e,t){const i=this.perDomain(e,t);let n=0;for(let s of i)n+=s.co2;return n}perContentType(e,t){const i={};for(let s of e.assets){const u=new URL(s.url).domain,d=s.transferSize,h=this.perByte(d,t&&t.indexOf(u)>-1),c=s.type;i[c]||(i[c]={co2:0,transferSize:0}),i[c].co2+=h,i[c].transferSize+=d}const n=[];for(let s of Object.keys(i))n.push({type:s,co2:i[s].co2,transferSize:i[s].transferSize});return n.sort((s,u)=>u.co2-s.co2),n}dirtiestResources(e,t){const i=[];for(let n of e.assets){const s=new URL(n.url).domain,u=n.transferSize,d=this.perByte(u,t&&t.indexOf(s)>-1);i.push({url:n.url,co2:d,transferSize:u})}return i.sort((n,s)=>s.co2-n.co2),i.slice(0,i.length>10?10:i.length)}perParty(e,t){let i=0,n=0;const s=e.firstPartyRegEx;for(let u of Object.keys(e.domains))u.match(s)?i+=this.perByte(e.domains[u].transferSize,t&&t.indexOf(u)>-1):n+=this.perByte(e.domains[u].transferSize,t&&t.indexOf(u)>-1);return{firstParty:i,thirdParty:n}}}var dt=ut;const ft=new dt;function ht(a){return a.replace(/(\d+)+(\.(\d+))?\s?(k|m|g|t)?b?/i,function(e,t,i,n,s){return parseFloat(t+(i||""))*({K:1024,M:1<<20,G:1<<30,T:256}[s]||1)}).replace(/[^\d.-]/g,"")}async function mt(){await new Promise(e=>setTimeout(e,1e3));const a=document.getElementsByTagName("speedlify-score");if(a.length){const e=a[0].shadowRoot.childNodes[4].childNodes[0].firstChild.data,t=ht(e),i=ft.perVisit(t,!1),n=`You consume an average of ${i.toFixed(3)} grams of CO2 to view this page.`,s=`Consumi in media ${i.toFixed(3)} grammi di CO2 per visualizzare questa pagina.`;let u;document.documentElement.lang=="en"?u=n:u=s;const d=document.createTextNode(u);document.getElementsByClassName("estimatedCo2")[0].appendChild(d)}}mt();/*!
 * iframemanager v1.2.5
 * Author Orest Bida
 * Released under the MIT License
 */(()=>{const a="click",e="{data-id}",t="accept",i="reject",n="c-h-n",s="c-h-b",u="show-ph";let d,h,c,m,P,_={},R={},B={},I="",w={},b=new Map,q="api";const Ge=["onload","onerror","src"],j=r=>typeof r=="function",U=r=>typeof r=="string",F=r=>h.createElement(r),k=()=>F("div"),le=()=>{const r=F("button");return r.type="button",r},A=(r,o)=>r.className=o,L=(r,o)=>r.classList.add(o),S=(r,o)=>r.appendChild(o),Z=r=>r&&Object.keys(r)||[],x=(r,o)=>{for(const l in o)Ue(r,l,o[l])},De=r=>{const o=r.dataset,l={},g="data-iframe-",y=r.getAttributeNames().filter(E=>E.slice(0,12)===g).map(E=>E.slice(12)),f=r.querySelector("[data-placeholder]"),p=f&&f.hasAttribute("data-visible");p&&f.removeAttribute("data-visible");const v=f&&f.cloneNode(!0);for(const E of y)l[E]=r.getAttribute(g+E);return{t:o.id,o:o.title,i:o.thumbnail,l:o.params,u:r,m:null,v:f,p:v,h:null,_:!1,g:!1,$:!0,S:"widget"in o,T:p,I:l}},Me=(r,o)=>{const l=_[r];if("IntersectionObserver"in d){const g=new IntersectionObserver(y=>{for(const f of y)f.isIntersecting&&(je(o,l[f.target.dataset.index]),g.unobserve(f.target))});for(const y of l)g.observe(y.u)}},je=(r,o)=>{const l=g=>{o.h.style.backgroundImage=`url('${g}')`;const y=new Image;y.onload=()=>L(o.h,"loaded"),y.src=g};if(U(o.i))o.i!==""&&l(o.i);else if(j(r))r(o.t,g=>l(g));else if(U(r)){const g=r.replace(e,o.t);l(g)}},ce=(r,o)=>{if(r._)return;if(r._=!0,r.v){const p=r.p.cloneNode(!0);r.v.replaceWith(p),r.v=p}const l=o.iframe;if(j(o.onAccept))return void o.onAccept(r.u,p=>{if(!(p instanceof HTMLIFrameElement))return!1;x(p,l),x(p,r.I),r.P=p,r._=!0,L(r.u,s),(!r.T||r.S)&&L(r.u,u)});r.P=F("iframe");const g=o.iframe,y=r.l||g&&g.params;let f=(o.embedUrl||"").replace(e,r.t);r.o&&(r.P.title=r.o),y&&U(y)&&(f+=y.slice(0,1)==="?"?y:`?${y}`),r.P.onload=()=>{L(r.u,s),r.P.onload=void 0,j(l&&l.onload)&&l.onload(r.t,r.P)},x(r.P,l),x(r.P,r.I),r.P.src=f,S(r.m,r.P)},Ue=(r,o,l)=>{Ge.includes(o)||r.setAttribute(o,l)},ue=r=>{L(r.u,n),r.$=!1},de=r=>{r.u.classList.remove(n,s,u),r.$=!0},J=r=>(r=h.cookie.match(`(^|;)\\s*${r}\\s*=\\s*([^;]+)`))?r.pop():"",fe=(r,o,l)=>{const g=_[r],y=o.languages;g.forEach(f=>{if(!f.g&&y){const p=y[I],v=p&&p.loadBtn,E=p&&p.notice,O=p&&p.loadAllBtn,V=h.createElement("div"),G=k(),D=k(),Q=k(),K=k();A(V,"cll"),f.m=V;const be=()=>{ue(f),ce(f,o)};if(v){const T=le();T.textContent=v,A(T,"c-l-b"),T.addEventListener(a,be),S(K,T)}if(O){const T=le();T.textContent=O,A(T,v?"c-la-b":"c-l-b"),T.addEventListener(a,()=>{be(),q=a,ye.acceptService(r)}),S(K,T)}const W=k(),X=k(),Ee=k(),ee=k(),Y=k();A(W,"cc-text"),A(ee,"c-bg-i"),f.h=ee,A(Ee,"c-ld"),U(f.i)&&f.i===""||A(X,"c-bg");const Re=f.o,we=h.createDocumentFragment();if(Re){const T=F("span");A(T,"c-tl"),T.insertAdjacentHTML("beforeend",Re),S(we,T)}S(W,we),G&&W.insertAdjacentHTML("beforeend",E||""),S(D,W),A(Y,"c-t-cn"),A(D,"c-n-t"),A(Q,"c-n-c"),A(G,"c-nt"),A(K,"c-n-a"),S(Y,D),(v||O)&&S(Y,K),S(Q,Y),S(G,Q),S(X,ee),S(V,G),(o.thumbnailUrl||f.i)&&S(V,X),S(V,Ee),l&&L(f.u,n),f.u.prepend(V),f.g=!0,setTimeout(()=>L(f.u,"c-an"),20)}})},he=(r,o)=>{const l=_[r];l.forEach(g=>{g._||((y,f)=>{R[f]||(R[f]=new IntersectionObserver(p=>{if(B[f])R[f].disconnect();else for(let v=0;v<p.length;++v)p[v].isIntersecting&&(E=>{const O=p[E].target,V=O.dataset.index;ce(l[V],o),setTimeout(()=>{ue(l[V])},50*E),R[f].unobserve(O)})(v)})),R[f].observe(y)})(g.u,r)})},me=(r,o)=>r in o?r:Z(o).length>0?I in o?I:Z(o)[0]:void 0,ge=(r,o)=>{const{cookie:l}=o;J(l.name)||(g=>{const{hostname:y,protocol:f}=location,p=g.name,v=new Date,E=g.path||"/",O=864e5*(g.expiration||182),V=g.sameSite||"Lax",G=g.domain||y;v.setTime(v.getTime()+O);let D=p+"=1"+(O!==0?`; Expires=${v.toUTCString()}`:"")+`; Path=${E}; SameSite=${V}`;G.indexOf(".")>-1&&(D+=`; Domain=${G}`),f==="https:"&&(D+="; Secure"),h.cookie=D})(l),he(r,o)},pe=(r,o)=>{const{cookie:l}=o;J(l.name)&&(g=>{const y=g.name,f=g.path||"/",p=g.domain||location.hostname;h.cookie=`${y}=; Path=${f}; Domain=${p}; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`})(l),((g,y)=>{const f=_[g];for(let p=0;p<f.length;p++)(v=>{var E;f[v]._&&(j(y.onReject)?(y.onReject(f[v].P,f[v].u,()=>de(f[v])),f[v]._=!1):((E=f[v]).P&&E.P.remove(),E._=!1)),de(f[v])})(p)})(r,o)},H=(r,o,l)=>{j(P)&&P({eventSource:{type:q,service:r,action:o},changedServices:l})},ye={acceptService:r=>{const o=[];if(r==="all"){for(const l of m)B[l]=!1,b.get(l)||(b.set(l,!0),ge(l,w[l]),o.push(l));o.length>0&&H(r,t,o)}else m.includes(r)&&(B[r]=!1,b.get(r)||(b.set(r,!0),ge(r,w[r]),o.push(r),H(r,t,o)));q="api"},rejectService:r=>{const o=[];if(r==="all"){for(const l of m)B[l]=!0,pe(l,w[l]),b.get(l)&&(b.set(l,!1),o.push(l));o.length>0&&H(r,i,o)}else m.includes(r)&&(B[r]=!0,pe(r,w[r]),b.get(r)&&(b.set(r,!1),o.push(r),H(r,i,o)))},childExists:async({parent:r=d,childProperty:o,childSelector:l="iframe",timeout:g=1e3,maxTimeout:y=15e3})=>{let f=1;const p=o?()=>r[o]:()=>r.querySelector(l);return new Promise(v=>{const E=()=>{if(p()||f++*g>y)return v(p()!==void 0);setTimeout(E,g)};E()})},getState:()=>({services:new Map(b),acceptedServices:[...b].filter(([,r])=>!!r).map(([r])=>r)}),getConfig:()=>c,run:r=>{if(h=document,d=window,c=r,w=c.services,P=c.onChange,m=Z(w),m.length===0)return;I=c.currLang;const o=w[m[0]].languages;c.autoLang===!0?I=me(navigator.language.slice(0,2).toLowerCase(),o):U(c.currLang)&&(I=me(c.currLang,o));for(const l of m){const g=w[l],y=g.cookie=g.cookie||{},f=y.name=y.name||`im_${l}`,p=J(f);b.set(l,!!p),_[l]=[];const v=h.querySelectorAll(`div[data-service="${l}"]`),E=v.length;if(E!==0){for(let O=0;O<E;O++)v[O].dataset.index=O,_[l].push(De(v[O]));p?(fe(l,g,!0),he(l,g)):fe(l,g,!1),Me(l,g.thumbnailUrl)}}}},ve="iframemanager";typeof window>"u"||j(window[ve])||(window[ve]=()=>ye)})();const Le=iframemanager();Le.run({currLang:document.documentElement.lang,services:{youtube:{embedUrl:"https://www.youtube-nocookie.com/embed/{data-id}",thumbnailUrl:"https://i3.ytimg.com/vi/{data-id}/hqdefault.jpg",iframe:{allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture; fullscreen;"},languages:{en:{notice:'Accept YouTube cookies to play the video.<br />Learn more about the <a rel="noreferrer noopener" href="https://www.youtube.com/t/terms">terms and conditions of youtube.com</a>',loadBtn:"Accept and load"},it:{notice:'Accetta i cookie di Youtube per riprodurre il video.<br />Scopri di più sui <a rel="noreferrer noopener" href="https://www.youtube.com/t/terms">termini e le condizioni di youtube.com</a>',loadBtn:"Accetta e carica"}}}}});Le.rejectService("all");const gt=document.querySelectorAll(".gallery");gt.forEach(a=>{new He({zoomSVG:"",zoom:!1,closeSVG:"",arrowPrevSVG:"",arrowNextSVG:"",gallery:a,children:"a",showHideAnimationType:"zoom",pswpModule:xe,bgOpacity:.9,preload:[1,1],padding:{top:48,bottom:48,left:16,right:16}}).init()});
//# sourceMappingURL=main-708b2910.js.map
