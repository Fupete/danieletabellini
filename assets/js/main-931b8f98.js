var He=Object.defineProperty;var Ke=(l,e,r)=>e in l?He(l,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[e]=r;var ne=(l,e,r)=>(Ke(l,typeof e!="symbol"?e+"":e,r),r);import{P as We}from"./PhotoSwipe-65bbc9ae.js";import{P as Ye}from"./PhotoSwipeLightbox-c4308989.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();class J{constructor(){this.fetches={},this.responses={},this.urls={}}static normalizeUrl(e,r){return`${e}${e.endsWith("/")?"":"/"}`+(r.startsWith("/")?r.substr(1):r)}async fetchFromApi(e){this.fetches[e]||(this.fetches[e]=fetch(e));let r=await this.fetches[e];return this.responses[e]||(this.responses[e]=r.json()),await this.responses[e]}async fetchHash(e,r){if(this.urls[e])return this.urls[e][r]?this.urls[e][r].hash:!1;let i=J.normalizeUrl(e,"api/urls.json"),n=await this.fetchFromApi(i);return n[r]?n[r].hash:!1}async fetchData(e,r){let i=J.normalizeUrl(e,`api/${r}.json`);return this.fetchFromApi(i)}}const Se=new J,V=class V extends HTMLElement{static register(e){customElements.define(e||"speedlify-score",V)}connectedCallback(){if(!(!("replaceSync"in CSSStyleSheet.prototype)||this.shadowRoot)){if(this.speedlifyUrl=this.getAttribute(V.attrs.speedlifyUrl),this.shorthash=this.getAttribute(V.attrs.hash),this.rawData=this.getAttribute(V.attrs.rawData),this.url=this.getAttribute(V.attrs.url)||window.location.href,!this.rawData&&!this.speedlifyUrl){console.error(`Missing \`${V.attrs.speedlifyUrl}\` attribute:`,this);return}this.init()}}_initTemplate(e,r=!1){if(this.shadowRoot&&!r)return;if(this.shadowRoot){this.shadowRoot.innerHTML=this.render(e);return}let i=this.attachShadow({mode:"open"}),n=new CSSStyleSheet;n.replaceSync(V.css),i.adoptedStyleSheets=[n];let o=document.createElement("template");o.innerHTML=this.render(e),i.appendChild(o.content.cloneNode(!0))}async init(){if(this.rawData){let n=JSON.parse(this.rawData);this._initTemplate(n);return}let e=this.shorthash,r=!1;if(e||(this._initTemplate(),r=!0,e=await Se.fetchHash(this.speedlifyUrl,this.url)),!e){console.error(`<speedlify-score> could not find hash for URL (${this.url}):`,this);return}r||(this._initTemplate(),r=!0);let i=await Se.fetchData(this.speedlifyUrl,e);this._initTemplate(i,r)}getScoreClass(e){return e===""||e===void 0?"circle":e<.5?"circle circle-bad":e<.9?"circle circle-ok":"circle circle-good"}getScoreHtml(e,r=""){return`<span title="${e}" class="${this.getScoreClass(r)}">${r?parseInt(r*100,10):"…"}</span>`}render(e={}){var d,f,g,c,m,C,S,w,I,N;let r=V.attrs,i=[];(!this.hasAttribute(r.requests)&&!this.hasAttribute(r.weight)&&!this.hasAttribute(r.rank)&&!this.hasAttribute(r.rankChange)||this.hasAttribute(r.score))&&(i.push(this.getScoreHtml("Performance",(d=e.lighthouse)==null?void 0:d.performance)),i.push(this.getScoreHtml("Accessibility",(f=e.lighthouse)==null?void 0:f.accessibility)),i.push(this.getScoreHtml("Best Practices",(g=e.lighthouse)==null?void 0:g.bestPractices)),i.push(this.getScoreHtml("SEO",(c=e.lighthouse)==null?void 0:c.seo)));let n=[],o=((C=(m=e.weight)==null?void 0:m.summary)==null?void 0:C.split(" • "))||[];if(this.hasAttribute(r.requests)&&o.length&&n.push(`<span class="requests">${o[0]}</span>`),this.hasAttribute(r.weight)&&o.length&&n.push(`<span class="weight">${o[1]}</span>`),(S=e.ranks)!=null&&S.cumulative){if(this.hasAttribute(r.rank)){let _=this.getAttribute("rank-url");n.push(`<${_?`a href="${_}"`:"span"} class="rank">${(w=e.ranks)==null?void 0:w.cumulative}</${_?"a":"span"}>`)}if(this.hasAttribute(r.rankChange)&&e.previousRanks){let _=((I=e.previousRanks)==null?void 0:I.cumulative)-((N=e.ranks)==null?void 0:N.cumulative);n.push(`<span class="rank-change ${_>0?"up":_<0?"down":"same"}">${_!==0?Math.abs(_):""}</span>`)}}return n.length&&i.push(`<span class="meta">${n.join("")}</span>`),i.join("")}};ne(V,"attrs",{url:"url",speedlifyUrl:"speedlify-url",hash:"hash",rawData:"raw-data",requests:"requests",weight:"weight",rank:"rank",rankChange:"rank-change",score:"score"}),ne(V,"css",`
:host {
	--_circle: var(--speedlify-circle);
	display: flex;
	align-items: center;
	gap: 0.375em; /* 6px /16 */
}
.circle {
	font-size: 0.8125em; /* 13px /16 */
	min-width: 2.6em;
	height: 2.6em;
	line-height: 1;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 50%;
	border: 0.15384615em solid currentColor; /* 2px /13 */
	color: var(--_circle, #666);
}
.circle-good {
	color: var(--_circle, #088846);
	border-color: var(--_circle, #0cce6b);
}
.circle-ok {
	color: var(--_circle, #A56900);
	border-color: var(--_circle, currentColor);
}
.circle-bad {
	color: var(--_circle, #EC0D00);
	border-color: var(--_circle, currentColor);
}
.meta {
	display: flex;
	align-items: center;
	gap: 0.625em; /* 10px /16 */
}
.circle + .meta {
	margin-left: 0.25em; /* 4px /16 */
}
.rank:before {
	content: "Rank #";
}
.rank-change:before {
	line-height: 1;
}
.rank-change.up {
	color: #088846;
}
.rank-change.up:before {
	content: "⬆";
}
.rank-change.down {
	color: #EC0D00;
}
.rank-change.down:before {
	content: "⬇";
}
`);let oe=V;"customElements"in window&&"fetch"in window&&oe.register();const ze=519,qe=475,Ze=0,Pe=72e-12,Je=429e-12,Qe=152e-12,Xe=884e-12,ie=(Je+Qe+Xe)/3;class et{constructor(e){this.options=e,this.KWH_PER_BYTE_FOR_NETWORK=ie}perByte(e,r){if(e<1)return 0;if(r){const n=e*Pe*Ze,o=e*ie*qe;return n+o}const i=Pe+ie;return e*i*ze}}var tt=et;const rt=1e3*1e3*1e3;var nt={GIGABYTE:rt};const it={AFG:120.48,AFRICA:566.14,ALB:23.44,DZA:633.73,ASM:687.5,AGO:212.42,ATG:657.14,ARG:394.62,ARM:280.06,ABW:591.4,ASEAN:563.69,ASIA:591.37,AUS:570.35,AUT:110.48,AZE:719.39,BHS:698.11,BHR:956.55,BGD:677.38,BRB:644.86,BLR:465.34,BEL:137.68,BLZ:484.38,BEN:666.67,BTN:24.44,BOL:481.83,BIH:600,BWA:867.58,BRA:105.51,BRN:961.54,BGR:335.42,BFA:611.43,BDI:250,CPV:600,KHM:436.13,CMR:278.26,CAN:161.43,CYM:684.93,CAF:0,TCD:677.42,CHL:353.52,CHN:585.82,COL:198.53,COM:714.29,COG:723.88,COD:25.36,COK:400,CRI:37.21,CIV:453.55,HRV:204.96,CUB:677.47,CYP:535.19,CZE:449.65,DNK:151.65,DJI:666.67,DMA:529.41,DOM:592.49,ECU:192.39,EGY:570.13,SLV:211.29,GNQ:492.96,ERI:688.89,EST:416.03,SWZ:189.19,ETH:25.19,EU:243.9,EUROPE:328.46,FLK:500,FRO:428.57,FJI:289.47,FIN:79.16,FRA:56.04,GUF:237.62,PYF:471.43,G20:486.81,G7:375.24,GAB:397.38,GMB:700,GEO:176.97,DEU:380.95,GHA:498.81,GRC:336.71,GRL:133.33,GRD:714.29,GLP:536.15,GUM:670.33,GTM:331.72,GIN:208.63,GNB:750,GUY:642.28,HTI:606.06,HND:378.97,HKG:733.05,HUN:204.3,ISL:28.56,IND:705.13,IDN:675.93,IRN:665.15,IRQ:708.1,IRL:290.81,ISR:641.17,ITA:331.02,JAM:588.51,JPN:512.81,JOR:572.74,KAZ:830.41,KEN:101.13,KIR:666.67,XKX:894.65,KWT:648.72,KGZ:124.48,LAO:284.21,"LATIN AMERICA AND CARIBBEAN":265.84,LVA:123.4,LBN:663.1,LSO:20,LBR:304.35,LBY:861.69,LTU:160.07,LUX:104.35,MAC:627.12,MDG:497.61,MWI:133.8,MYS:605.83,MDV:651.52,MLI:463.13,MLT:459.14,MTQ:556.29,MRT:526.6,MUS:631.94,MEX:475.36,"MIDDLE EAST":667.83,MDA:871.66,MNG:852.82,MNE:417.07,MSR:1e3,MAR:705.67,MOZ:150.25,MMR:575.77,NAM:70.06,NRU:750,NPL:23.43,NLD:267.89,NCL:610.12,NZL:113.27,NIC:276.6,NER:622.22,NGA:483.29,"NORTH AMERICA":377.14,PRK:182.01,MKD:590.43,NOR:30.08,OCEANIA:507.09,OECD:370.15,OMN:556,PAK:435.89,PSE:511.63,PAN:175,PNG:526.75,PRY:25.39,PER:301.25,POL:661.93,PRT:165.55,PRI:719.85,QAT:602.39,REU:608.41,ROU:240.45,RUS:436.28,RWA:294.12,KNA:681.82,LCA:685.71,SPM:800,VCT:500,WSM:470.59,STP:600,SAU:706.79,SEN:685.05,SRB:634,SYC:615.39,SLE:47.62,SGP:515.28,SVK:116.77,SVN:231.28,SLB:727.27,SOM:634.15,ZAF:741.63,KOR:441.65,SSD:684.21,ESP:174.04,LKA:543.12,SDN:288.13,SUR:356.44,SWE:40.7,CHE:34.85,SYR:758.35,TWN:639.53,TJK:99.34,TZA:313.68,THA:560.74,PHL:641.96,TGO:492.06,TON:625,TTO:724.14,TUN:567.62,TUR:458.38,TKM:1306.36,TCA:703.7,UGA:52.27,UKR:194.4,ARE:561.14,GBR:237.74,USA:410.37,URY:149.49,UZB:1176.69,VUT:571.43,VEN:298.5,VNM:409.8,VGB:714.29,VIR:685.71,WORLD:490.11,YEM:613.64,ZMB:86.39,ZWE:433.38},ot="average";var U={data:it,type:ot};const st=.81,Oe=.52,Ae=.14,Te=.15,Ie=.19,R=U.data.WORLD,se=50,ae=.75,le=.25,ce=.02,x=l=>parseFloat(l.toFixed(2));function Ne(l){var e,r,i,n,o,d;if(typeof l!="object")throw new Error("Options must be an object");const f={};if(l!=null&&l.gridIntensity){f.gridIntensity={};const{device:g,dataCenter:c,network:m}=l.gridIntensity;(g||g===0)&&(typeof g=="object"?(U.data[(e=g.country)==null?void 0:e.toUpperCase()]||(console.warn(`"${g.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information. 
Falling back to global average grid intensity.`),f.gridIntensity.device={value:R}),f.gridIntensity.device={country:g.country,value:parseFloat(U.data[(r=g.country)==null?void 0:r.toUpperCase()])}):typeof g=="number"?f.gridIntensity.device={value:g}:(f.gridIntensity.device={value:R},console.warn(`The device grid intensity must be a number or an object. You passed in a ${typeof g}. 
Falling back to global average grid intensity.`))),(c||c===0)&&(typeof c=="object"?(U.data[(i=c.country)==null?void 0:i.toUpperCase()]||(console.warn(`"${c.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information.  
Falling back to global average grid intensity.`),f.gridIntensity.dataCenter={value:R}),f.gridIntensity.dataCenter={country:c.country,value:parseFloat(U.data[(n=c.country)==null?void 0:n.toUpperCase()])}):typeof c=="number"?f.gridIntensity.dataCenter={value:c}:(f.gridIntensity.dataCenter={value:R},console.warn(`The data center grid intensity must be a number or an object. You passed in a ${typeof c}. 
Falling back to global average grid intensity.`))),(m||m===0)&&(typeof m=="object"?(U.data[(o=m.country)==null?void 0:o.toUpperCase()]||(console.warn(`"${m.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information.  Falling back to global average grid intensity. 
Falling back to global average grid intensity.`),f.gridIntensity.network={value:R}),f.gridIntensity.network={country:m.country,value:parseFloat(U.data[(d=m.country)==null?void 0:d.toUpperCase()])}):typeof m=="number"?f.gridIntensity.network={value:m}:(f.gridIntensity.network={value:R},console.warn(`The network grid intensity must be a number or an object. You passed in a ${typeof m}. 
Falling back to global average grid intensity.`)))}return(l!=null&&l.dataReloadRatio||l.dataReloadRatio===0)&&(typeof l.dataReloadRatio=="number"?l.dataReloadRatio>=0&&l.dataReloadRatio<=1?f.dataReloadRatio=l.dataReloadRatio:(f.dataReloadRatio=ce,console.warn(`The dataReloadRatio option must be a number between 0 and 1. You passed in ${l.dataReloadRatio}. 
Falling back to default value.`)):(f.dataReloadRatio=ce,console.warn(`The dataReloadRatio option must be a number. You passed in a ${typeof l.dataReloadRatio}. 
Falling back to default value.`))),(l!=null&&l.firstVisitPercentage||l.firstVisitPercentage===0)&&(typeof l.firstVisitPercentage=="number"?l.firstVisitPercentage>=0&&l.firstVisitPercentage<=1?f.firstVisitPercentage=l.firstVisitPercentage:(f.firstVisitPercentage=ae,console.warn(`The firstVisitPercentage option must be a number between 0 and 1. You passed in ${l.firstVisitPercentage}. 
Falling back to default value.`)):(f.firstVisitPercentage=ae,console.warn(`The firstVisitPercentage option must be a number. You passed in a ${typeof l.firstVisitPercentage}. 
Falling back to default value.`))),(l!=null&&l.returnVisitPercentage||l.returnVisitPercentage===0)&&(typeof l.returnVisitPercentage=="number"?l.returnVisitPercentage>=0&&l.returnVisitPercentage<=1?f.returnVisitPercentage=l.returnVisitPercentage:(f.returnVisitPercentage=le,console.warn(`The returnVisitPercentage option must be a number between 0 and 1. You passed in ${l.returnVisitPercentage}. 
Falling back to default value.`)):(f.returnVisitPercentage=le,console.warn(`The returnVisitPercentage option must be a number. You passed in a ${typeof l.returnVisitPercentage}. 
Falling back to default value.`))),f}var at=Object.defineProperty,lt=Object.defineProperties,ct=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertySymbols,ut=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,Ve=(l,e,r)=>e in l?at(l,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[e]=r,De=(l,e)=>{for(var r in e||(e={}))ut.call(e,r)&&Ve(l,r,e[r]);if(Be)for(var r of Be(e))dt.call(e,r)&&Ve(l,r,e[r]);return l},ke=(l,e)=>lt(l,ct(e));class ft{constructor(e){this.options=e}energyPerByteByComponent(e){const i=e/nt.GIGABYTE*st;return{consumerDeviceEnergy:i*Oe,networkEnergy:i*Ae,productionEnergy:i*Ie,dataCenterEnergy:i*Te}}co2byComponent(e,r=R,i={}){let n=R,o=R,d=R,f=R;if(i!=null&&i.gridIntensity){const{device:c,network:m,dataCenter:C}=i.gridIntensity;(c!=null&&c.value||(c==null?void 0:c.value)===0)&&(n=c.value),(m!=null&&m.value||(m==null?void 0:m.value)===0)&&(o=m.value),(C!=null&&C.value||(C==null?void 0:C.value)===0)&&(d=C.value)}r===!0&&(d=se);const g={};for(const[c,m]of Object.entries(e))c.startsWith("dataCenterEnergy")?g[c.replace("Energy","CO2")]=m*d:c.startsWith("consumerDeviceEnergy")?g[c.replace("Energy","CO2")]=m*n:c.startsWith("networkEnergy")?g[c.replace("Energy","CO2")]=m*o:g[c.replace("Energy","CO2")]=m*f;return g}perByte(e,r=!1,i=!1,n={}){e<1&&(e=0);const o=this.energyPerByteByComponent(e,n);if(typeof r!="boolean")throw new Error(`perByte expects a boolean for the carbon intensity value. Received: ${r}`);const d=this.co2byComponent(o,r,n),g=Object.values(d).reduce((c,m)=>c+m);return i?ke(De({},d),{total:g}):g}perVisit(e,r=!1,i=!1,n={}){const o=this.energyPerVisitByComponent(e,n);if(typeof r!="boolean")throw new Error(`perVisit expects a boolean for the carbon intensity value. Received: ${r}`);const d=this.co2byComponent(o,r,n),g=Object.values(d).reduce((c,m)=>c+m);return i?ke(De({},d),{total:g}):g}energyPerByte(e){const r=this.energyPerByteByComponent(e);return Object.values(r).reduce((n,o)=>n+o)}energyPerVisitByComponent(e,r={},i=ae,n=le,o=ce){(r.dataReloadRatio||r.dataReloadRatio===0)&&(o=r.dataReloadRatio),(r.firstVisitPercentage||r.firstVisitPercentage===0)&&(i=r.firstVisitPercentage),(r.returnVisitPercentage||r.returnVisitPercentage===0)&&(n=r.returnVisitPercentage);const d=this.energyPerByteByComponent(e),f={};Object.values(d);for(const[g,c]of Object.entries(d))f[`${g} - first`]=c*i,f[`${g} - subsequent`]=c*n*o;return f}energyPerVisit(e){let r=0,i=0;const n=Object.entries(this.energyPerVisitByComponent(e));for(const[o,d]of n)o.indexOf("first")>0&&(r+=d);for(const[o,d]of n)o.indexOf("subsequent")>0&&(i+=d);return r+i}emissionsPerVisitInGrams(e,r=R){return x(e*r)}annualEnergyInKwh(e,r=1e3){return e*r*12}annualEmissionsInGrams(e,r=1e3){return e*r*12}annualSegmentEnergy(e){return{consumerDeviceEnergy:x(e*Oe),networkEnergy:x(e*Ae),dataCenterEnergy:x(e*Te),productionEnergy:x(e*Ie)}}}var Le=ft;class ht{constructor(e){if(this.model=new Le,(e==null?void 0:e.model)==="1byte")this.model=new tt;else if((e==null?void 0:e.model)==="swd")this.model=new Le;else if(e!=null&&e.model)throw new Error(`"${e.model}" is not a valid model. Please use "1byte" for the OneByte model, and "swd" for the Sustainable Web Design model.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`);this._segment=(e==null?void 0:e.results)==="segment"}perByte(e,r=!1){return this.model.perByte(e,r,this._segment)}perVisit(e,r=!1){var i;if((i=this.model)!=null&&i.perVisit)return this.model.perVisit(e,r,this._segment);throw new Error(`The perVisit() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}perByteTrace(e,r=!1,i={}){var n,o,d,f,g,c,m,C,S;let w={};return i&&(w=Ne(i)),{co2:this.model.perByte(e,r,this._segment,w),green:r,variables:{description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:{description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate.",network:(d=(o=(n=w==null?void 0:w.gridIntensity)==null?void 0:n.network)==null?void 0:o.value)!=null?d:R,dataCenter:r?se:(c=(g=(f=w==null?void 0:w.gridIntensity)==null?void 0:f.dataCenter)==null?void 0:g.value)!=null?c:R,production:R,device:(S=(C=(m=w==null?void 0:w.gridIntensity)==null?void 0:m.device)==null?void 0:C.value)!=null?S:R}}}}perVisitTrace(e,r=!1,i={}){var n,o,d,f,g,c,m,C,S,w,I,N,_;if((n=this.model)!=null&&n.perVisit){let b={};return i&&(b=Ne(i)),{co2:this.model.perVisit(e,r,this._segment,b),green:r,variables:{description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:{description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate.",network:(f=(d=(o=b==null?void 0:b.gridIntensity)==null?void 0:o.network)==null?void 0:d.value)!=null?f:R,dataCenter:r?se:(m=(c=(g=b==null?void 0:b.gridIntensity)==null?void 0:g.dataCenter)==null?void 0:c.value)!=null?m:R,production:R,device:(w=(S=(C=b==null?void 0:b.gridIntensity)==null?void 0:C.device)==null?void 0:S.value)!=null?w:R},dataReloadRatio:(I=b==null?void 0:b.dataReloadRatio)!=null?I:.02,firstVisitPercentage:(N=b==null?void 0:b.firstVisitPercentage)!=null?N:.75,returnVisitPercentage:(_=b==null?void 0:b.returnVisitPercentage)!=null?_:.25}}}else throw new Error(`The perVisitDetailed() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}perDomain(e,r){const i=[];for(let n of Object.keys(e.domains)){let o;r&&r.indexOf(n)>-1?o=this.perByte(e.domains[n].transferSize,!0):o=this.perByte(e.domains[n].transferSize),i.push({domain:n,co2:o,transferSize:e.domains[n].transferSize})}return i.sort((n,o)=>o.co2-n.co2),i}perPage(e,r){const i=this.perDomain(e,r);let n=0;for(let o of i)n+=o.co2;return n}perContentType(e,r){const i={};for(let o of e.assets){const d=new URL(o.url).domain,f=o.transferSize,g=this.perByte(f,r&&r.indexOf(d)>-1),c=o.type;i[c]||(i[c]={co2:0,transferSize:0}),i[c].co2+=g,i[c].transferSize+=f}const n=[];for(let o of Object.keys(i))n.push({type:o,co2:i[o].co2,transferSize:i[o].transferSize});return n.sort((o,d)=>d.co2-o.co2),n}dirtiestResources(e,r){const i=[];for(let n of e.assets){const o=new URL(n.url).domain,d=n.transferSize,f=this.perByte(d,r&&r.indexOf(o)>-1);i.push({url:n.url,co2:f,transferSize:d})}return i.sort((n,o)=>o.co2-n.co2),i.slice(0,i.length>10?10:i.length)}perParty(e,r){let i=0,n=0;const o=e.firstPartyRegEx;for(let d of Object.keys(e.domains))d.match(o)?i+=this.perByte(e.domains[d].transferSize,r&&r.indexOf(d)>-1):n+=this.perByte(e.domains[d].transferSize,r&&r.indexOf(d)>-1);return{firstParty:i,thirdParty:n}}}var mt=ht;const gt=new mt;function pt(l){return l.replace(/(\d+)+(\.(\d+))?\s?(k|m|g|t)?b?/i,function(e,r,i,n,o){return parseFloat(r+(i||""))*({K:1024,M:1<<20,G:1<<30,T:256}[o]||1)}).replace(/[^\d.-]/g,"")}async function yt(){await new Promise(e=>setTimeout(e,1e3));const l=document.getElementsByTagName("speedlify-score");if(l.length){const e=l[0].shadowRoot.childNodes[4].childNodes[0].firstChild.data,r=pt(e),i=gt.perVisit(r,!1),n=`You consume an average of ${i.toFixed(3)} grams of CO2 to view this page.`,o=`Consumi in media ${i.toFixed(3)} grammi di CO2 per visualizzare questa pagina.`;let d;document.documentElement.lang=="en"?d=n:d=o;const f=document.createTextNode(d);document.getElementsByClassName("estimatedCo2")[0].appendChild(f)}}yt();/*!
 * iframemanager v1.3.0
 * Author Orest Bida
 * Released under the MIT License
 */(()=>{const l="api",e="click",r="{data-id}",i="accept",n="reject",o="c-h-n",d="c-h-b",f="show-ph";let g,c,m,C,S={},w={},I={},N={},_="",b={},D=[],B=new Map,H=l;const Me=["onload","onerror","src","params"],G=t=>typeof t=="function",F=t=>typeof t=="string",K=t=>c.createElement(t),L=()=>K("div"),ue=()=>{const t=K("button");return t.type="button",t},A=(t,s)=>t.className=s,M=(t,s)=>t.classList.add(s),O=(t,s)=>t.appendChild(s),Q=t=>t&&Object.keys(t)||[],W=(t,s)=>{for(const a in s)Fe(t,a,s[a])},je=t=>{const s=t.dataset,a={},h="data-iframe-",y=t.getAttributeNames().filter(E=>E.slice(0,12)===h).map(E=>E.slice(12)),u=t.querySelector("[data-placeholder]"),v=u&&u.hasAttribute("data-visible");v&&u.removeAttribute("data-visible");const p=u&&u.cloneNode(!0);for(const E of y)a[E]=t.getAttribute(h+E);return{t:s.id,o:s.title,i:s.thumbnail,l:s.params,v:t,u:null,m:u,p,h:null,_:!1,$:!1,S:!0,T:"widget"in s,I:v,P:a}},$e=(t,s)=>{const a=S[t];"IntersectionObserver"in g&&(h=>{I[h]=new IntersectionObserver(y=>{for(const u of y)u.isIntersecting&&(Ue(s,a[u.target.dataset.index]),I[h].unobserve(u.target))});for(const y of a)I[h].observe(y.v)})(t)},Ue=(t,s)=>{const a=h=>{s.h.style.backgroundImage=`url('${h}')`;const y=new Image;y.onload=()=>M(s.h,"loaded"),y.src=h};if(F(s.i))s.i!==""&&a(s.i);else if(G(t))t(s.t,h=>a(h));else if(F(t)){const h=t.replace(r,s.t);a(h)}},de=(t,s)=>{if(t._)return;if(t._=!0,t.m){const p=t.p.cloneNode(!0);t.m.replaceWith(p),t.m=p}const a=s.iframe;if(G(s.onAccept))return void s.onAccept(t.v,p=>{if(!(p instanceof HTMLIFrameElement))return!1;W(p,a),W(p,t.P),t.D=p,t._=!0,M(t.v,d),(!t.I||t.T)&&M(t.v,f)});t.D=K("iframe");const h=s.iframe,y=t.l||h&&h.params;let u=s.embedUrl||"";G(u)&&(u=String(u()));let v=u.replace(r,t.t);t.o&&(t.D.title=t.o),y&&F(y)&&(v+=y.slice(0,1)==="?"?y:`?${y}`),t.D.onload=()=>{M(t.v,d),t.D.onload=void 0,G(a&&a.onload)&&a.onload(t.t,t.D)},W(t.D,a),W(t.D,t.P),t.D.src=v,O(t.u,t.D)},Fe=(t,s,a)=>{Me.includes(s)||t.setAttribute(s,a)},fe=t=>{M(t.v,o),t.S=!1},he=t=>{t.v.classList.remove(o,d,f),t.S=!0},X=t=>(t=c.cookie.match(`(^|;)\\s*${t}\\s*=\\s*([^;]+)`))?t.pop():"",me=(t,s,a)=>{const h=S[t],y=s.languages;h.forEach(u=>{if(!u.$&&y){const v=y[_],p=v&&v.loadBtn,E=v&&(v.notice||"").replace(r,u.t),P=v&&v.loadAllBtn,k=c.createElement("div"),j=L(),$=L(),ee=L(),z=L();A(k,"cll"),u.u=k;const Ee=()=>{fe(u),de(u,s)};if(p){const T=ue();T.textContent=p,A(T,"c-l-b"),T.addEventListener(e,Ee),O(z,T)}if(P){const T=ue();T.textContent=P,A(T,p?"c-la-b":"c-l-b"),T.addEventListener(e,()=>{Ee(),H=e,be.acceptService(t)}),O(z,T)}const q=L(),te=L(),Re=L(),re=L(),Z=L();A(q,"cc-text"),A(re,"c-bg-i"),u.h=re,A(Re,"c-ld"),F(u.i)&&u.i===""||A(te,"c-bg");const Ce=u.o,_e=c.createDocumentFragment();if(Ce){const T=K("span");A(T,"c-tl"),T.insertAdjacentHTML("beforeend",Ce),O(_e,T)}O(q,_e),j&&q.insertAdjacentHTML("beforeend",E||""),O($,q),A(Z,"c-t-cn"),A($,"c-n-t"),A(ee,"c-n-c"),A(j,"c-nt"),A(z,"c-n-a"),O(Z,$),(p||P)&&O(Z,z),O(ee,Z),O(j,ee),O(te,re),O(k,j),(s.thumbnailUrl||u.i)&&O(k,te),O(k,Re),a&&M(u.v,o),u.v.prepend(k),u.$=!0,setTimeout(()=>M(u.v,"c-an"),20)}})},ge=(t,s)=>{const a=S[t];a.forEach(h=>{h._||((y,u)=>{w[u]||(w[u]=new IntersectionObserver(v=>{if(N[u])w[u].disconnect();else for(let p=0;p<v.length;++p)v[p].isIntersecting&&(E=>{const P=v[E].target,k=P.dataset.index;de(a[k],s),setTimeout(()=>{fe(a[k])},50*E),w[u].unobserve(P)})(p)})),w[u].observe(y)})(h.v,t)})},pe=(t,s)=>t in s?t:Q(s).length>0?_ in s?_:Q(s)[0]:void 0,ye=(t,s)=>{const{cookie:a}=s;X(a.name)||(h=>{const{hostname:y,protocol:u}=location,v=h.name,p=new Date,E=h.path||"/",P=864e5*(h.expiration||182),k=h.sameSite||"Lax",j=h.domain||y;p.setTime(p.getTime()+P);let $=v+"=1"+(P!==0?`; Expires=${p.toUTCString()}`:"")+`; Path=${E}; SameSite=${k}`;j.indexOf(".")>-1&&($+=`; Domain=${j}`),u==="https:"&&($+="; Secure"),c.cookie=$})(a),ge(t,s)},ve=(t,s)=>{const{cookie:a}=s;X(a.name)&&(h=>{const y=h.name,u=h.path||"/",v=h.domain||location.hostname;c.cookie=`${y}=; Path=${u}; Domain=${v}; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`})(a),((h,y)=>{const u=S[h];for(let v=0;v<u.length;v++)(p=>{var E;u[p]._&&(G(y.onReject)?(y.onReject(u[p].D,u[p].v,()=>he(u[p])),u[p]._=!1):((E=u[p]).D&&E.D.remove(),E._=!1)),he(u[p])})(v)})(t,s)},Y=(t,s,a)=>{G(C)&&C({eventSource:{type:H,service:t,action:s},changedServices:a})},xe=t=>{if(t.hasAttribute("data-service")){t.removeAttribute("class"),t.removeAttribute("data-index");for(const s of t.children)s.hasAttribute("data-placeholder")||s.remove()}},be={acceptService:t=>{const s=[];if(t==="all"){for(const a of D)N[a]=!1,B.get(a)||(B.set(a,!0),ye(a,b[a]),s.push(a));s.length>0&&Y(t,i,s)}else D.includes(t)&&(N[t]=!1,B.get(t)||(B.set(t,!0),ye(t,b[t]),s.push(t),Y(t,i,s)));H=l},rejectService:t=>{const s=[];if(t==="all"){for(const a of D)N[a]=!0,ve(a,b[a]),B.get(a)&&(B.set(a,!1),s.push(a));s.length>0&&Y(t,n,s)}else D.includes(t)&&(N[t]=!0,ve(t,b[t]),B.get(t)&&(B.set(t,!1),s.push(t),Y(t,n,s)))},childExists:async({parent:t=g,childProperty:s,childSelector:a="iframe",timeout:h=1e3,maxTimeout:y=15e3})=>{let u=1;const v=s?()=>t[s]:()=>t.querySelector(a);return new Promise(p=>{const E=()=>{if(v()||u++*h>y)return p(v()!==void 0);setTimeout(E,h)};E()})},getState:()=>({services:new Map(B),acceptedServices:[...B].filter(([,t])=>!!t).map(([t])=>t)}),getConfig:()=>m,reset:t=>{if(t)for(const s of D)for(const a of S[s])xe(a.v);(()=>{var s,a;for(const h of D)(s=w[h])==null||s.disconnect(),(a=I[h])==null||a.disconnect(),delete w[h],delete I[h];w={},I={},N={}})(),g=void 0,c=void 0,m=void 0,C=void 0,S={},_="",b={},D=[],B=new Map,H=l,window._imRun=!1},run:t=>{if(window._imRun||(c=document,g=window,m=t,b=m.services,C=m.onChange,D=Q(b),D.length===0))return;_=m.currLang;const s=b[D[0]].languages;m.autoLang===!0?_=pe(navigator.language.slice(0,2).toLowerCase(),s):F(m.currLang)&&(_=pe(m.currLang,s));for(const a of D){const h=b[a],y=h.cookie=h.cookie||{},u=y.name=y.name||`im_${a}`,v=X(u);B.set(a,!!v),S[a]=[];const p=c.querySelectorAll(`div[data-service="${a}"]`),E=p.length;if(E!==0){for(let P=0;P<E;P++)p[P].dataset.index=P,S[a].push(je(p[P]));v?(me(a,h,!0),ge(a,h)):me(a,h,!1),$e(a,h.thumbnailUrl)}}window._imRun=!0}},we="iframemanager";typeof window>"u"||G(window[we])||(window[we]=()=>be)})();const Ge=iframemanager();Ge.run({currLang:document.documentElement.lang,services:{youtube:{embedUrl:"https://www.youtube-nocookie.com/embed/{data-id}",thumbnailUrl:"https://i3.ytimg.com/vi/{data-id}/hqdefault.jpg",iframe:{allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture; fullscreen;"},languages:{en:{notice:'Accept YouTube cookies to play the video.<br />Learn more about the <a rel="noreferrer noopener" href="https://www.youtube.com/t/terms">terms and conditions of youtube.com</a>',loadBtn:"Accept and load"},it:{notice:'Accetta i cookie di Youtube per riprodurre il video.<br />Scopri di più sui <a rel="noreferrer noopener" href="https://www.youtube.com/t/terms">termini e le condizioni di youtube.com</a>',loadBtn:"Accetta e carica"}}}}});Ge.rejectService("all");const vt=document.querySelectorAll(".gallery");vt.forEach(l=>{new Ye({zoomSVG:"",zoom:!1,closeSVG:"",arrowPrevSVG:"",arrowNextSVG:"",gallery:l,children:"a",showHideAnimationType:"zoom",pswpModule:We,bgOpacity:.9,preload:[1,1],padding:{top:48,bottom:48,left:16,right:16}}).init()});
//# sourceMappingURL=main-931b8f98.js.map
