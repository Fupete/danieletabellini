var ct=Object.defineProperty;var ut=(n,e,t)=>e in n?ct(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var me=(n,e,t)=>ut(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();class le{constructor(){this.fetches={},this.responses={},this.urls={}}static normalizeUrl(e,t){return`${e}${e.endsWith("/")?"":"/"}`+(t.startsWith("/")?t.substr(1):t)}async fetchFromApi(e){this.fetches[e]||(this.fetches[e]=fetch(e));let t=await this.fetches[e];return this.responses[e]||(this.responses[e]=t.json()),await this.responses[e]}async fetchHash(e,t){if(this.urls[e])return this.urls[e][t]?this.urls[e][t].hash:!1;let s=le.normalizeUrl(e,"api/urls.json"),a=await this.fetchFromApi(s);return a[t]?a[t].hash:!1}async fetchData(e,t){let s=le.normalizeUrl(e,`api/${t}.json`);return this.fetchFromApi(s)}}const ke=new le,S=class S extends HTMLElement{static register(e){customElements.define(e||"speedlify-score",S)}connectedCallback(){if(!(!("replaceSync"in CSSStyleSheet.prototype)||this.shadowRoot)){if(this.speedlifyUrl=this.getAttribute(S.attrs.speedlifyUrl),this.shorthash=this.getAttribute(S.attrs.hash),this.rawData=this.getAttribute(S.attrs.rawData),this.url=this.getAttribute(S.attrs.url)||window.location.href,!this.rawData&&!this.speedlifyUrl){console.error(`Missing \`${S.attrs.speedlifyUrl}\` attribute:`,this);return}this.init()}}_initTemplate(e,t=!1){if(this.shadowRoot&&!t)return;if(this.shadowRoot){this.shadowRoot.innerHTML=this.render(e);return}let s=this.attachShadow({mode:"open"}),a=new CSSStyleSheet;a.replaceSync(S.css),s.adoptedStyleSheets=[a];let o=document.createElement("template");o.innerHTML=this.render(e),s.appendChild(o.content.cloneNode(!0))}async init(){if(this.rawData){let a=JSON.parse(this.rawData);this._initTemplate(a);return}let e=this.shorthash,t=!1;if(e||(this._initTemplate(),t=!0,e=await ke.fetchHash(this.speedlifyUrl,this.url)),!e){console.error(`<speedlify-score> could not find hash for URL (${this.url}):`,this);return}t||(this._initTemplate(),t=!0);let s=await ke.fetchData(this.speedlifyUrl,e);this._initTemplate(s,t)}getScoreClass(e){return e===""||e===void 0?"circle":e<.5?"circle circle-bad":e<.9?"circle circle-ok":"circle circle-good"}getScoreHtml(e,t=""){return`<span title="${e}" class="${this.getScoreClass(t)}">${t?parseInt(t*100,10):"…"}</span>`}render(e={}){var d,m,v,l,i,g,E,y,R,O;let t=S.attrs,s=[];(!this.hasAttribute(t.requests)&&!this.hasAttribute(t.weight)&&!this.hasAttribute(t.rank)&&!this.hasAttribute(t.rankChange)||this.hasAttribute(t.score))&&(s.push(this.getScoreHtml("Performance",(d=e.lighthouse)==null?void 0:d.performance)),s.push(this.getScoreHtml("Accessibility",(m=e.lighthouse)==null?void 0:m.accessibility)),s.push(this.getScoreHtml("Best Practices",(v=e.lighthouse)==null?void 0:v.bestPractices)),s.push(this.getScoreHtml("SEO",(l=e.lighthouse)==null?void 0:l.seo)));let a=[],o=((g=(i=e.weight)==null?void 0:i.summary)==null?void 0:g.split(" • "))||[];if(this.hasAttribute(t.requests)&&o.length&&a.push(`<span class="requests">${o[0]}</span>`),this.hasAttribute(t.weight)&&o.length&&a.push(`<span class="weight">${o[1]}</span>`),(E=e.ranks)!=null&&E.cumulative){if(this.hasAttribute(t.rank)){let w=this.getAttribute("rank-url");a.push(`<${w?`a href="${w}"`:"span"} class="rank">${(y=e.ranks)==null?void 0:y.cumulative}</${w?"a":"span"}>`)}if(this.hasAttribute(t.rankChange)&&e.previousRanks){let w=((R=e.previousRanks)==null?void 0:R.cumulative)-((O=e.ranks)==null?void 0:O.cumulative);a.push(`<span class="rank-change ${w>0?"up":w<0?"down":"same"}">${w!==0?Math.abs(w):""}</span>`)}}return a.length&&s.push(`<span class="meta">${a.join("")}</span>`),s.join("")}};me(S,"attrs",{url:"url",speedlifyUrl:"speedlify-url",hash:"hash",rawData:"raw-data",requests:"requests",weight:"weight",rank:"rank",rankChange:"rank-change",score:"score"}),me(S,"css",`
:host {
	--_circle: var(--speedlify-circle);
	display: flex;
	align-items: center;
	gap: 0.375em; /* 6px /16 */
}
.circle {
	font-size: 0.8125em; /* 13px /16 */
	min-width: 2.6em;
	height: 2.6em;
	line-height: 1;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 50%;
	border: 0.15384615em solid currentColor; /* 2px /13 */
	color: var(--_circle, #666);
}
.circle-good {
	color: var(--_circle, #088846);
	border-color: var(--_circle, #0cce6b);
}
.circle-ok {
	color: var(--_circle, #A56900);
	border-color: var(--_circle, currentColor);
}
.circle-bad {
	color: var(--_circle, #EC0D00);
	border-color: var(--_circle, currentColor);
}
.meta {
	display: flex;
	align-items: center;
	gap: 0.625em; /* 10px /16 */
}
.circle + .meta {
	margin-left: 0.25em; /* 4px /16 */
}
.rank:before {
	content: "Rank #";
}
.rank-change:before {
	line-height: 1;
}
.rank-change.up {
	color: #088846;
}
.rank-change.up:before {
	content: "⬆";
}
.rank-change.down {
	color: #EC0D00;
}
.rank-change.down:before {
	content: "⬇";
}
`);let ye=S;"customElements"in window&&"fetch"in window&&ye.register();/*!
 * iframemanager v1.3.0
 * Author Orest Bida
 * Released under the MIT License
 */(()=>{const n="api",e="click",t="{data-id}",s="accept",a="reject",o="c-h-n",d="c-h-b",m="show-ph";let v,l,i,g,E={},y={},R={},O={},w="",V={},D=[],A=new Map,J=n;const nt=["onload","onerror","src","params"],G=r=>typeof r=="function",Y=r=>typeof r=="string",Z=r=>l.createElement(r),L=()=>Z("div"),be=()=>{const r=Z("button");return r.type="button",r},P=(r,c)=>r.className=c,H=(r,c)=>r.classList.add(c),I=(r,c)=>r.appendChild(c),ue=r=>r&&Object.keys(r)||[],z=(r,c)=>{for(const u in c)ot(r,u,c[u])},it=r=>{const c=r.dataset,u={},h="data-iframe-",_=r.getAttributeNames().filter(T=>T.slice(0,12)===h).map(T=>T.slice(12)),f=r.querySelector("[data-placeholder]"),b=f&&f.hasAttribute("data-visible");b&&f.removeAttribute("data-visible");const p=f&&f.cloneNode(!0);for(const T of _)u[T]=r.getAttribute(h+T);return{t:c.id,o:c.title,i:c.thumbnail,l:c.params,v:r,u:null,m:f,p,h:null,_:!1,$:!1,S:!0,T:"widget"in c,I:b,P:u}},at=(r,c)=>{const u=E[r];"IntersectionObserver"in v&&(h=>{R[h]=new IntersectionObserver(_=>{for(const f of _)f.isIntersecting&&(st(c,u[f.target.dataset.index]),R[h].unobserve(f.target))});for(const _ of u)R[h].observe(_.v)})(r)},st=(r,c)=>{const u=h=>{c.h.style.backgroundImage=`url('${h}')`;const _=new Image;_.onload=()=>H(c.h,"loaded"),_.src=h};if(Y(c.i))c.i!==""&&u(c.i);else if(G(r))r(c.t,h=>u(h));else if(Y(r)){const h=r.replace(t,c.t);u(h)}},Te=(r,c)=>{if(r._)return;if(r._=!0,r.m){const p=r.p.cloneNode(!0);r.m.replaceWith(p),r.m=p}const u=c.iframe;if(G(c.onAccept))return void c.onAccept(r.v,p=>{if(!(p instanceof HTMLIFrameElement))return!1;z(p,u),z(p,r.P),r.D=p,r._=!0,H(r.v,d),(!r.I||r.T)&&H(r.v,m)});r.D=Z("iframe");const h=c.iframe,_=r.l||h&&h.params;let f=c.embedUrl||"";G(f)&&(f=String(f()));let b=f.replace(t,r.t);r.o&&(r.D.title=r.o),_&&Y(_)&&(b+=_.slice(0,1)==="?"?_:`?${_}`),r.D.onload=()=>{H(r.v,d),r.D.onload=void 0,G(u&&u.onload)&&u.onload(r.t,r.D)},z(r.D,u),z(r.D,r.P),r.D.src=b,I(r.u,r.D)},ot=(r,c,u)=>{nt.includes(c)||r.setAttribute(c,u)},Re=r=>{H(r.v,o),r.S=!1},we=r=>{r.v.classList.remove(o,d,m),r.S=!0},de=r=>(r=l.cookie.match(`(^|;)\\s*${r}\\s*=\\s*([^;]+)`))?r.pop():"",Ce=(r,c,u)=>{const h=E[r],_=c.languages;h.forEach(f=>{if(!f.$&&_){const b=_[w],p=b&&b.loadBtn,T=b&&(b.notice||"").replace(t,f.t),C=b&&b.loadAllBtn,B=l.createElement("div"),F=L(),$=L(),fe=L(),X=L();P(B,"cll"),f.u=B;const De=()=>{Re(f),Te(f,c)};if(p){const N=be();N.textContent=p,P(N,"c-l-b"),N.addEventListener(e,De),I(X,N)}if(C){const N=be();N.textContent=C,P(N,p?"c-la-b":"c-l-b"),N.addEventListener(e,()=>{De(),J=e,Ae.acceptService(r)}),I(X,N)}const ee=L(),ge=L(),Be=L(),he=L(),te=L();P(ee,"cc-text"),P(he,"c-bg-i"),f.h=he,P(Be,"c-ld"),Y(f.i)&&f.i===""||P(ge,"c-bg");const Ve=f.o,Le=l.createDocumentFragment();if(Ve){const N=Z("span");P(N,"c-tl"),N.insertAdjacentHTML("beforeend",Ve),I(Le,N)}I(ee,Le),F&&ee.insertAdjacentHTML("beforeend",T||""),I($,ee),P(te,"c-t-cn"),P($,"c-n-t"),P(fe,"c-n-c"),P(F,"c-nt"),P(X,"c-n-a"),I(te,$),(p||C)&&I(te,X),I(fe,te),I(F,fe),I(ge,he),I(B,F),(c.thumbnailUrl||f.i)&&I(B,ge),I(B,Be),u&&H(f.v,o),f.v.prepend(B),f.$=!0,setTimeout(()=>H(f.v,"c-an"),20)}})},Ie=(r,c)=>{const u=E[r];u.forEach(h=>{h._||((_,f)=>{y[f]||(y[f]=new IntersectionObserver(b=>{if(O[f])y[f].disconnect();else for(let p=0;p<b.length;++p)b[p].isIntersecting&&(T=>{const C=b[T].target,B=C.dataset.index;Te(u[B],c),setTimeout(()=>{Re(u[B])},50*T),y[f].unobserve(C)})(p)})),y[f].observe(_)})(h.v,r)})},Oe=(r,c)=>r in c?r:ue(c).length>0?w in c?w:ue(c)[0]:void 0,Pe=(r,c)=>{const{cookie:u}=c;de(u.name)||(h=>{const{hostname:_,protocol:f}=location,b=h.name,p=new Date,T=h.path||"/",C=864e5*(h.expiration||182),B=h.sameSite||"Lax",F=h.domain||_;p.setTime(p.getTime()+C);let $=b+"=1"+(C!==0?`; Expires=${p.toUTCString()}`:"")+`; Path=${T}; SameSite=${B}`;F.indexOf(".")>-1&&($+=`; Domain=${F}`),f==="https:"&&($+="; Secure"),l.cookie=$})(u),Ie(r,c)},Ne=(r,c)=>{const{cookie:u}=c;de(u.name)&&(h=>{const _=h.name,f=h.path||"/",b=h.domain||location.hostname;l.cookie=`${_}=; Path=${f}; Domain=${b}; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`})(u),((h,_)=>{const f=E[h];for(let b=0;b<f.length;b++)(p=>{var T;f[p]._&&(G(_.onReject)?(_.onReject(f[p].D,f[p].v,()=>we(f[p])),f[p]._=!1):((T=f[p]).D&&T.D.remove(),T._=!1)),we(f[p])})(b)})(r,c)},Q=(r,c,u)=>{G(g)&&g({eventSource:{type:J,service:r,action:c},changedServices:u})},lt=r=>{if(r.hasAttribute("data-service")){r.removeAttribute("class"),r.removeAttribute("data-index");for(const c of r.children)c.hasAttribute("data-placeholder")||c.remove()}},Ae={acceptService:r=>{const c=[];if(r==="all"){for(const u of D)O[u]=!1,A.get(u)||(A.set(u,!0),Pe(u,V[u]),c.push(u));c.length>0&&Q(r,s,c)}else D.includes(r)&&(O[r]=!1,A.get(r)||(A.set(r,!0),Pe(r,V[r]),c.push(r),Q(r,s,c)));J=n},rejectService:r=>{const c=[];if(r==="all"){for(const u of D)O[u]=!0,Ne(u,V[u]),A.get(u)&&(A.set(u,!1),c.push(u));c.length>0&&Q(r,a,c)}else D.includes(r)&&(O[r]=!0,Ne(r,V[r]),A.get(r)&&(A.set(r,!1),c.push(r),Q(r,a,c)))},childExists:async({parent:r=v,childProperty:c,childSelector:u="iframe",timeout:h=1e3,maxTimeout:_=15e3})=>{let f=1;const b=c?()=>r[c]:()=>r.querySelector(u);return new Promise(p=>{const T=()=>{if(b()||f++*h>_)return p(b()!==void 0);setTimeout(T,h)};T()})},getState:()=>({services:new Map(A),acceptedServices:[...A].filter(([,r])=>!!r).map(([r])=>r)}),getConfig:()=>i,reset:r=>{if(r)for(const c of D)for(const u of E[c])lt(u.v);(()=>{var c,u;for(const h of D)(c=y[h])==null||c.disconnect(),(u=R[h])==null||u.disconnect(),delete y[h],delete R[h];y={},R={},O={}})(),v=void 0,l=void 0,i=void 0,g=void 0,E={},w="",V={},D=[],A=new Map,J=n,window._imRun=!1},run:r=>{if(window._imRun||(l=document,v=window,i=r,V=i.services,g=i.onChange,D=ue(V),D.length===0))return;w=i.currLang;const c=V[D[0]].languages;i.autoLang===!0?w=Oe(navigator.language.slice(0,2).toLowerCase(),c):Y(i.currLang)&&(w=Oe(i.currLang,c));for(const u of D){const h=V[u],_=h.cookie=h.cookie||{},f=_.name=_.name||`im_${u}`,b=de(f);A.set(u,!!b),E[u]=[];const p=l.querySelectorAll(`div[data-service="${u}"]`),T=p.length;if(T!==0){for(let C=0;C<T;C++)p[C].dataset.index=C,E[u].push(it(p[C]));b?(Ce(u,h,!0),Ie(u,h)):Ce(u,h,!1),at(u,h.thumbnailUrl)}}window._imRun=!0}},Se="iframemanager";typeof window>"u"||G(window[Se])||(window[Se]=()=>Ae)})();const dt=519,ft=475,gt=0,Ge=72e-12,ht=429e-12,mt=152e-12,Et=884e-12,Ee=(ht+mt+Et)/3;class pt{constructor(e){this.allowRatings=!1,this.options=e,this.KWH_PER_BYTE_FOR_NETWORK=Ee}perByte(e,t){if(e<1)return 0;if(t){const a=e*Ge*gt,o=e*Ee*ft;return a+o}const s=Ge+Ee;return e*s*dt}}var He=pt;const vt=1e3*1e3*1e3;var _e={GIGABYTE:vt};const yt={AFG:132.53,AFRICA:547.83,ALB:24.29,DZA:634.61,ASM:611.11,AGO:174.73,ATG:611.11,ARG:353.96,ARM:264.54,ABW:561.22,ASEAN:570.41,ASIA:591.13,AUS:556.3,AUT:110.81,AZE:671.39,BHS:660.1,BHR:904.62,BGD:691.41,BRB:605.51,BLR:441.74,BEL:138.11,BLZ:225.81,BEN:584.07,BTN:23.33,BOL:531.69,BIH:601.29,BWA:847.91,BRA:96.4,BRN:893.91,BGR:335.33,BFA:467.53,BDI:250,CPV:558.14,KHM:417.71,CMR:305.42,CAN:165.15,CYM:642.86,CAF:0,TCD:628.57,CHL:291.11,CHN:583.61,COL:259.51,COM:642.86,COG:700,COD:24.46,COK:250,CRI:53.38,CIV:393.89,HRV:204.96,CUB:637.61,CYP:534.32,CZE:449.72,DNK:151.65,DJI:692.31,DMA:529.41,DOM:580.78,ECU:166.91,EGY:574.04,SLV:224.76,GNQ:591.84,ERI:631.58,EST:416.67,SWZ:172.41,ETH:24.64,EU:243.93,EUROPE:302.29,FLK:500,FRO:404.76,FJI:288.46,FIN:79.16,FRA:56.02,GUF:217.82,PYF:442.86,G20:477.89,G7:341.44,GAB:491.6,GMB:666.67,GEO:167.59,DEU:381.41,GHA:484,GRC:336.57,GRL:178.57,GRD:640,GLP:500,GUM:622.86,GTM:328.27,GIN:236.84,GNB:625,GUY:640.35,HTI:567.31,HND:282.27,HKG:699.5,HUN:204.19,ISL:27.68,IND:713.01,IDN:682.43,IRN:641.73,IRQ:688.81,IRL:282.98,ISR:582.93,ITA:330.72,JAM:555.56,JPN:493.59,JOR:540.92,KAZ:821.9,KEN:71.2,KIR:666.67,XKX:894.65,KWT:649.16,KGZ:147.29,LAO:265.51,"LATIN AMERICA AND CARIBBEAN":256.03,LVA:123.99,LBN:599.01,LSO:20,LBR:227.85,LBY:818.69,LTU:160.07,LUX:105.26,MAC:448.98,MDG:436.44,MWI:66.67,MYS:607.88,MDV:611.77,MLI:408,MLT:459.14,MTQ:523.18,MRT:464.71,MUS:632.48,MEX:492.34,"MIDDLE EAST":643.04,MDA:643.46,MNG:775.31,MNE:418.09,MSR:1e3,MAR:624.45,MOZ:135.65,MMR:436.92,NAM:59.26,NRU:750,NPL:24.44,NLD:268.48,NCL:660.58,NZL:112.76,NIC:265.12,NER:670.89,NGA:523.25,"NORTH AMERICA":342.95,PRK:389.59,MKD:556.19,NOR:30.05,OCEANIA:495.74,OECD:341.27,OMN:564.55,PAK:440.61,PSE:516.13,PAN:161.68,PNG:507.25,PRY:24.31,PER:266.48,POL:661.93,PRT:165.55,PRI:677.96,QAT:602.5,REU:572.82,ROU:240.58,RUS:445.02,RWA:316.33,KNA:636.36,LCA:666.67,SPM:600,VCT:529.41,WSM:473.68,STP:642.86,SAU:696.31,SEN:511.6,SRB:647.52,SYC:564.52,SLE:50,SGP:470.78,SVK:116.77,SVN:231.28,SLB:700,SOM:578.95,ZAF:709.69,KOR:432.11,SSD:629.03,ESP:174.05,LKA:509.78,SDN:263.16,SUR:349.28,SWE:40.7,CHE:34.68,SYR:701.66,TWN:644.36,TJK:116.86,TZA:339.25,THA:549.85,PHL:610.74,TGO:443.18,TON:625,TTO:681.53,TUN:563.96,TUR:464.59,TKM:1306.03,TCA:653.85,UGA:44.53,UKR:256.21,ARE:492.7,GBR:228.25,USA:369.47,URY:128.79,UZB:1167.6,VUT:571.43,VEN:185.8,VNM:472.47,VGB:647.06,VIR:632.35,WORLD:481.65,YEM:566.1,ZMB:111.97,ZWE:297.87},_t="average";var M={data:yt,type:_t};const bt=.81,Fe=.52,$e=.14,Me=.15,je=.19,k=M.data.WORLD,Tt=50,ae=.75,se=.25,oe=.02,Qe={OPERATIONAL_KWH_PER_GB_DATACENTER:.055,OPERATIONAL_KWH_PER_GB_NETWORK:.059,OPERATIONAL_KWH_PER_GB_DEVICE:.08,EMBODIED_KWH_PER_GB_DATACENTER:.012,EMBODIED_KWH_PER_GB_NETWORK:.013,EMBODIED_KWH_PER_GB_DEVICE:.081,GLOBAL_GRID_INTENSITY:494},Rt={FIFTH_PERCENTILE:.095,TENTH_PERCENTILE:.186,TWENTIETH_PERCENTILE:.341,THIRTIETH_PERCENTILE:.493,FORTIETH_PERCENTILE:.656,FIFTIETH_PERCENTILE:.846},j={FIFTH_PERCENTILE:.04,TENTH_PERCENTILE:.079,TWENTIETH_PERCENTILE:.145,THIRTIETH_PERCENTILE:.209,FORTIETH_PERCENTILE:.278,FIFTIETH_PERCENTILE:.359},wt=Qe.GLOBAL_GRID_INTENSITY,x=n=>parseFloat(n.toFixed(2)),W=(n,e)=>n<=e;function We(n={},e=3,t=!1){var s,a,o,d,m,v;const l=e===4?wt:k;if(typeof n!="object")throw new Error("Options must be an object");const i={};if(n!=null&&n.gridIntensity){i.gridIntensity={};const{device:g,dataCenter:E,network:y}=n.gridIntensity;(g||g===0)&&(typeof g=="object"?(M.data[(s=g.country)==null?void 0:s.toUpperCase()]||(console.warn(`"${g.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information. 
Falling back to global average grid intensity.`),i.gridIntensity.device={value:l}),i.gridIntensity.device={country:g.country,value:parseFloat(M.data[(a=g.country)==null?void 0:a.toUpperCase()])}):typeof g=="number"?i.gridIntensity.device={value:g}:(i.gridIntensity.device={value:l},console.warn(`The device grid intensity must be a number or an object. You passed in a ${typeof g}. 
Falling back to global average grid intensity.`))),(E||E===0)&&(typeof E=="object"?(M.data[(o=E.country)==null?void 0:o.toUpperCase()]||(console.warn(`"${E.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information.  
Falling back to global average grid intensity.`),i.gridIntensity.dataCenter={value:k}),i.gridIntensity.dataCenter={country:E.country,value:parseFloat(M.data[(d=E.country)==null?void 0:d.toUpperCase()])}):typeof E=="number"?i.gridIntensity.dataCenter={value:E}:(i.gridIntensity.dataCenter={value:l},console.warn(`The data center grid intensity must be a number or an object. You passed in a ${typeof E}. 
Falling back to global average grid intensity.`))),(y||y===0)&&(typeof y=="object"?(M.data[(m=y.country)==null?void 0:m.toUpperCase()]||(console.warn(`"${y.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information.  Falling back to global average grid intensity. 
Falling back to global average grid intensity.`),i.gridIntensity.network={value:l}),i.gridIntensity.network={country:y.country,value:parseFloat(M.data[(v=y.country)==null?void 0:v.toUpperCase()])}):typeof y=="number"?i.gridIntensity.network={value:y}:(i.gridIntensity.network={value:l},console.warn(`The network grid intensity must be a number or an object. You passed in a ${typeof y}. 
Falling back to global average grid intensity.`)))}else i.gridIntensity={device:{value:l},dataCenter:{value:l},network:{value:l}};return n!=null&&n.dataReloadRatio||n.dataReloadRatio===0?typeof n.dataReloadRatio=="number"?n.dataReloadRatio>=0&&n.dataReloadRatio<=1?i.dataReloadRatio=n.dataReloadRatio:(i.dataReloadRatio=e===3?oe:0,console.warn(`The dataReloadRatio option must be a number between 0 and 1. You passed in ${n.dataReloadRatio}. 
Falling back to default value.`)):(i.dataReloadRatio=e===3?oe:0,console.warn(`The dataReloadRatio option must be a number. You passed in a ${typeof n.dataReloadRatio}. 
Falling back to default value.`)):(i.dataReloadRatio=e===3?oe:0,console.warn(`The dataReloadRatio option must be a number. You passed in a ${typeof n.dataReloadRatio}. 
Falling back to default value.`)),n!=null&&n.firstVisitPercentage||n.firstVisitPercentage===0?typeof n.firstVisitPercentage=="number"?n.firstVisitPercentage>=0&&n.firstVisitPercentage<=1?i.firstVisitPercentage=n.firstVisitPercentage:(i.firstVisitPercentage=e===3?ae:1,console.warn(`The firstVisitPercentage option must be a number between 0 and 1. You passed in ${n.firstVisitPercentage}. 
Falling back to default value.`)):(i.firstVisitPercentage=e===3?ae:1,console.warn(`The firstVisitPercentage option must be a number. You passed in a ${typeof n.firstVisitPercentage}. 
Falling back to default value.`)):(i.firstVisitPercentage=e===3?ae:1,console.warn(`The firstVisitPercentage option must be a number. You passed in a ${typeof n.firstVisitPercentage}. 
Falling back to default value.`)),n!=null&&n.returnVisitPercentage||n.returnVisitPercentage===0?typeof n.returnVisitPercentage=="number"?n.returnVisitPercentage>=0&&n.returnVisitPercentage<=1?i.returnVisitPercentage=n.returnVisitPercentage:(i.returnVisitPercentage=e===3?se:0,console.warn(`The returnVisitPercentage option must be a number between 0 and 1. You passed in ${n.returnVisitPercentage}. 
Falling back to default value.`)):(i.returnVisitPercentage=e===3?se:0,console.warn(`The returnVisitPercentage option must be a number. You passed in a ${typeof n.returnVisitPercentage}. 
Falling back to default value.`)):(i.returnVisitPercentage=e===3?se:0,console.warn(`The returnVisitPercentage option must be a number. You passed in a ${typeof n.returnVisitPercentage}. 
Falling back to default value.`)),n!=null&&n.greenHostingFactor||n.greenHostingFactor===0&&e===4?typeof n.greenHostingFactor=="number"?n.greenHostingFactor>=0&&n.greenHostingFactor<=1?i.greenHostingFactor=n.greenHostingFactor:(i.greenHostingFactor=0,console.warn(`The returnVisitPercentage option must be a number between 0 and 1. You passed in ${n.returnVisitPercentage}. 
Falling back to default value.`)):(i.greenHostingFactor=0,console.warn(`The returnVisitPercentage option must be a number. You passed in a ${typeof n.returnVisitPercentage}. 
Falling back to default value.`)):e===4&&(i.greenHostingFactor=0),t&&(i.greenHostingFactor=1),i}function Xe(n,e){let{FIFTH_PERCENTILE:t,TENTH_PERCENTILE:s,TWENTIETH_PERCENTILE:a,THIRTIETH_PERCENTILE:o,FORTIETH_PERCENTILE:d,FIFTIETH_PERCENTILE:m}=Rt;return e===4&&(t=j.FIFTH_PERCENTILE,s=j.TENTH_PERCENTILE,a=j.TWENTIETH_PERCENTILE,o=j.THIRTIETH_PERCENTILE,d=j.FORTIETH_PERCENTILE,m=j.FIFTIETH_PERCENTILE),W(n,t)?"A+":W(n,s)?"A":W(n,a)?"B":W(n,o)?"C":W(n,d)?"D":W(n,m)?"E":"F"}var Ct=Object.defineProperty,It=Object.defineProperties,Ot=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,Pt=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,Ue=(n,e,t)=>e in n?Ct(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,re=(n,e)=>{for(var t in e||(e={}))Pt.call(e,t)&&Ue(n,t,e[t]);if(Ke)for(var t of Ke(e))Nt.call(e,t)&&Ue(n,t,e[t]);return n},ne=(n,e)=>It(n,Ot(e));let At=class{constructor(e){this.allowRatings=!0,this.options=e,this.version=3}energyPerByteByComponent(e){const s=e/_e.GIGABYTE*bt;return{consumerDeviceEnergy:s*Fe,networkEnergy:s*$e,productionEnergy:s*je,dataCenterEnergy:s*Me}}co2byComponent(e,t=k,s={}){let a=k,o=k,d=k,m=k;if(s!=null&&s.gridIntensity){const{device:l,network:i,dataCenter:g}=s.gridIntensity;(l!=null&&l.value||(l==null?void 0:l.value)===0)&&(a=l.value),(i!=null&&i.value||(i==null?void 0:i.value)===0)&&(o=i.value),(g!=null&&g.value||(g==null?void 0:g.value)===0)&&(d=g.value)}t===!0&&(d=Tt);const v={};for(const[l,i]of Object.entries(e))l.startsWith("dataCenterEnergy")?v[l.replace("Energy","CO2")]=i*d:l.startsWith("consumerDeviceEnergy")?v[l.replace("Energy","CO2")]=i*a:l.startsWith("networkEnergy")?v[l.replace("Energy","CO2")]=i*o:v[l.replace("Energy","CO2")]=i*m;return v}perByte(e,t=!1,s=!1,a=!1,o={}){e<1&&(e=0);const d=this.energyPerByteByComponent(e,o);if(typeof t!="boolean")throw new Error(`perByte expects a boolean for the carbon intensity value. Received: ${t}`);const m=this.co2byComponent(d,t,o),l=Object.values(m).reduce((g,E)=>g+E);let i=null;return a&&(i=this.ratingScale(l)),s?a?ne(re({},m),{total:l,rating:i}):ne(re({},m),{total:l}):a?{total:l,rating:i}:l}perVisit(e,t=!1,s=!1,a=!1,o={}){const d=this.energyPerVisitByComponent(e,o);if(typeof t!="boolean")throw new Error(`perVisit expects a boolean for the carbon intensity value. Received: ${t}`);const m=this.co2byComponent(d,t,o),l=Object.values(m).reduce((g,E)=>g+E);let i=null;return a&&(i=this.ratingScale(l)),s?a?ne(re({},m),{total:l,rating:i}):ne(re({},m),{total:l}):a?{total:l,rating:i}:l}energyPerByte(e){const t=this.energyPerByteByComponent(e);return Object.values(t).reduce((a,o)=>a+o)}energyPerVisitByComponent(e,t={},s=ae,a=se,o=oe){(t.dataReloadRatio||t.dataReloadRatio===0)&&(o=t.dataReloadRatio),(t.firstVisitPercentage||t.firstVisitPercentage===0)&&(s=t.firstVisitPercentage),(t.returnVisitPercentage||t.returnVisitPercentage===0)&&(a=t.returnVisitPercentage);const d=this.energyPerByteByComponent(e),m={};Object.values(d);for(const[v,l]of Object.entries(d))m[`${v} - first`]=l*s,m[`${v} - subsequent`]=l*a*o;return m}energyPerVisit(e){let t=0,s=0;const a=Object.entries(this.energyPerVisitByComponent(e));for(const[o,d]of a)o.indexOf("first")>0&&(t+=d);for(const[o,d]of a)o.indexOf("subsequent")>0&&(s+=d);return t+s}emissionsPerVisitInGrams(e,t=k){return x(e*t)}annualEnergyInKwh(e,t=1e3){return e*t*12}annualEmissionsInGrams(e,t=1e3){return e*t*12}annualSegmentEnergy(e){return{consumerDeviceEnergy:x(e*Fe),networkEnergy:x(e*$e),dataCenterEnergy:x(e*Me),productionEnergy:x(e*je)}}ratingScale(e){return Xe(e,this.version)}};var pe=At,St=Object.defineProperty,Dt=Object.defineProperties,Bt=Object.getOwnPropertyDescriptors,Ye=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable,xe=(n,e,t)=>e in n?St(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,K=(n,e)=>{for(var t in e||(e={}))Vt.call(e,t)&&xe(n,t,e[t]);if(Ye)for(var t of Ye(e))Lt.call(e,t)&&xe(n,t,e[t]);return n},q=(n,e)=>Dt(n,Bt(e));const{OPERATIONAL_KWH_PER_GB_DATACENTER:kt,OPERATIONAL_KWH_PER_GB_NETWORK:Gt,OPERATIONAL_KWH_PER_GB_DEVICE:Ht,EMBODIED_KWH_PER_GB_DATACENTER:Ft,EMBODIED_KWH_PER_GB_NETWORK:$t,EMBODIED_KWH_PER_GB_DEVICE:Mt,GLOBAL_GRID_INTENSITY:U}=Qe;function qe(n,e){const t=n.dataCenter+n.network+n.device,s=e.dataCenter+e.network+e.device,a=n.dataCenter+e.dataCenter,o=n.network+e.network,d=n.device+e.device;return{dataCenterOperationalCO2e:n.dataCenter,networkOperationalCO2e:n.network,consumerDeviceOperationalCO2e:n.device,dataCenterEmbodiedCO2e:e.dataCenter,networkEmbodiedCO2e:e.network,consumerDeviceEmbodiedCO2e:e.device,totalEmbodiedCO2e:s,totalOperationalCO2e:t,dataCenterCO2e:a,networkCO2e:o,consumerDeviceCO2e:d}}function Je(n,e){return n?1:e!=null&&e.greenHostingFactor||(e==null?void 0:e.greenHostingFactor)===0?e.greenHostingFactor:0}class jt{constructor(e){this.allowRatings=!0,this.options=e,this.version=4}operationalEnergyPerSegment(e){const t=e/_e.GIGABYTE,s=t*kt,a=t*Gt,o=t*Ht;return{dataCenter:s,network:a,device:o}}operationalEmissions(e,t={}){const{dataCenter:s,network:a,device:o}=this.operationalEnergyPerSegment(e);let d=U,m=U,v=U;if(t!=null&&t.gridIntensity){const{device:E,network:y,dataCenter:R}=t.gridIntensity;(E!=null&&E.value||(E==null?void 0:E.value)===0)&&(v=E.value),(y!=null&&y.value||(y==null?void 0:y.value)===0)&&(m=y.value),(R!=null&&R.value||(R==null?void 0:R.value)===0)&&(d=R.value)}const l=s*d,i=a*m,g=o*v;return{dataCenter:l,network:i,device:g}}embodiedEnergyPerSegment(e){const t=e/_e.GIGABYTE,s=t*Ft,a=t*$t,o=t*Mt;return{dataCenter:s,network:a,device:o}}embodiedEmissions(e){const{dataCenter:t,network:s,device:a}=this.embodiedEnergyPerSegment(e),o=U,d=U,m=U,v=t*o,l=s*d,i=a*m;return{dataCenter:v,network:l,device:i}}perByte(e,t=!1,s=!1,a=!1,o={}){if(e<1)return 0;const d=this.operationalEmissions(e,o),m=this.embodiedEmissions(e),v=Je(t,o),l={dataCenter:d.dataCenter*(1-v)+m.dataCenter,network:d.network+m.network,device:d.device+m.device},i=l.dataCenter+l.network+l.device;let g=null;if(a&&(g=this.ratingScale(i)),s){const E=K({},qe(d,m));return a?q(K({},E),{total:i,rating:g}):q(K({},E),{total:i})}return a?{total:i,rating:g}:i}perVisit(e,t=!1,s=!1,a=!1,o={}){let d=1,m=0,v=0;const l=Je(t,o),i=this.operationalEmissions(e,o),g=this.embodiedEmissions(e);if(e<1)return 0;(o.firstVisitPercentage||o.firstVisitPercentage===0)&&(d=o.firstVisitPercentage),(o.returnVisitPercentage||o.returnVisitPercentage===0)&&(m=o.returnVisitPercentage),(o.dataReloadRatio||o.dataReloadRatio===0)&&(v=o.dataReloadRatio);const E=i.dataCenter*(1-l)+g.dataCenter+i.network+g.network+i.device+g.device,y=(i.dataCenter*(1-l)+g.dataCenter+i.network+g.network+i.device+g.device)*(1-v),R=E*d+y*m;let O=null;if(a&&(O=this.ratingScale(R)),s){const w=q(K({},qe(i,g)),{firstVisitCO2e:E,returnVisitCO2e:y});return a?q(K({},w),{total:R,rating:O}):q(K({},w),{total:R})}return a?{total:R,rating:O}:R}ratingScale(e){return Xe(e,this.version)}}var Ze=jt,Wt=Object.defineProperty,ce=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,ze=(n,e,t)=>e in n?Wt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ie=(n,e)=>{for(var t in e||(e={}))et.call(e,t)&&ze(n,t,e[t]);if(ce)for(var t of ce(e))tt.call(e,t)&&ze(n,t,e[t]);return n},ve=(n,e)=>{var t={};for(var s in n)et.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&ce)for(var s of ce(n))e.indexOf(s)<0&&tt.call(n,s)&&(t[s]=n[s]);return t};class Kt{constructor(e){if(this.model=new pe,(e==null?void 0:e.model)==="1byte")this.model=new He;else if((e==null?void 0:e.model)==="swd")this.model=new pe,(e==null?void 0:e.version)===4&&(this.model=new Ze);else if(e!=null&&e.model)throw new Error(`"${e.model}" is not a valid model. Please use "1byte" for the OneByte model, and "swd" for the Sustainable Web Design model.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`);if(e!=null&&e.rating&&typeof e.rating!="boolean")throw new Error(`The rating option must be a boolean. Please use true or false.
See https://developers.thegreenwebfoundation.org/co2js/options/ to learn more about the options available in CO2.js.`);const t=!!this.model.allowRatings;if(this._segment=(e==null?void 0:e.results)==="segment",this._rating=(e==null?void 0:e.rating)===!0,!t&&this._rating)throw new Error(`The rating system is not supported in the model you are using. Try using the Sustainable Web Design model instead.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`)}perByte(e,t=!1){return this.model.perByte(e,t,this._segment,this._rating)}perVisit(e,t=!1){var s;if((s=this.model)!=null&&s.perVisit)return this.model.perVisit(e,t,this._segment,this._rating);throw new Error(`The perVisit() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}perByteTrace(e,t=!1,s={}){const a=We(s,this.model.version,t),m=ve(a,["gridIntensity"]),v=ve(m,["dataReloadRatio","firstVisitPercentage","returnVisitPercentage"]);return{co2:this.model.perByte(e,t,this._segment,this._rating,a),green:t,variables:ie({description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:ie({description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate."},a.gridIntensity)},v)}}perVisitTrace(e,t=!1,s={}){var a;if((a=this.model)!=null&&a.perVisit){const o=We(s,this.model.version,t),d=o,m=ve(d,["gridIntensity"]);return{co2:this.model.perVisit(e,t,this._segment,this._rating,o),green:t,variables:ie({description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:ie({description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate."},o.gridIntensity)},m)}}else throw new Error(`The perVisitTrace() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}SustainableWebDesignV3(){return new pe}SustainableWebDesignV4(){return new Ze}OneByte(){return new He}}var Ut=Kt,Yt=Object.getOwnPropertyNames,xt=(n,e)=>function(){return e||(0,n[Yt(n)[0]])((e={exports:{}}).exports,e),e.exports},qt=xt({"src/hosting-json.js"(n,e){async function t(l,i){return typeof l=="string"?s(l,i):o(l,i)}function s(l,i){return i.indexOf(l)>-1}function a(l){return Object.entries(l).filter(([E,y])=>y.green).map(([E,y])=>y.url)}function o(l,i){let g=[];for(let E of l)i.indexOf(E)>-1&&g.push(E);return g}function d(l,i){return typeof l=="string"?m(l,i):v(l,i)}function m(l,i){return i.indexOf(l)>-1?l:{url:l,green:!1}}function v(l,i){const g={};for(let E of l)g[E]=m(E,i);return g}e.exports={check:t,greenDomainsFromResults:a,find:d}}});qt();const Jt=new Ut;function Zt(n){return n.replace(/(\d+)+(\.(\d+))?\s?(k|m|g|t)?b?/i,function(e,t,s,a,o){return parseFloat(t+(s||""))*({K:1024,M:1<<20,G:1<<30,T:256}[o]||1)}).replace(/[^\d.-]/g,"")}async function zt(){await new Promise(e=>setTimeout(e,1e3));const n=document.getElementsByTagName("speedlify-score");if(n.length){const e=n[0].shadowRoot.childNodes[4].childNodes[0].firstChild.data,t=Zt(e),s=Jt.perVisit(t,!1),a=`You consume an average of ${s.toFixed(3)} grams of CO2 to view this page.`,o=`Consumi in media ${s.toFixed(3)} grammi di CO2 per visualizzare questa pagina.`;let d;document.documentElement.lang=="en"?d=a:d=o;const m=document.createTextNode(d);document.getElementsByClassName("estimatedCo2")[0].appendChild(m)}}zt();const rt=iframemanager();rt.run({currLang:document.documentElement.lang,services:{youtube:{embedUrl:"https://www.youtube-nocookie.com/embed/{data-id}",thumbnailUrl:"https://i3.ytimg.com/vi/{data-id}/hqdefault.jpg",iframe:{allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture; fullscreen;"},languages:{en:{notice:'Accept YouTube cookies to play the video.<br />Learn more about the <a rel="noreferrer noopener" href="https://www.youtube.com/t/terms">terms and conditions of youtube.com</a>',loadBtn:"Accept and load"},it:{notice:'Accetta i cookie di Youtube per riprodurre il video.<br />Scopri di più sui <a rel="noreferrer noopener" href="https://www.youtube.com/t/terms">termini e le condizioni di youtube.com</a>',loadBtn:"Accetta e carica"}}}}});rt.rejectService("all");
//# sourceMappingURL=main-CgXW_tfu.js.map
