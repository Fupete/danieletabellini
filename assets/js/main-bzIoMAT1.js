var lt=Object.defineProperty;var ut=(n,e,t)=>e in n?lt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ge=(n,e,t)=>ut(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();class oe{constructor(){this.fetches={},this.responses={},this.urls={}}static normalizeUrl(e,t){return`${e}${e.endsWith("/")?"":"/"}`+(t.startsWith("/")?t.substr(1):t)}async fetchFromApi(e){this.fetches[e]||(this.fetches[e]=fetch(e));let t=await this.fetches[e];return this.responses[e]||(this.responses[e]=t.json()),await this.responses[e]}async fetchHash(e,t){if(this.urls[e])return this.urls[e][t]?this.urls[e][t].hash:!1;let a=oe.normalizeUrl(e,"api/urls.json"),i=await this.fetchFromApi(a);return i[t]?i[t].hash:!1}async fetchData(e,t){let a=oe.normalizeUrl(e,`api/${t}.json`);return this.fetchFromApi(a)}}const Ge=new oe,S=class S extends HTMLElement{static register(e){customElements.define(e||"speedlify-score",S)}connectedCallback(){if(!(!("replaceSync"in CSSStyleSheet.prototype)||this.shadowRoot)){if(this.speedlifyUrl=this.getAttribute(S.attrs.speedlifyUrl),this.shorthash=this.getAttribute(S.attrs.hash),this.rawData=this.getAttribute(S.attrs.rawData),this.url=this.getAttribute(S.attrs.url)||window.location.href,!this.rawData&&!this.speedlifyUrl){console.error(`Missing \`${S.attrs.speedlifyUrl}\` attribute:`,this);return}this.init()}}_initTemplate(e,t=!1){if(this.shadowRoot&&!t)return;if(this.shadowRoot){this.shadowRoot.innerHTML=this.render(e);return}let a=this.attachShadow({mode:"open"}),i=new CSSStyleSheet;i.replaceSync(S.css),a.adoptedStyleSheets=[i];let s=document.createElement("template");s.innerHTML=this.render(e),a.appendChild(s.content.cloneNode(!0))}async init(){if(this.rawData){let i=JSON.parse(this.rawData);this._initTemplate(i);return}let e=this.shorthash,t=!1;if(e||(this._initTemplate(),t=!0,e=await Ge.fetchHash(this.speedlifyUrl,this.url)),!e){console.error(`<speedlify-score> could not find hash for URL (${this.url}):`,this);return}t||(this._initTemplate(),t=!0);let a=await Ge.fetchData(this.speedlifyUrl,e);this._initTemplate(a,t)}getScoreClass(e){return e===""||e===void 0?"circle":e<.5?"circle circle-bad":e<.9?"circle circle-ok":"circle circle-good"}getScoreHtml(e,t=""){return`<span title="${e}" class="${this.getScoreClass(t)}">${t?parseInt(t*100,10):"…"}</span>`}render(e={}){var u,f,m,c,d,v,E,R,y,P;let t=S.attrs,a=[];(!this.hasAttribute(t.requests)&&!this.hasAttribute(t.weight)&&!this.hasAttribute(t.rank)&&!this.hasAttribute(t.rankChange)||this.hasAttribute(t.score))&&(a.push(this.getScoreHtml("Performance",(u=e.lighthouse)==null?void 0:u.performance)),a.push(this.getScoreHtml("Accessibility",(f=e.lighthouse)==null?void 0:f.accessibility)),a.push(this.getScoreHtml("Best Practices",(m=e.lighthouse)==null?void 0:m.bestPractices)),a.push(this.getScoreHtml("SEO",(c=e.lighthouse)==null?void 0:c.seo)));let i=[],s=((v=(d=e.weight)==null?void 0:d.summary)==null?void 0:v.split(" • "))||[];if(this.hasAttribute(t.requests)&&s.length&&i.push(`<span class="requests">${s[0]}</span>`),this.hasAttribute(t.weight)&&s.length&&i.push(`<span class="weight">${s[1]}</span>`),(E=e.ranks)!=null&&E.cumulative){if(this.hasAttribute(t.rank)){let C=this.getAttribute("rank-url");i.push(`<${C?`a href="${C}"`:"span"} class="rank">${(R=e.ranks)==null?void 0:R.cumulative}</${C?"a":"span"}>`)}if(this.hasAttribute(t.rankChange)&&e.previousRanks){let C=((y=e.previousRanks)==null?void 0:y.cumulative)-((P=e.ranks)==null?void 0:P.cumulative);i.push(`<span class="rank-change ${C>0?"up":C<0?"down":"same"}">${C!==0?Math.abs(C):""}</span>`)}}return i.length&&a.push(`<span class="meta">${i.join("")}</span>`),a.join("")}};ge(S,"attrs",{url:"url",speedlifyUrl:"speedlify-url",hash:"hash",rawData:"raw-data",requests:"requests",weight:"weight",rank:"rank",rankChange:"rank-change",score:"score"}),ge(S,"css",`
:host {
	--_circle: var(--speedlify-circle);
	display: flex;
	align-items: center;
	gap: 0.375em; /* 6px /16 */
}
.circle {
	font-size: 0.8125em; /* 13px /16 */
	min-width: 2.6em;
	height: 2.6em;
	line-height: 1;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 50%;
	border: 0.15384615em solid currentColor; /* 2px /13 */
	color: var(--_circle, #666);
}
.circle-good {
	color: var(--_circle, #088846);
	border-color: var(--_circle, #0cce6b);
}
.circle-ok {
	color: var(--_circle, #A56900);
	border-color: var(--_circle, currentColor);
}
.circle-bad {
	color: var(--_circle, #EC0D00);
	border-color: var(--_circle, currentColor);
}
.meta {
	display: flex;
	align-items: center;
	gap: 0.625em; /* 10px /16 */
}
.circle + .meta {
	margin-left: 0.25em; /* 4px /16 */
}
.rank:before {
	content: "Rank #";
}
.rank-change:before {
	line-height: 1;
}
.rank-change.up {
	color: #088846;
}
.rank-change.up:before {
	content: "⬆";
}
.rank-change.down {
	color: #EC0D00;
}
.rank-change.down:before {
	content: "⬇";
}
`);let ve=S;"customElements"in window&&"fetch"in window&&ve.register();/*!
 * iframemanager v1.3.0
 * Author Orest Bida
 * Released under the MIT License
 */(()=>{const e="click",t="{data-id}",a="accept",i="reject",s="c-h-n",u="c-h-b",f="show-ph";let m,c,d,v,E={},R={},y={},P={},C="",B={},D=[],A=new Map,q="api";const nt=["onload","onerror","src","params"],G=r=>typeof r=="function",U=r=>typeof r=="string",J=r=>c.createElement(r),L=()=>J("div"),Re=()=>{const r=J("button");return r.type="button",r},I=(r,o)=>r.className=o,H=(r,o)=>r.classList.add(o),O=(r,o)=>r.appendChild(o),le=r=>r&&Object.keys(r)||[],Z=(r,o)=>{for(const l in o)ot(r,l,o[l])},at=r=>{const o=r.dataset,l={},g="data-iframe-",_=r.getAttributeNames().filter((b=>b.slice(0,12)===g)).map((b=>b.slice(12))),h=r.querySelector("[data-placeholder]"),T=h&&h.hasAttribute("data-visible");T&&h.removeAttribute("data-visible");const p=h&&h.cloneNode(!0);for(const b of _)l[b]=r.getAttribute(g+b);return{t:o.id,o:o.title,i:o.thumbnail,l:o.params,v:r,u:null,m:h,p,h:null,_:!1,$:!1,S:!0,T:"widget"in o,I:T,P:l}},it=(r,o)=>{const l=E[r];"IntersectionObserver"in m&&(g=>{y[g]=new IntersectionObserver((_=>{for(const h of _)h.isIntersecting&&(st(o,l[h.target.dataset.index]),y[g].unobserve(h.target))}));for(const _ of l)y[g].observe(_.v)})(r)},st=(r,o)=>{const l=g=>{o.h.style.backgroundImage=`url('${g}')`;const _=new Image;_.onload=()=>H(o.h,"loaded"),_.src=g};if(U(o.i))o.i!==""&&l(o.i);else if(G(r))r(o.t,(g=>l(g)));else if(U(r)){const g=r.replace(t,o.t);l(g)}},be=(r,o)=>{if(r._)return;if(r._=!0,r.m){const p=r.p.cloneNode(!0);r.m.replaceWith(p),r.m=p}const l=o.iframe;if(G(o.onAccept))return void o.onAccept(r.v,(p=>{if(!(p instanceof HTMLIFrameElement))return!1;Z(p,l),Z(p,r.P),r.D=p,r._=!0,H(r.v,u),(!r.I||r.T)&&H(r.v,f)}));r.D=J("iframe");const g=o.iframe,_=r.l||g&&g.params;let h=o.embedUrl||"";G(h)&&(h=String(h()));let T=h.replace(t,r.t);r.o&&(r.D.title=r.o),_&&U(_)&&(T+=_.slice(0,1)==="?"?_:`?${_}`),r.D.onload=()=>{H(r.v,u),r.D.onload=void 0,G(l&&l.onload)&&l.onload(r.t,r.D)},Z(r.D,l),Z(r.D,r.P),r.D.src=T,O(r.u,r.D)},ot=(r,o,l)=>{nt.includes(o)||r.setAttribute(o,l)},ye=r=>{H(r.v,s),r.S=!1},Ce=r=>{r.v.classList.remove(s,u,f),r.S=!0},ue=r=>(r=c.cookie.match(`(^|;)\\s*${r}\\s*=\\s*([^;]+)`))?r.pop():"",we=(r,o,l)=>{const g=E[r],_=o.languages;g.forEach((h=>{if(!h.$&&_){const T=_[C],p=T&&T.loadBtn,b=T&&(T.notice||"").replace(t,h.t),w=T&&T.loadAllBtn,V=c.createElement("div"),k=L(),F=L(),de=L(),Q=L();I(V,"cll"),h.u=V;const De=()=>{ye(h),be(h,o)};if(p){const N=Re();N.textContent=p,I(N,"c-l-b"),N.addEventListener(e,De),O(Q,N)}if(w){const N=Re();N.textContent=w,I(N,p?"c-la-b":"c-l-b"),N.addEventListener(e,(()=>{De(),q=e,Ae.acceptService(r)})),O(Q,N)}const X=L(),fe=L(),Ve=L(),he=L(),ee=L();I(X,"cc-text"),I(he,"c-bg-i"),h.h=he,I(Ve,"c-ld"),U(h.i)&&h.i===""||I(fe,"c-bg");const Be=h.o,Le=c.createDocumentFragment();if(Be){const N=J("span");I(N,"c-tl"),N.insertAdjacentHTML("beforeend",Be),O(Le,N)}O(X,Le),k&&X.insertAdjacentHTML("beforeend",b||""),O(F,X),I(ee,"c-t-cn"),I(F,"c-n-t"),I(de,"c-n-c"),I(k,"c-nt"),I(Q,"c-n-a"),O(ee,F),(p||w)&&O(ee,Q),O(de,ee),O(k,de),O(fe,he),O(V,k),(o.thumbnailUrl||h.i)&&O(V,fe),O(V,Ve),l&&H(h.v,s),h.v.prepend(V),h.$=!0,setTimeout((()=>H(h.v,"c-an")),20)}}))},Oe=(r,o)=>{const l=E[r];l.forEach((g=>{g._||((_,h)=>{R[h]||(R[h]=new IntersectionObserver((T=>{if(P[h])R[h].disconnect();else for(let p=0;p<T.length;++p)T[p].isIntersecting&&(b=>{const w=T[b].target,V=w.dataset.index;be(l[V],o),setTimeout((()=>{ye(l[V])}),50*b),R[h].unobserve(w)})(p)}))),R[h].observe(_)})(g.v,r)}))},Pe=(r,o)=>r in o?r:le(o).length>0?C in o?C:le(o)[0]:void 0,Ie=(r,o)=>{const{cookie:l}=o;ue(l.name)||(g=>{const{hostname:_,protocol:h}=location,T=g.name,p=new Date,b=g.path||"/",w=864e5*(g.expiration||182),V=g.sameSite||"Lax",k=g.domain||_;p.setTime(p.getTime()+w);let F=T+"=1"+(w!==0?`; Expires=${p.toUTCString()}`:"")+`; Path=${b}; SameSite=${V}`;k.indexOf(".")>-1&&(F+=`; Domain=${k}`),h==="https:"&&(F+="; Secure"),c.cookie=F})(l),Oe(r,o)},Ne=(r,o)=>{const{cookie:l}=o;ue(l.name)&&(g=>{const _=g.name,h=g.path||"/",T=g.domain||location.hostname;c.cookie=`${_}=; Path=${h}; Domain=${T}; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`})(l),((g,_)=>{const h=E[g];for(let T=0;T<h.length;T++)(p=>{var b;h[p]._&&(G(_.onReject)?(_.onReject(h[p].D,h[p].v,(()=>Ce(h[p]))),h[p]._=!1):((b=h[p]).D&&b.D.remove(),b._=!1)),Ce(h[p])})(T)})(r,o)},z=(r,o,l)=>{G(v)&&v({eventSource:{type:q,service:r,action:o},changedServices:l})},ct=r=>{if(r.hasAttribute("data-service")){r.removeAttribute("class"),r.removeAttribute("data-index");for(const o of r.children)o.hasAttribute("data-placeholder")||o.remove()}},Ae={acceptService:r=>{const o=[];if(r==="all"){for(const l of D)P[l]=!1,A.get(l)||(A.set(l,!0),Ie(l,B[l]),o.push(l));o.length>0&&z(r,a,o)}else D.includes(r)&&(P[r]=!1,A.get(r)||(A.set(r,!0),Ie(r,B[r]),o.push(r),z(r,a,o)));q="api"},rejectService:r=>{const o=[];if(r==="all"){for(const l of D)P[l]=!0,Ne(l,B[l]),A.get(l)&&(A.set(l,!1),o.push(l));o.length>0&&z(r,i,o)}else D.includes(r)&&(P[r]=!0,Ne(r,B[r]),A.get(r)&&(A.set(r,!1),o.push(r),z(r,i,o)))},childExists:async({parent:r=m,childProperty:o,childSelector:l="iframe",timeout:g=1e3,maxTimeout:_=15e3})=>{let h=1;const T=o?()=>r[o]:()=>r.querySelector(l);return new Promise((p=>{const b=()=>{if(T()||h++*g>_)return p(T()!==void 0);setTimeout(b,g)};b()}))},getState:()=>({services:new Map(A),acceptedServices:[...A].filter((([,r])=>!!r)).map((([r])=>r))}),getConfig:()=>d,reset:r=>{if(r)for(const o of D)for(const l of E[o])ct(l.v);(()=>{var o,l;for(const g of D)(o=R[g])==null||o.disconnect(),(l=y[g])==null||l.disconnect(),delete R[g],delete y[g];R={},y={},P={}})(),m=void 0,c=void 0,d=void 0,v=void 0,E={},C="",B={},D=[],A=new Map,q="api",window._imRun=!1},run:r=>{if(window._imRun||(c=document,m=window,d=r,B=d.services,v=d.onChange,D=le(B),D.length===0))return;C=d.currLang;const o=B[D[0]].languages;d.autoLang===!0?C=Pe(navigator.language.slice(0,2).toLowerCase(),o):U(d.currLang)&&(C=Pe(d.currLang,o));for(const l of D){const g=B[l],_=g.cookie=g.cookie||{},h=_.name=_.name||`im_${l}`,T=ue(h);A.set(l,!!T),E[l]=[];const p=c.querySelectorAll(`div[data-service="${l}"]`),b=p.length;if(b!==0){for(let w=0;w<b;w++)p[w].dataset.index=w,E[l].push(at(p[w]));T?(we(l,g,!0),Oe(l,g)):we(l,g,!1),it(l,g.thumbnailUrl)}}window._imRun=!0}},Se="iframemanager";typeof window>"u"||G(window[Se])||(window[Se]=()=>Ae)})();const dt=519,ft=475,ht=0,He=72e-12,gt=429e-12,mt=152e-12,Et=884e-12,me=(gt+mt+Et)/3;class pt{constructor(e){this.allowRatings=!1,this.options=e,this.KWH_PER_BYTE_FOR_NETWORK=me}perByte(e,t){if(e<1)return 0;if(t){const i=e*He*ht,s=e*me*ft;return i+s}const a=He+me;return e*a*dt}}var ke=pt;const vt=1e3*1e3*1e3;var _e={GIGABYTE:vt};const _t={AFG:123.71,AFRICA:545.09,ALB:24.42,DZA:633.65,ASM:647.06,AGO:167.22,ATG:611.11,ARG:344.83,ARM:243.52,ABW:550,ASEAN:573.65,ASIA:572.12,AUS:553.76,AUT:102.62,AZE:632.89,BHS:653.66,BHR:902.41,BGD:694.63,BRB:600,BLR:323.63,BEL:117.58,BLZ:155.56,BEN:590,BTN:24.19,BOL:468.02,BIH:638.05,BWA:849.42,BRA:106.06,BRN:892.67,BGR:264.21,BFA:554.91,BDI:230.77,CPV:480,KHM:497.46,CMR:285.71,CAN:184.99,CYM:642.86,CAF:0,TCD:615.39,CHL:265.52,CHN:557.5,COL:285.8,COM:642.86,COG:713.73,COD:27.04,COK:250,CRI:63.01,CIV:393.53,HRV:174.48,CUB:638.98,CYP:512.24,CZE:413.86,DNK:143.3,DJI:450,DMA:600,DOM:565.97,ECU:209.7,EGY:574.5,SLV:99.29,GNQ:605.1,ERI:590.91,EST:341.02,SWZ:142.86,ETH:23.55,EU:213.02,EUROPE:285,FLK:1e3,FRO:354.17,FJI:278.26,FIN:72.25,FRA:44.18,GUF:204.08,PYF:436.62,G20:468.38,G7:343.3,GAB:429.47,GMB:666.67,GEO:143.06,DEU:342.06,GHA:452.86,GRC:319.76,GRL:111.11,GRD:666.67,GLP:493.9,GUM:611.11,GTM:272.66,GIN:182.72,GNB:625,GUY:634.33,HTI:534.65,HND:289.5,HKG:681.99,HUN:182.82,ISL:28.33,IND:708.96,IDN:682.43,IRN:648.68,IRQ:689.4,IRL:279.79,ISR:567.26,ITA:287.75,JAM:561.25,JPN:483.73,JOR:539.21,KAZ:801.79,KEN:84.83,KIR:500,XKX:958.72,KWT:637.24,KGZ:152.65,LAO:232.12,"LATIN AMERICA AND CARIBBEAN":254.21,LVA:136.22,LBN:369.47,LSO:20.83,LBR:435.9,LBY:830.53,LTU:139.34,LUX:134.62,MAC:448.98,MDG:477.27,MWI:54.65,MYS:604.43,MDV:611.77,MLI:394.5,MLT:484.16,MTQ:516.78,MRT:481.71,MUS:633.03,MEX:483.14,"MIDDLE EAST":637.24,MDA:629.56,MNG:784.01,MNE:413.51,MSR:1e3,MAR:577.65,MOZ:127.81,MMR:569.69,NAM:47.62,NRU:750,NPL:23.36,NLD:252.7,NCL:585.76,NZL:120.11,NIC:288.33,NER:687.5,NGA:507.85,"NORTH AMERICA":358.36,PRK:344.26,MKD:568.97,NOR:30.75,OCEANIA:495.47,OECD:337.99,OMN:545.33,PAK:398.61,PSE:460.78,PAN:258.74,PNG:513.74,PRY:24.86,PER:263.27,POL:614.98,PRT:111.8,PRI:664.53,QAT:602.83,REU:525.22,ROU:245.55,RUS:446.17,RWA:301.89,KNA:636.36,LCA:650,SPM:600,VCT:600,WSM:400,STP:555.56,SAU:691.95,SEN:535.4,SRB:670.8,SYC:571.43,SLE:47.62,SGP:498.74,SVK:96.49,SVN:227.11,SLB:636.36,SOM:523.81,ZAF:713.9,KOR:415.65,SSD:610.17,ESP:146.15,LKA:509.78,SDN:214.33,SUR:383.18,SWE:35.89,CHE:36.72,SYR:682.27,TWN:635.15,TJK:98.7,TZA:371.59,THA:555.43,PHL:613.38,TGO:478.26,TON:571.43,TTO:682.11,TUN:560.25,TUR:469.7,TKM:1306.3,TCA:653.85,UGA:57.39,UKR:250.47,ARE:467.51,GBR:215.79,USA:383.55,URY:96.7,UZB:1121.18,VUT:500,VEN:180.25,VNM:486.13,VGB:647.06,VIR:641.79,WORLD:472.94,YEM:586.32,ZMB:111,ZWE:298.44};var Te={data:_t};const Tt=.81,Fe=.52,Me=.14,We=.15,je=.19,M=Te.data.WORLD,Rt=50,ae=.75,ie=.25,se=.02,ze={OPERATIONAL_KWH_PER_GB_DATACENTER:.055,OPERATIONAL_KWH_PER_GB_NETWORK:.059,OPERATIONAL_KWH_PER_GB_DEVICE:.08,EMBODIED_KWH_PER_GB_DATACENTER:.012,EMBODIED_KWH_PER_GB_NETWORK:.013,EMBODIED_KWH_PER_GB_DEVICE:.081,GLOBAL_GRID_INTENSITY:494},bt={FIFTH_PERCENTILE:.095,TENTH_PERCENTILE:.186,TWENTIETH_PERCENTILE:.341,THIRTIETH_PERCENTILE:.493,FORTIETH_PERCENTILE:.656,FIFTIETH_PERCENTILE:.846},W={FIFTH_PERCENTILE:.04,TENTH_PERCENTILE:.079,TWENTIETH_PERCENTILE:.145,THIRTIETH_PERCENTILE:.209,FORTIETH_PERCENTILE:.278,FIFTIETH_PERCENTILE:.359},yt=ze.GLOBAL_GRID_INTENSITY,Y=n=>parseFloat(n.toFixed(2)),j=(n,e)=>n<=e;function Qe(n={},e=3,t=!1){const a=e===4?yt:M;if(typeof n!="object")throw new Error("Options must be an object");const i={};function s(u,f){var m,c;f||f===0?typeof f=="object"?(Te.data[(m=f.country)==null?void 0:m.toUpperCase()]||(console.warn('"'.concat(f.country,`" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information. 
Falling back to global average grid intensity.`)),i.gridIntensity[u]={value:a}),i.gridIntensity[u]={country:f.country,value:parseFloat(Te.data[(c=f.country)==null?void 0:c.toUpperCase()])}):typeof f=="number"?i.gridIntensity[u]={value:f}:(i.gridIntensity[u]={value:a},console.warn("The ".concat(u," grid intensity must be a number or an object. You passed in a ").concat(typeof f,`. 
Falling back to global average grid intensity.`))):i.gridIntensity[u]={value:a}}if(n!=null&&n.gridIntensity){i.gridIntensity={};const{device:u,dataCenter:f,network:m}=n.gridIntensity;s("device",u),s("dataCenter",f),s("network",m)}else i.gridIntensity={device:{value:a},dataCenter:{value:a},network:{value:a}};return n!=null&&n.greenHostingFactor||n.greenHostingFactor===0&&e===4?typeof n.greenHostingFactor=="number"?n.greenHostingFactor>=0&&n.greenHostingFactor<=1?i.greenHostingFactor=n.greenHostingFactor:(i.greenHostingFactor=0,console.warn("The returnVisitPercentage option must be a number between 0 and 1. You passed in ".concat(n.returnVisitPercentage,`. 
Falling back to default value.`))):(i.greenHostingFactor=0,console.warn("The returnVisitPercentage option must be a number. You passed in a ".concat(typeof n.returnVisitPercentage,`. 
Falling back to default value.`))):e===4&&(i.greenHostingFactor=0),t&&(i.greenHostingFactor=1),i}function Ct(n={},e=3,t=!1){if(typeof n!="object")throw new Error("Options must be an object");const a=Qe(n,e,t);return(n!=null&&n.dataReloadRatio||n.dataReloadRatio===0)&&typeof n.dataReloadRatio=="number"?n.dataReloadRatio>=0&&n.dataReloadRatio<=1?a.dataReloadRatio=n.dataReloadRatio:(a.dataReloadRatio=e===3?se:0,console.warn("The dataReloadRatio option must be a number between 0 and 1. You passed in ".concat(n.dataReloadRatio,`. 
Falling back to default value.`))):(a.dataReloadRatio=e===3?se:0,console.warn("The dataReloadRatio option must be a number. You passed in a ".concat(typeof n.dataReloadRatio,`. 
Falling back to default value.`))),(n!=null&&n.firstVisitPercentage||n.firstVisitPercentage===0)&&typeof n.firstVisitPercentage=="number"?n.firstVisitPercentage>=0&&n.firstVisitPercentage<=1?a.firstVisitPercentage=n.firstVisitPercentage:(a.firstVisitPercentage=e===3?ae:1,console.warn("The firstVisitPercentage option must be a number between 0 and 1. You passed in ".concat(n.firstVisitPercentage,`. 
Falling back to default value.`))):(a.firstVisitPercentage=e===3?ae:1,console.warn("The firstVisitPercentage option must be a number. You passed in a ".concat(typeof n.firstVisitPercentage,`. 
Falling back to default value.`))),(n!=null&&n.returnVisitPercentage||n.returnVisitPercentage===0)&&typeof n.returnVisitPercentage=="number"?n.returnVisitPercentage>=0&&n.returnVisitPercentage<=1?a.returnVisitPercentage=n.returnVisitPercentage:(a.returnVisitPercentage=e===3?ie:0,console.warn("The returnVisitPercentage option must be a number between 0 and 1. You passed in ".concat(n.returnVisitPercentage,`. 
Falling back to default value.`))):(a.returnVisitPercentage=e===3?ie:0,console.warn("The returnVisitPercentage option must be a number. You passed in a ".concat(typeof n.returnVisitPercentage,`. 
Falling back to default value.`))),a}function Xe(n,e){let{FIFTH_PERCENTILE:t,TENTH_PERCENTILE:a,TWENTIETH_PERCENTILE:i,THIRTIETH_PERCENTILE:s,FORTIETH_PERCENTILE:u,FIFTIETH_PERCENTILE:f}=bt;return e===4&&(t=W.FIFTH_PERCENTILE,a=W.TENTH_PERCENTILE,i=W.TWENTIETH_PERCENTILE,s=W.THIRTIETH_PERCENTILE,u=W.FORTIETH_PERCENTILE,f=W.FIFTIETH_PERCENTILE),j(n,t)?"A+":j(n,a)?"A":j(n,i)?"B":j(n,s)?"C":j(n,u)?"D":j(n,f)?"E":"F"}var wt=Object.defineProperty,Ot=Object.defineProperties,Pt=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,$e=(n,e,t)=>e in n?wt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,te=(n,e)=>{for(var t in e||(e={}))It.call(e,t)&&$e(n,t,e[t]);if(Ke)for(var t of Ke(e))Nt.call(e,t)&&$e(n,t,e[t]);return n},re=(n,e)=>Ot(n,Pt(e));let At=class{constructor(e){this.allowRatings=!0,this.options=e,this.version=3}energyPerByteByComponent(e){const a=e/_e.GIGABYTE*Tt;return{consumerDeviceEnergy:a*Fe,networkEnergy:a*Me,productionEnergy:a*je,dataCenterEnergy:a*We}}co2byComponent(e,t=M,a={}){let i=M,s=M,u=M,f=M;if(a!=null&&a.gridIntensity){const{device:c,network:d,dataCenter:v}=a.gridIntensity;(c!=null&&c.value||(c==null?void 0:c.value)===0)&&(i=c.value),(d!=null&&d.value||(d==null?void 0:d.value)===0)&&(s=d.value),(v!=null&&v.value||(v==null?void 0:v.value)===0)&&(u=v.value)}t===!0&&(u=Rt);const m={};for(const[c,d]of Object.entries(e))c.startsWith("dataCenterEnergy")?m[c.replace("Energy","CO2")]=d*u:c.startsWith("consumerDeviceEnergy")?m[c.replace("Energy","CO2")]=d*i:c.startsWith("networkEnergy")?m[c.replace("Energy","CO2")]=d*s:m[c.replace("Energy","CO2")]=d*f;return m}perByte(e,t=!1,a=!1,i=!1,s={}){e<1&&(e=0);const u=this.energyPerByteByComponent(e,s);if(typeof t!="boolean")throw new Error("perByte expects a boolean for the carbon intensity value. Received: ".concat(t));const f=this.co2byComponent(u,t,s),c=Object.values(f).reduce((v,E)=>v+E);let d=null;return i&&(d=this.ratingScale(c)),a?i?re(te({},f),{total:c,rating:d}):re(te({},f),{total:c}):i?{total:c,rating:d}:c}perVisit(e,t=!1,a=!1,i=!1,s={}){const u=this.energyPerVisitByComponent(e,s);if(typeof t!="boolean")throw new Error("perVisit expects a boolean for the carbon intensity value. Received: ".concat(t));const f=this.co2byComponent(u,t,s),c=Object.values(f).reduce((v,E)=>v+E);let d=null;return i&&(d=this.ratingScale(c)),a?i?re(te({},f),{total:c,rating:d}):re(te({},f),{total:c}):i?{total:c,rating:d}:c}energyPerByte(e){const t=this.energyPerByteByComponent(e);return Object.values(t).reduce((i,s)=>i+s)}energyPerVisitByComponent(e,t={},a=ae,i=ie,s=se){(t.dataReloadRatio||t.dataReloadRatio===0)&&(s=t.dataReloadRatio),(t.firstVisitPercentage||t.firstVisitPercentage===0)&&(a=t.firstVisitPercentage),(t.returnVisitPercentage||t.returnVisitPercentage===0)&&(i=t.returnVisitPercentage);const u=this.energyPerByteByComponent(e),f={};Object.values(u);for(const[m,c]of Object.entries(u))f["".concat(m," - first")]=c*a,f["".concat(m," - subsequent")]=c*i*s;return f}energyPerVisit(e){let t=0,a=0;const i=Object.entries(this.energyPerVisitByComponent(e));for(const[s,u]of i)s.indexOf("first")>0&&(t+=u);for(const[s,u]of i)s.indexOf("subsequent")>0&&(a+=u);return t+a}emissionsPerVisitInGrams(e,t=M){return Y(e*t)}annualEnergyInKwh(e,t=1e3){return e*t*12}annualEmissionsInGrams(e,t=1e3){return e*t*12}annualSegmentEnergy(e){return{consumerDeviceEnergy:Y(e*Fe),networkEnergy:Y(e*Me),dataCenterEnergy:Y(e*We),productionEnergy:Y(e*je)}}ratingScale(e){return Xe(e,this.version)}};var Ee=At,St=Object.defineProperty,Dt=Object.defineProperties,Vt=Object.getOwnPropertyDescriptors,Ue=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable,Ye=(n,e,t)=>e in n?St(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,K=(n,e)=>{for(var t in e||(e={}))Bt.call(e,t)&&Ye(n,t,e[t]);if(Ue)for(var t of Ue(e))Lt.call(e,t)&&Ye(n,t,e[t]);return n},x=(n,e)=>Dt(n,Vt(e));const{OPERATIONAL_KWH_PER_GB_DATACENTER:Gt,OPERATIONAL_KWH_PER_GB_NETWORK:Ht,OPERATIONAL_KWH_PER_GB_DEVICE:kt,EMBODIED_KWH_PER_GB_DATACENTER:Ft,EMBODIED_KWH_PER_GB_NETWORK:Mt,EMBODIED_KWH_PER_GB_DEVICE:Wt,GLOBAL_GRID_INTENSITY:$}=ze;function xe(n,e){const t=n.dataCenter+n.network+n.device,a=e.dataCenter+e.network+e.device,i=n.dataCenter+e.dataCenter,s=n.network+e.network,u=n.device+e.device;return{dataCenterOperationalCO2e:n.dataCenter,networkOperationalCO2e:n.network,consumerDeviceOperationalCO2e:n.device,dataCenterEmbodiedCO2e:e.dataCenter,networkEmbodiedCO2e:e.network,consumerDeviceEmbodiedCO2e:e.device,totalEmbodiedCO2e:a,totalOperationalCO2e:t,dataCenterCO2e:i,networkCO2e:s,consumerDeviceCO2e:u}}function qe(n,e){return n?1:e!=null&&e.greenHostingFactor||(e==null?void 0:e.greenHostingFactor)===0?e.greenHostingFactor:0}class jt{constructor(e){this.allowRatings=!0,this.options=e,this.version=4}operationalEnergyPerSegment(e){const t=e/_e.GIGABYTE,a=t*Gt,i=t*Ht,s=t*kt;return{dataCenter:a,network:i,device:s}}operationalEmissions(e,t={}){const{dataCenter:a,network:i,device:s}=this.operationalEnergyPerSegment(e);let u=$,f=$,m=$;if(t!=null&&t.gridIntensity){const{device:E,network:R,dataCenter:y}=t.gridIntensity;(E!=null&&E.value||(E==null?void 0:E.value)===0)&&(m=E.value),(R!=null&&R.value||(R==null?void 0:R.value)===0)&&(f=R.value),(y!=null&&y.value||(y==null?void 0:y.value)===0)&&(u=y.value)}const c=a*u,d=i*f,v=s*m;return{dataCenter:c,network:d,device:v}}embodiedEnergyPerSegment(e){const t=e/_e.GIGABYTE,a=t*Ft,i=t*Mt,s=t*Wt;return{dataCenter:a,network:i,device:s}}embodiedEmissions(e){const{dataCenter:t,network:a,device:i}=this.embodiedEnergyPerSegment(e),s=$,u=$,f=$,m=t*s,c=a*u,d=i*f;return{dataCenter:m,network:c,device:d}}perByte(e,t=!1,a=!1,i=!1,s={}){if(e<1)return 0;const u=this.operationalEmissions(e,s),f=this.embodiedEmissions(e),m=qe(t,s),c={dataCenter:u.dataCenter*(1-m)+f.dataCenter,network:u.network+f.network,device:u.device+f.device},d=c.dataCenter+c.network+c.device;let v=null;if(i&&(v=this.ratingScale(d)),a){const E=K({},xe(u,f));return i?x(K({},E),{total:d,rating:v}):x(K({},E),{total:d})}return i?{total:d,rating:v}:d}perVisit(e,t=!1,a=!1,i=!1,s={}){let u=1,f=0,m=0;const c=qe(t,s),d=this.operationalEmissions(e,s),v=this.embodiedEmissions(e);if(e<1)return 0;(s.firstVisitPercentage||s.firstVisitPercentage===0)&&(u=s.firstVisitPercentage),(s.returnVisitPercentage||s.returnVisitPercentage===0)&&(f=s.returnVisitPercentage),(s.dataReloadRatio||s.dataReloadRatio===0)&&(m=s.dataReloadRatio);const E=d.dataCenter*(1-c)+v.dataCenter+d.network+v.network+d.device+v.device,R=E*m,y=E*u+R*f;let P=null;if(i&&(P=this.ratingScale(y)),a){const C=x(K({},xe(d,v)),{firstVisitCO2e:E,returnVisitCO2e:R});return i?x(K({},C),{total:y,rating:P}):x(K({},C),{total:y})}return i?{total:y,rating:P}:y}ratingScale(e){return Xe(e,this.version)}}var Je=jt,Kt=Object.defineProperty,ce=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,Ze=(n,e,t)=>e in n?Kt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ne=(n,e)=>{for(var t in e||(e={}))et.call(e,t)&&Ze(n,t,e[t]);if(ce)for(var t of ce(e))tt.call(e,t)&&Ze(n,t,e[t]);return n},pe=(n,e)=>{var t={};for(var a in n)et.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&ce)for(var a of ce(n))e.indexOf(a)<0&&tt.call(n,a)&&(t[a]=n[a]);return t};class $t{constructor(e){if(this.model=new Ee,(e==null?void 0:e.model)==="1byte")this.model=new ke;else if((e==null?void 0:e.model)==="swd")this.model=new Ee,(e==null?void 0:e.version)===4&&(this.model=new Je);else if(e!=null&&e.model)throw new Error('"'.concat(e.model,`" is not a valid model. Please use "1byte" for the OneByte model, and "swd" for the Sustainable Web Design model.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`));if(e!=null&&e.rating&&typeof e.rating!="boolean")throw new Error(`The rating option must be a boolean. Please use true or false.
See https://developers.thegreenwebfoundation.org/co2js/options/ to learn more about the options available in CO2.js.`);const t=!!this.model.allowRatings;if(this._segment=(e==null?void 0:e.results)==="segment",this._rating=(e==null?void 0:e.rating)===!0,!t&&this._rating)throw new Error(`The rating system is not supported in the model you are using. Try using the Sustainable Web Design model instead.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`)}perByte(e,t=!1){return this.model.perByte(e,t,this._segment,this._rating)}perVisit(e,t=!1){var a;if((a=this.model)!=null&&a.perVisit)return this.model.perVisit(e,t,this._segment,this._rating);throw new Error(`The perVisit() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}perByteTrace(e,t=!1,a={}){const i=Qe(a,this.model.version,t),s=i,{gridIntensity:u}=s,m=pe(s,["gridIntensity"]),{dataReloadRatio:c,firstVisitPercentage:d,returnVisitPercentage:v}=m,E=pe(m,["dataReloadRatio","firstVisitPercentage","returnVisitPercentage"]);return{co2:this.model.perByte(e,t,this._segment,this._rating,i),green:t,variables:ne({description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:ne({description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate."},i.gridIntensity)},E)}}perVisitTrace(e,t=!1,a={}){var i;if((i=this.model)!=null&&i.perVisit){const s=Ct(a,this.model.version,t),u=s,{gridIntensity:f}=u,m=pe(u,["gridIntensity"]);return{co2:this.model.perVisit(e,t,this._segment,this._rating,s),green:t,variables:ne({description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:ne({description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate."},s.gridIntensity)},m)}}else throw new Error(`The perVisitTrace() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}SustainableWebDesignV3(){return new Ee}SustainableWebDesignV4(){return new Je}OneByte(){return new ke}}var Ut=$t,Yt=Object.getOwnPropertyNames,xt=(n,e)=>function(){return e||(0,n[Yt(n)[0]])((e={exports:{}}).exports,e),e.exports},qt=xt({"src/hosting-json.js"(n,e){async function t(c,d){return typeof c=="string"?a(c,d):s(c,d)}function a(c,d){return d.indexOf(c)>-1}function i(c){return Object.entries(c).filter(([E,R])=>R.green).map(([E,R])=>R.url)}function s(c,d){let v=[];for(let E of c)d.indexOf(E)>-1&&v.push(E);return v}function u(c,d){return typeof c=="string"?f(c,d):m(c,d)}function f(c,d){return d.indexOf(c)>-1?c:{url:c,green:!1}}function m(c,d){const v={};for(let E of c)v[E]=f(E,d);return v}e.exports={check:t,greenDomainsFromResults:i,find:u}}});qt();const Jt=new Ut;function Zt(n){return n.replace(/(\d+)+(\.(\d+))?\s?(k|m|g|t)?b?/i,function(e,t,a,i,s){return parseFloat(t+(a||""))*({K:1024,M:1<<20,G:1<<30,T:256}[s]||1)}).replace(/[^\d.-]/g,"")}async function zt(){await new Promise(e=>setTimeout(e,1e3));const n=document.getElementsByTagName("speedlify-score");if(n.length){const e=n[0].shadowRoot.childNodes[4].childNodes[0].firstChild.data,t=Zt(e),a=Jt.perVisit(t,!1),i=`You consume an average of ${a.toFixed(3)} grams of CO2 to view this page.`,s=`Consumi in media ${a.toFixed(3)} grammi di CO2 per visualizzare questa pagina.`;let u;document.documentElement.lang=="en"?u=i:u=s;const f=document.createTextNode(u);document.getElementsByClassName("estimatedCo2")[0].appendChild(f)}}zt();const rt=iframemanager();rt.run({currLang:document.documentElement.lang,services:{youtube:{embedUrl:"https://www.youtube-nocookie.com/embed/{data-id}",thumbnailUrl:"https://i3.ytimg.com/vi/{data-id}/hqdefault.jpg",iframe:{allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture; fullscreen;"},languages:{en:{notice:'Accept YouTube cookies to play the video.<br />Learn more about the <a rel="noreferrer noopener" href="https://www.youtube.com/t/terms">terms and conditions of youtube.com</a>',loadBtn:"Accept and load"},it:{notice:'Accetta i cookie di Youtube per riprodurre il video.<br />Scopri di più sui <a rel="noreferrer noopener" href="https://www.youtube.com/t/terms">termini e le condizioni di youtube.com</a>',loadBtn:"Accetta e carica"}}}}});rt.rejectService("all");
//# sourceMappingURL=main-bzIoMAT1.js.map
